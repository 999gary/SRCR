/*
 Copyright (C) 2008 ha55ii, http://dan-ball.jp/
 The games source code use is prohibition. <-- lol who cares
                              english/10
*/

const {webFrame} = require('electron');
const path = require('path');
const fs = require('fs');
var eZoom = 2;
webFrame.setZoomFactor(eZoom);

var saveName = "def",
    savePass,
    statCheck = 0,
    statCheck2 = 0,
    stL = 1,
    staddL = 1,

    stx = 0, //current stage you are in

    aa, ca = 0,
    da = window,
    ea = 512,
    fa = 384,
    ga = 0,
    ha, la, ma, na, oa, qa, ra, sa, ua = 0,
    va = 0,
    xa = new wa,
    Aa = new wa,
    Ba = new wa,
    Da = new wa,
    Fa = new wa,
    Ga = new wa,
    Ha, Ia,
    Ka = [0, 0, 0, 0, 0, 0, 0, 0],
    La, Ma = new wa,
    Na = new wa,
    Pa = Array(13),
    Qa = new wa,
    Ra = new wa,
    Ua = new wa,
    Va = new wa,
    Wa = new wa,
    Za = new wa,
    $a = new wa,
    cb = new wa,
    db = new wa,
    fb = new wa,
    gb = new wa,
    hb = new wa,
    ib = new wa,
    jb = new wa,
    kb = new wa,
    lb = new wa,
    f = 0,
    mb = 0,
    h = 0,
    nb = 0,
    sb = 0,
    l = 0,
    tb = 3,
    ub = !1,
    vb = 0,
    wb = 0,
    xb = 0,
    yb = [0, 0, 0, 0],
    zb = [0, 0, 0, 0],
    Ab = [0, 0, 0, 0],
    Eb = [0, 0, 0, 0],
    Fb = 0,
    Gb = 0,
    Hb = 0,
    Ib = 0,
    Jb = 0,
    Kb = 100,
    Lb = 0,
    Mb = [1, 1],
    Nb = [1, 1],
    $b = [0, 0],
    ac = [0, 0, 0, 0, 0, 0, 0, 0],
    cc = 0,
    dc = 0,
    ec = [0, 0, 0, 0, 0, 0, 0, 0],
    p = [50, 50, 50, 50, 50, 50, 50, 50],
    fc = [0, 0, 0, 0, 0, 0, 0, 0],
    gc = [0, 0, 0, 0, 0, 0, 0, 0],
    hc = [0, 0, 0, 0, 0, 0, 0, 0],
    ic = [0, 0, 0, 0, 0, 0, 0, 0],
    jc = [0, 0, 0, 0, 0, 0, 0, 0],
    kc = [50, 50, 50, 50, 50, 50, 50, 50],
    lc = [0, 0, 0, 0, 0, 0, 0, 0],
    mc = [0, 0, 0, 0, 0, 0, 0, 0],
    nc = [0, 0, 0, 0, 0, 0, 0, 0],
    oc = [0, 0, 0, 0, 0, 0, 0, 0],
    pc = [0, 0, 0, 0, 0, 0, 0, 0],
    qc = [0, 0, 0, 0, 0, 0, 0, 0],
    rc = [0, 0, 0, 0, 0, 0, 0, 0],
    tc = [0, 0, 0, 0, 0, 0, 0, 0],
    uc = [1, 1, 1, 1, 1, 1, 1, 1],
    reloadCD = [0, 0, 0, 0, 0, 0, 0, 0],
    vc = 0,
    wc = 0,
    xc = 0,
    yc = 0,
    zc = 1,
    Ac = [0, 0, 0, 0, 0, 0, 0, 0],      //AT buff percent
    Bc = [0, 0, 0, 0, 0, 0, 0, 0],      //DF buff
    Cc = [0, 0, 0, 0, 0, 0, 0, 0],      //Priest MP Aura thing
    q = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    Dc = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    Ec = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    s = 4,
    Fc = 16,
    Gc = 40,
    Hc = 41,
    Ic = 59,
    tilesets = 13, //Change this to allow the game to register extra tilesets
    Jc = "Stickman Boxer Gladiator Sniper Magician Priest Gunner Whipper Angel".split(" "),
    Kc = "123456789S".split(""),
    Lc = [
        [
            [3, 7, 11, 15, 54, 64, 68, 72, 116, 121, 131, 137, 153, 178, 202, 214, 226, 253, 312, 328, 345, 360, 394, 410, 429, 451, 471, 479, 496, 504, 512, 520, 549],
            [4, 8, 12, 16, 55, 65, 69, 73, 117, 122, 132, 138, 154, 179, 203, 215, 227, 254, 313, 329, 346, 361, 395, 411, 430, 452, 472, 480, 497, 505, 513, 521, 550],
            [5, 9, 13, 17, 56, 66, 70, 74, 118, 123, 133, 139, 155, 180, 204, 216, 228, 255, 314, 330, 347, 362, 396, 412, 431, 453, 473, 481, 498, 506, 514, 522, 551],
            [6, 10, 14, 18, 57, 67, 71, 75, 119, 124, 134, 140, 156, 181, 205, 217, 229, 256, 315, 331, 348, 363, 397, 413, 432, 454, 474, 482, 499, 507, 515, 523, 552],
            [58, 60, 61, 62, 63, 115, 126, 127, 128, 129, 135, 141, 157, 182, 206, 218, 230, 257, 316, 332, 349, 364, 398, 414, 433, 455, 475, 483, 500, 508, 516, 524, 553],
            [76, 77, 78, 79, 80, 81, 82, 83, 120, 125, 136, 142, 158, 183, 207, 219, 231, 258, 317, 333, 350, 365, 399, 415, 434, 456, 476, 484, 501, 509, 517, 525, 554],
            [188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 208, 220, 232, 259, 318, 334, 351, 366, 400, 416, 435, 457, 477, 485, 502, 510, 518, 526, 555],
            [289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 319, 335, 352, 367, 401, 417, 436, 458, 478, 486, 503, 511, 519, 527, 556]
        ],
        [
            [19, 20, 21, 22, 23, 0, 0, 0, 0],
            [24, 25, 26, 27, 28, 0, 0, 0, 0],
            [31, 32, 33, 34, 35, 36, 37, 38, 0],
            [29, 39, 40, 41, 42, 43, 44, 45, 47, 46, 341, 389, 406, 441, 459],
            [51, 52, 53, 48, 0, 0, 0, 0, 0],
            [243, 244, 245, 0, 0, 0, 0, 0, 0],
            [277, 285, 0, 0, 0, 0, 0, 0, 0]
        ],
        [
            [270, 270, 0, 0, 0, 0, 0, 0, 0],
            [271, 271, 0, 0, 0, 0, 0, 0, 0],
            [272, 272, 0, 0, 0, 0, 0, 0, 0],
            [273, 273, 0, 0, 0, 0, 0, 0, 0],
            [274, 274, 0, 0, 0, 0, 0, 0, 0],
            [275, 275, 0, 0, 0, 0, 0, 0, 0],
            [276, 276, 0, 0, 0, 0, 0, 0, 0],
            [307, 307, 0, 0, 0, 0, 0, 0, 0]
        ],
        [
            [19, 84, 143, 209, 323, 418, 20, 85, 144, 210, 324, 419, 21, 86, 145, 211, 325, 420, 22, 87, 146, 212, 326, 421, 23, 88, 147, 213, 327, 422],
            [24, 89, 148, 221, 336, 0, 25, 90, 149, 222, 337, 0, 26, 91, 150, 223, 338, 0, 27, 92, 151, 224, 339, 0, 28, 93, 152, 225, 340, 0],
            [31, 96, 161, 260, 369, 0, 32, 97, 162, 261, 370, 0, 33, 98, 163, 262, 371, 0, 34, 99, 164, 263, 372, 0, 35, 100, 165, 264, 373, 0, 36, 101, 166, 265, 374, 0, 37, 102, 167, 266, 375, 0, 38, 103, 168, 267, 376, 0],
            [39, 104, 169, 237, 353, 0, 40, 105, 170, 242, 354, 0, 41, 106, 171, 240, 355, 0, 42, 107, 172, 268, 0, 0, 43, 108, 173, 269, 356, 0, 44, 109, 174, 238, 357, 0, 45, 110, 175, 249, 0, 0, 47, 111, 176, 239, 358, 0, 46, 130, 177, 241, 359, 0, 341, 342, 343, 344, 368, 0, 389, 390, 391, 392, 393, 0, 406, 407, 408, 409, 0, 0, 459, 460, 461, 462, 463, 0],
            [385, 386, 387, 388, 0, 0, 0, 0, 0],
            [243, 244, 245, 246, 247, 248, 250, 251, 252, 320, 321, 322],
            [277, 285, 377, 279, 287, 379, 281, 308, 381, 283, 310, 0]
        ]
    ],
    Mc = 0,
    Nc = 1,
    Oc = 2,
    Pc = 3,
    Qc = 4,
    Rc = 5,
    Sc = 6,
    Tc = 10,
    Uc = 11,
    Vc = 12,
    Wc = 14,
    Xc = 15,
    Yc = 16,
    Zc = 19,
    $c = 34,
    ad = 35,
    bd = 36,
    cd = 37,
    dd = 39,
    ed = 40,
    fd = 44,
    hd = 7,
    t = 8,
    id = 9,
    jd = 10,
    kd = 11,
    ld = 1,
    md = 2,
    nd = 3,
    od = 4,
    pd = 5,
    qd = 6,
    rd = 7,
    sd = 8,
    td = 9,
    ud = 10,
    vd = 11,
    wd = 12,
    xd = 37,
    yd = 13,
    zd = 14,
    Ad = 15,
    Bd = 16,
    Cd = 17,
    Dd = 18,
    Ed = 19,
    Fd = 20,
    Gd = 21,
    Hd = 22,
    Id = 23,
    Jd = 24,
    Kd = 25,
    Ld = 26,
    Md = 27,
    Nd = 28,
    Od = 29,
    Pd = 32,
    Qd = 33,
    Rd = 34,
    Sd = 35,
    Td = 36,
    Ud = 38,
    Vd = 39,
    Wd = 40,
    Xd = 41,
    Yd = 42,
    Zd = 43,
    $d = 44,
    ae = 45,
    be = 46,
    ce = 47,
    de = 48,
    ee = 49,
    u = Array(564);
//Generates a list of dummy items to prevent the game from crashing, temporary fix
for (var i = 0; i < u.length; i++) {
    u[i] = ["NONE", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
}
u[0] = ["NONE", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
u[59] = ["NG", 0, 0, 13, 12, 9, 4287137928, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
u[1] = ["gold", 0, 0, 1, 0, 0, 4294967295, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
u[2] = ["onigiri", 0, 0, 2, 0, 0, 4294967295, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
//Weapons
u[3] = ["glove", 0, 100, 3, 2, 1, 4284901119, 1, 0, 0, 1, 3, 0, 0, 15, 20, 15, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
u[4] = ["sword", 0, 100, 4, 3, 2, 4287137928, 1, 0, 0, 1, 5, 0, 0, 20, 30, 30, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
u[5] = ["bow", 0, 100, 5, 4, 3, 4294954086, 1, 4, 0, 2, 3, 1, 100, 30, 40, 90, 1, 3, 4294954086, 1, 16, 16, 8, 8, 0, 0, 300, 10, 5, 100, 0, 0, 0, 0, 0, 0, 0];
u[6] = ["magic", 0, 100, 6, 5, 4, 4278255615, 1, 3, 0, 500, 1000, 1, 30, 80, 90, 90, 0, 2, 4278225151, 1, 16, 16, 8, 8, 0, 0, 300, 10, 0, 100, 0, 0, 0, 0, 0, 0, 0];
u[58] = ["staff", 0, 100, 12, 11, 5, 4288217343, 1, 6, 0, 1, 2, 1, 0, 80, 90, 70, 0, 15, 4291598847, 2, 24, 24, 24, 24, 0, 0, 100, 40, 0, 100, 0, 0, 0, 0, 0, 5, 0];
u[76] = ["gun", 0, 100, 14, 13, 6, 4288256409, 1, 3, 0, 8, 12, 1, 30, 20, 30, 60, 1, 17, 4288256409, 1, 16, 16, 8, 8, 0, 0, 50, 10, 0, 100, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10, 100];
u[188] = ["whip", 0, 100, 15, 35, 7, 4294936576, 1, 0, 0, 1, 4, 0, 0, 15, 20, 40, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
u[289] = ["ring", 0, 100, 18, 41, 8, 4291611852, 25, 0, 0, 2, 3, 0, 0, 20, 30, 60, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
//My new weapons begin here (RandomMcSomethin/Mr. Flosty/BootlegDarkBlaze):
//Slash Glove 1: 1-3 damage, fires off physical projectiles from double the range of most gloves (and shouldn't require MP to do so) and at a slower rate
//This weapon mostly provides a 'safer, less damage' approach to a boxer weapon
u[7] = ["slash glove",1,500,3,2,1,4282681429,0,3,0,1,3,1,5,14,21,30,1,26,4291624874,1,16,16,8,8,0,15,20,5,0,101,0,0,50,0,0,-1,0,0,0,0,0,0,0,0,1,16,16,16,16,0,0,0,0,0,100,0,0];
//Triple Sword 1: 5-10 damage, fires off three nigh-stationary sword attacks each dealing 5-10 damage at a cost of 15 MP
//This weapon is a physical-magical weapon that may need balancing damage-wise, but the one arrows won't necessarily hit the target each time
u[8] = ["triple sword",1,500,4,3,2,4292726015,0,7,1,5,10,3,5,20,30,30,1,27,4292726015,1,16,32,8,16,25,5,10,5,0,90,1,0,0,0,10,15,0,0,5,10,3,0,0,0,1,16,16,16,16,0,0,0,0,0,100,0,0];
//Snipe Shot 1: 5-10 damage, fires off a single arrow with higher-than usual gravity
//High AGI, high range, and moderate damage make this weapon a fairly safe option
u[9] = ["snipe shot",1,500,5,4,3,4289344273,0,4,0,5,10,1,80,80,100,135,1,3,4289352994,1,16,16,8,8,0,50,200,50,6,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,16,16,16,16,0,0,0,0,0,100,0,0];
//Spark Barrage 1: 1-3 thunder damage, fires off five bolts from around the magician
//Not much to say here, but it excels mostly in deadling damage to single targets
u[10] = ["spark barrage",1,500,6,5,4,4294954018,0,5,0,1,3,5,1,80,90,90,1,10,4294958370,2,16,16,8,8,25,5,30,5,0,110,0,0,0,3,0,0,0,0,1,3,1,1,10,4294958370,1,16,16,8,8,0,5,30,5,0,110,0,0];
//Twin Cracker 1: 1-4 fire damage (10% burn rate), fires off two flares that explode into three one arrows like Freeze Explosion 6, dealing 1-3 fire damage each
//Someone had to do the whip, this one's decent at crowd control
u[11] = ["twin cracker",1,500,15,35,7,4293805090,0,10,0,1,4,2,10,15,20,40,1,15,4294958472,2,16,16,8,8,25,5,1000,5,3,100,0,0,0,1,25,10,3,1,1,3,3,1,4,4294945314,2,8,32,8,16,0,9,50,5,0,10,0,0];
//Matrix Ring 1: 3-4 damage, damages enemies across time and space via manipulation of the matrix (and by that, I mean it fires off a shock that descends and eventually deals splash damage to enemies at the cost of 10 MP)
//Essentially an alternate version of Fire Ring 1 that focuses on spreading out damage across multiple enemies
u[12] = ["matrix ring",1,500,18,41,8,4278255360,25,1,1,3,4,1,0,20,30,60,0,14,4278255360,1,32,16,8,8,0,49,50,30,1,100,0,1,0,0,0,10,0,1,3,4,3,1,4,4294945314,2,8,32,8,16,0,9,50,5,0,10,0,0]
//My new weapon proposals end here, ~RandomMcSomethin/Mr. Flosty/BootlegDarkBlaze
u[13] = ["Staff of Damage",1,0,12,11,5,4289667618,0,6,0,10,10,1,0,20,30,80,0,15,4289929762,2,16,16,16,16,0,0,40,10,0,100,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1,16,16,16,16,0,0,0,0,0,100,0,0];
u[14] = ["Ball Blaster",1,0,14,32,6,4285936162,0,3,0,12,16,1,60,80,90,80,0,2,4282598211,1,12,12,10,10,0,0,25,10,0,100,0,0,0,0,0,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,120];
//-Lightning Lord

//im gonna make weapons...
//-Marcossanches
//If some weapon is unbalanced, fell free to balance it out as you want.
u[15] = ["arrow glove",1,750,3,2,1,4282664004,0,3,0,5,8,3,60,12,22,15,1,3,4282664004,2,16,16,8,8,0,20,50,10,0,77,1,0,0,0,0,40,0,0,7,10,0,0,0,0,1,16,16,16,16,0,0,0,0,0,100,0,0];
u[16] = ["chill sword",1,500,4,3,2,4289374975,0,109,0,10,15,1,0.50,20,30,30,0,7,4289374975,1,8,8,6,6,0,0,50,10,0,100,0,0,0,2,25,20,0,0,2,3,12,0,0,0,1,16,16,16,16,0,0,0,0,0,100,0,0];
u[17] = ["triple fire",1,500,6,5,4,4294919202,0,204,0,4,10,3,80,80,90,90,1,5,4294919202,2,16,24,8,8,5,0,200,10,3,100,1,0,0,1,40,0,0,0,0,0,0,0,0,0,1,16,16,16,16,0,0,0,0,0,100,0,0];
u[18] = ["rapid reload",1,500,14,61,6,4286028219,0,3,0,7,14,1,40,10,15,60,1,17,4286028219,1,16,16,6,6,0,0,90,10,0,100,0,0,0,0,0,3,0,0,0,0,0,0,0,0,1,16,16,16,16,0,0,0,0,0,100,0,0,7,35];
//Compo Items
u[19] = ["White Stone", 1, 400, 7, 6, 9, 4294967295, ld, 50, 0, "Max LP +50", ""];
u[20] = ["Red Stone", 1, 400, 7, 6, 9, 4294914867, md, 5, 0, "STR +5", ""];
u[21] = ["Green Stone", 1, 400, 7, 6, 9, 4281597747, nd, 5, 0, "DEX +5", ""];
u[22] = ["Blue Stone", 1, 400, 7, 6, 9, 4281545727, od, 5, 0, "MAG +5", ""];
u[23] = ["Black Stone", 1, 400, 7, 6, 9, 4284900966, pd, 2, 0, "STR DEX MAG +2", ""];
u[24] = ["Red Crystal", 1, 1200, 8, 7, 9, 4294936712, qd, 1, 3, "AT +(1-3)", ""];
u[25] = ["Yellow Crystal", 1, 1200, 8, 7, 9, 4294967176, rd, 20, 0, "AT +20%", ""];
u[26] = ["Silver Crystal", 1, 1200, 8, 7, 9, 4291611852, sd, 1, 0, "+1 Physical", "Defense"];
u[27] = ["Purple Crystal", 1, 1200, 8, 7, 9, 4291598847, td, 10, 0, "10% Magical", "Defense"];
u[28] = ["Black Crystal", 1, 1200, 8, 7, 9, 4284900966, ud, 10, 0, "10% Attack", "Block Rate"];
u[29] = ["Vampire's Card", 1, 4E3, 10, 9, 9, 4288217088, vd, 3, 0, "3% LP recovery", "per damage"];
u[30] = ["ONIGIRI's Card", 1, 8E3, 10, 9, 9, 4294967295, wd, 5, 0, "5% chance of", "ONIGIRI drop per hit"];
u[31] = ["Ruby", 1, 2E3, 9, 8, 9, 4294901760, yd, 1, 2, "Add 1-2 fire", "damage"];
u[32] = ["Garnet", 1, 2E3, 9, 8, 9, 4294914867, zd, 20, 0, "+0.4s Fire Length", ""];
u[33] = ["Sapphire", 1, 2E3, 9, 8, 9, 4284914175, Ad, 3, 5, "Add 3-5 ice", "damage"];
u[34] = ["Aquamarine", 1, 2E3, 9, 8, 9, 4284927231, Bd, 5, 0, "+5% Cold effect", ""];
u[35] = ["Topaz", 1, 2E3, 9, 8, 9, 4294954035, Cd, 0, 4, "Add 0-4 thunder", "damage"];
u[36] = ["Emerald", 1, 2E3, 9, 8, 9, 4281597747, Dd, 0, 1, "Add 0-1 poison", "damage"];
u[37] = ["Peridot", 1, 2E3, 9, 8, 9, 4288282419, Ed, 50, 0, "+1s Poison Length", ""];
u[38] = ["Diamond", 1, 4E3, 9, 8, 9, 4294967295, Fd, 5, 0, "+0.1s Freeze Length", ""];
u[39] = ["Quick's Card", 1, 4E3, 10, 46, 9, 4287124736, Gd, 10, 0, "-10% Limit AGI", ""];
u[40] = ["Long Sword's Card", 1, 4E3, 10, 47, 9, 4281545523, Hd, 5, 0, "+5 Length of sword", ""];
u[41] = ["Catapult's Card", 1, 4E3, 10, 48, 9, 4284887808, Id, 20, 0, "+20 Length", ""];
u[42] = ["Pierce's Card", 1, 4E3, 10, 49, 9, 4291611903, Jd, 25, 0, "25% chance of", "penetrate"];
u[43] = ["Guide's Card", 1, 4E3, 10, 50, 9, 4288282521, Kd, 10, 0, "+10 guide length", ""];
u[44] = ["Bullet's Card", 1, 4E3, 10, 51, 9, 4281545523, Ld, 1, 0, "+1 bullet", ""];
u[45] = ["Explosion's Card", 1, 4E3, 10, 52, 9, 4294940928, Md, 25, 0, "25% chance of", "Explosion damage"];
u[47] = ["Critical's Card", 1, 4E3, 10, 53, 9, 4294967142, Od, 25, 100, "25% chance of", "AT +100%"];
u[46] = ["Berserk Card", 1, 4E3, 10, 54, 9, 4291559424, Nd, 50, 50, "AT +50%", "DF -50%"];
u[341] = ["Big Card", 1, 4E3, 10, 55, 9, 4293848814, Yd, 50, 0, "50% Attack range", ""];
u[51] = ["Bronze Medal", 1, 2E3, 11, 10, 9, 4292708369, Qd, 10, 0, "+10% Drop rate", ""];
u[52] = ["Silver Medal", 1, 2E3, 11, 10, 9, 4291611852, Rd, 10, 0, "+10% ONIGIRI Drop", ""];
u[53] = ["Gold Medal", 1, 2E3, 11, 10, 9, 4294958336, Sd, 10, 0, "+10% Gold UP", ""];
u[48] = ["Iron Medal", 1, 2E3, 11, 10, 9, 4284900966, Td, 10, 0, "+10% EXP UP", ""];
u[243] = ["Ice Charm", 1, 2E3, 16, 39, 9, 4284927231, Ud, 50, 0, "50% Ice invalid", ""];
u[244] = ["Poison Charm", 1, 2E3, 16, 39, 9, 4288282419, Vd, 50, 0, "50% Poison invalid", ""];
u[245] = ["Freeze Charm", 1, 2E3, 16, 39, 9, 4294967295, Wd, 50, 0, "50% Freeze invalid", ""];
u[50] = ["", 0, 4E3, 10, 9, 9, 4294967295, 0, 0, 0, "", ""];
u[84] = ["White Stone", 2, 800, 7, 6, 9, 4294967295, ld, 100, 0, "LP +100", ""];
u[85] = ["Red Stone", 2, 800, 7, 6, 9, 4294914867, md, 10, 0, "str +10", ""];
u[86] = ["Green Stone", 2, 800, 7, 6, 9, 4281597747, nd, 10, 0, "dex +10", ""];
u[87] = ["Blue Stone", 2, 800, 7, 6, 9, 4281545727, od, 10, 0, "mag +10", ""];
u[88] = ["Black Stone", 2, 800, 7, 6, 9, 4284900966, pd, 4, 0, "str dex mag +4", ""];
u[89] = ["Red Crystal", 2, 2400, 8, 7, 9, 4294936712, qd, 2, 6, "AT +(2-6)", ""];
u[90] = ["Yellow Crystal", 2, 2400, 8, 7, 9, 4294967176, rd, 30, 0, "AT +30%", ""];
u[91] = ["Silver Crystal", 2, 2400, 8, 7, 9, 4291611852, sd, 3, 0, "Defense +3", ""];
u[92] = ["Purple Crystal", 2, 2400, 8, 7, 9, 4291598847, td, 20, 0, "Magic Defense 20%", ""];
u[93] = ["Black Crystal", 2, 2400, 8, 7, 9, 4284900966, ud, 20, 0, "Block rate 20%", ""];
u[94] = ["Vampire's Card", 3, 8E3, 10, 9, 9, 4288217088, vd, 4, 0, "4% LP recovery", "per damage"];
u[95] = ["Gold rush Card", 1, 16E3, 10, 9, 9, 4294967040, xd, 5, 0, "5% chance of", "GOLD drop per hit"];
u[96] = ["Ruby", 2, 4E3, 9, 8, 9, 4294901760, yd, 3, 4, "Add 3-4 fire", "damage"];
u[97] = ["Garnet", 2, 4E3, 9, 8, 9, 4294914867, zd, 30, 0, "+0.6s Fire Length", ""];
u[98] = ["Sapphire", 2, 4E3, 9, 8, 9, 4284914175, Ad, 6, 10, "Add 6-10 ice", "damage"];
u[99] = ["Aquamarine", 2, 4E3, 9, 8, 9, 4284927231, Bd, 10, 0, "+10% Cold effect", ""];
u[100] = ["Topaz", 2, 4E3, 9, 8, 9, 4294954035, Cd, 0, 9, "Add 0-9 thunder", "damage"];
u[101] = ["Emerald", 2, 4E3, 9, 8, 9, 4281597747, Dd, 1, 1, "Add 1-1 poison", "damage"];
u[102] = ["Peridot", 2, 4E3, 9, 8, 9, 4288282419, Ed, 100, 0, "+2s Poison Length", ""];
u[103] = ["Diamond", 2, 4E3, 9, 8, 9, 4294967295, Fd, 10, 0, "+0.2s Freeze Length", ""];
u[104] = ["Quick's Card", 2, 8E3, 10, 46, 9, 4287124736, Gd, 20, 0, "-20% Limit AGI", ""];
u[105] = ["Long Sword's Card", 2, 8E3, 10, 47, 9, 4281545523, Hd, 8, 0, "+8 Length of sword", ""];
u[106] = ["Catapult's Card", 2, 8E3, 10, 48, 9, 4284887808, Id, 40, 0, "+40 Length", ""];
u[107] = ["Pierce's Card", 2, 8E3, 10, 49, 9, 4291611903, Jd, 50, 0, "50% chance of", "penetrate"];
u[108] = ["Guide's Card", 2, 8E3, 10, 50, 9, 4288282521, Kd, 20, 0, "+20 guide length", ""];
u[109] = ["Bullet's Card", 2, 8E3, 10, 51, 9, 4281545523, Ld, 2, 0, "+2 bullet", ""];
u[110] = ["Explosion's Card", 2, 8E3, 10, 52, 9, 4294940928, Md, 50, 0, "50% chance of", "Explosion damage"];
u[111] = ["Critical's Card", 2, 8E3, 10, 53, 9, 4294967142, Od, 25, 150, "25% chance of", "AT +150%"];
u[130] = ["Berserk Card", 2, 8E3, 10, 54, 9, 4291559424, Nd, 100, 100, "AT +100%", "DF -100%"];
u[342] = ["Big Card", 2, 8E3, 10, 55, 9, 4293848814, Yd, 100, 0, "100% Attack range", ""];
u[112] = ["Bronze Medal", 2, 4E3, 11, 10, 9, 4292708369, Qd, 20, 0, "+20% Drop rate", ""];
u[113] = ["Silver Medal", 2, 4E3, 11, 10, 9, 4291611852, Rd, 20, 0, "+20% ONIGIRI Drop", ""];
u[114] = ["Gold Medal", 2, 4E3, 11, 10, 9, 4294958336, Sd, 20, 0, "+20% Gold UP", ""];
u[49] = ["Iron Medal", 2, 4E3, 11, 10, 9, 4284900966, Td, 20, 0, "+20% EXP UP", ""];
u[246] = ["Ice Charm", 2, 4E3, 16, 39, 9, 4284927231, Ud, 80, 0, "80% Ice invalid", ""];
u[247] = ["Poison Charm", 2, 4E3, 16, 39, 9, 4288282419, Vd, 80, 0, "80% Poison invalid", ""];
u[248] = ["Freeze Charm", 2, 4E3, 16, 39, 9, 4294967295, Wd, 80, 0, "80% Freeze invalid", ""];
u[143] = ["White Stone", 3, 1200, 7, 6, 9, 4294967295, ld, 150, 0, "LP +150", ""];
u[144] = ["Red Stone", 3, 1200, 7, 6, 9, 4294914867, md, 15, 0, "str +15", ""];
u[145] = ["Green Stone", 3, 1200, 7, 6, 9, 4281597747, nd, 15, 0, "dex +15", ""];
u[146] = ["Blue Stone", 3, 1200, 7, 6, 9, 4281545727, od, 15, 0, "mag +15", ""];
u[147] = ["Black Stone", 3, 1200, 7, 6, 9, 4284900966, pd, 6, 0, "str dex mag +6", ""];
u[148] = ["Red Crystal", 3, 3600, 8, 7, 9, 4294936712, qd, 3, 9, "AT +(3-9)", ""];
u[149] = ["Yellow Crystal", 3, 3600, 8, 7, 9, 4294967176, rd, 40, 0, "AT +40%", ""];
u[150] = ["Silver Crystal", 3, 3600, 8, 7, 9, 4291611852, sd, 6, 0, "Defense +6", ""];
u[151] = ["Purple Crystal", 3, 3600, 8, 7, 9, 4291598847, td, 30, 0, "Magic Defense 30%", ""];
u[152] = ["Black Crystal", 3, 3600, 8, 7, 9, 4284900966, ud, 30, 0, "Block rate 30%", ""];
u[159] = ["Vampire's Card", 4, 12E3, 10, 9, 9, 4288217088, vd, 5, 0, "5% LP recovery", "per damage"];
u[160] = ["Zombie's Card", 4, 24E3, 10, 9, 9, 4281532518, Pd, 50, 100, "LP +50% ", "-100% Fire damage"];
u[161] = ["Ruby", 3, 6E3, 9, 8, 9, 4294901760, yd, 5, 6, "Add 5-6 fire", "damage"];
u[162] = ["Garnet", 3, 6E3, 9, 8, 9, 4294914867, zd, 40, 0, "+0.8s Fire Length", ""];
u[163] = ["Sapphire", 3, 6E3, 9, 8, 9, 4284914175, Ad, 9, 15, "Add 9-15 ice", "damage"];
u[164] = ["Aquamarine", 3, 6E3, 9, 8, 9, 4284927231, Bd, 15, 0, "+15% Cold effect", ""];
u[165] = ["Topaz", 3, 6E3, 9, 8, 9, 4294954035, Cd, 0, 15, "Add 0-15 thunder", "damage"];
u[166] = ["Emerald", 3, 6E3, 9, 8, 9, 4281597747, Dd, 1, 2, "Add 1-2 poison", "damage"];
u[167] = ["Peridot", 3, 6E3, 9, 8, 9, 4288282419, Ed, 150, 0, "+3s Poison Length", ""];
u[168] = ["Diamond", 3, 6E3, 9, 8, 9, 4294967295, Fd, 15, 0, "+0.3s Freeze Length", ""];
u[169] = ["Quick's Card", 3, 12E3, 10, 46, 9, 4287124736, Gd, 30, 0, "-30% Limit AGI", ""];
u[170] = ["Long Sword's Card", 3, 12E3, 10, 47, 9, 4281545523, Hd, 10, 0, "+10 Length of sword", ""];
u[171] = ["Catapult's Card", 3, 12E3, 10, 48, 9, 4284887808, Id, 60, 0, "+60 Length", ""];
u[172] = ["Pierce's Card", 3, 12E3, 10, 49, 9, 4291611903, Jd, 75, 0, "75% chance of", "penetrate"];
u[173] = ["Guide's Card", 3, 12E3, 10, 50, 9, 4288282521, Kd, 30, 0, "+30 guide length", ""];
u[174] = ["Bullet's Card", 3, 12E3, 10, 51, 9, 4281545523, Ld, 0, 75, "+75% bullet", ""];
u[175] = ["Explosion's Card", 3, 12E3, 10, 52, 9, 4294940928, Md, 75, 0, "75% chance of", "Explosion damage"];
u[176] = ["Critical's Card", 3, 12E3, 10, 53, 9, 4294967142, Od, 25, 200, "25% chance of", "AT +200%"];
u[177] = ["Berserk Card", 3, 12E3, 10, 54, 9, 4291559424, Nd, 150, 150, "AT +150%", "DF -150%"];
u[343] = ["Big Card", 3, 12E3, 10, 55, 9, 4293848814, Yd, 150, 0, "150% Attack range", ""];
u[184] = ["Bronze Medal", 3, 6E3, 11, 10, 9, 4292708369, Qd, 30, 0, "+30% Drop rate", ""];
u[185] = ["Silver Medal", 3, 6E3, 11, 10, 9, 4291611852, Rd, 30, 0, "+30% ONIGIRI Drop", ""];
u[186] = ["Gold Medal", 3, 6E3, 11, 10, 9, 4294958336, Sd, 30, 0, "+30% Gold UP", ""];
u[187] = ["Iron Medal", 3, 6E3, 11, 10, 9, 4284900966, Td, 30, 0, "+30% EXP UP", ""];
u[250] = ["Ice Charm", 3, 6E3, 16, 39, 9, 4284927231, Ud, 90, 0, "90% Ice invalid", ""];
u[251] = ["Poison Charm", 3, 6E3, 16, 39, 9, 4288282419, Vd, 90, 0, "90% Poison invalid", ""];
u[252] = ["Freeze Charm", 3, 6E3, 16, 39, 9, 4294967295, Wd, 90, 0, "90% Freeze invalid", ""];
u[209] = ["White Stone", 4, 1600, 7, 6, 9, 4294967295, ld, 200, 0, "LP +200", ""];
u[210] = ["Red Stone", 4, 1600, 7, 6, 9, 4294914867, md, 20, 0, "str +20", ""];
u[211] = ["Green Stone", 4, 1600, 7, 6, 9, 4281597747, nd, 20, 0, "dex +20", ""];
u[212] = ["Blue Stone", 4, 1600, 7, 6, 9, 4281545727, od, 20, 0, "mag +20", ""];
u[213] = ["Black Stone", 4, 1600, 7, 6, 9, 4284900966, pd, 8, 0, "str dex mag +8", ""];
u[221] = ["Red Crystal", 4, 4800, 8, 7, 9, 4294936712, qd, 4, 12, "AT +(4-12)", ""];
u[222] = ["Yellow Crystal", 4, 4800, 8, 7, 9, 4294967176, rd, 50, 0, "AT +50%", ""];
u[223] = ["Silver Crystal", 4, 4800, 8, 7, 9, 4291611852, sd, 9, 0, "Defense +9", ""];
u[224] = ["Purple Crystal", 4, 4800, 8, 7, 9, 4291598847, td, 40, 0, "Magic Defense 40%", ""];
u[225] = ["Black Crystal", 4, 4800, 8, 7, 9, 4284900966, ud, 40, 0, "Block rate 40%", ""];
u[260] = ["Ruby", 4, 8E3, 9, 8, 9, 4294901760, yd, 6, 9, "Add 6-9 fire", "damage"];
u[261] = ["Garnet", 4, 8E3, 9, 8, 9, 4294914867, zd, 55, 0, "+1.1s Fire Length", ""];
u[262] = ["Sapphire", 4, 8E3, 9, 8, 9, 4284914175, Ad, 12, 20, "Add 12-20 ice", "damage"];
u[263] = ["Aquamarine", 4, 8E3, 9, 8, 9, 4284927231, Bd, 20, 0, "+20% Cold effect", ""];
u[264] = ["Topaz", 4, 8E3, 9, 8, 9, 4294954035, Cd, 0, 22, "Add 0-22 thunder", "damage"];
u[265] = ["Emerald", 4, 8E3, 9, 8, 9, 4281597747, Dd, 2, 2, "Add 2-2 poison", "damage"];
u[266] = ["Peridot", 4, 8E3, 9, 8, 9, 4288282419, Ed, 200, 0, "+4s Poison Length", ""];
u[267] = ["Diamond", 4, 8E3, 9, 8, 9, 4294967295, Fd, 20, 0, "+0.4s Freeze Length", ""];
u[237] = ["Quick's Card", 4, 16E3, 10, 46, 9, 4287124736, Gd, 40, 0, "-40% Limit AGI", ""];
u[242] = ["Long Sword's Card", 4, 16E3, 10, 47, 9, 4281545523, Hd, 12, 0, "+12 Length of sword", ""];
u[240] = ["Catapult's Card", 4, 16E3, 10, 48, 9, 4284887808, Id, 80, 0, "+80 Length", ""];
u[268] = ["Pierce's Card", 4, 16E3, 10, 49, 9, 4291611903, Jd, 100, 0, "100% chance of", "penetrate"];
u[269] = ["Guide's Card", 4, 16E3, 10, 50, 9, 4288282521, Kd, 40, 0, "+40 guide length", ""];
u[238] = ["Bullet's Card", 4, 16E3, 10, 51, 9, 4281545523, Ld, 0, 100, "+100% bullet", ""];
u[249] = ["Explosion's Card", 4, 16E3, 10, 52, 9, 4294940928, Md, 100, 0, "100% chance of", "Explosion damage"];
u[239] = ["Critical's Card", 4, 16E3, 10, 53, 9, 4294967142, Od, 25, 300, "25% chance of", "AT +300%"];
u[241] = ["Berserk Card", 4, 16E3, 10, 54, 9, 4291559424, Nd, 200, 200, "AT +200%", "DF -200%"];
u[344] = ["Big Card", 4, 16E3, 10, 55, 9, 4293848814, Yd, 200, 0, "200% Attack range", ""];
u[233] = ["Bronze Medal", 4, 8E3, 11, 10, 9, 4292708369, Qd, 40, 0, "+40% Drop rate", ""];
u[234] = ["Silver Medal", 4, 8E3, 11, 10, 9, 4291611852, Rd, 40, 0, "+40% ONIGIRI Drop", ""];
u[235] = ["Gold Medal", 4, 8E3, 11, 10, 9, 4294958336, Sd, 40, 0, "+40% Gold UP", ""];
u[236] = ["Iron Medal", 4, 8E3, 11, 10, 9, 4284900966, Td, 40, 0, "+40% EXP UP", ""];
u[320] = ["Ice Charm", 4, 8E3, 16, 39, 9, 4284927231, Ud, 95, 0, "95% Ice invalid", ""];
u[321] = ["Poison Charm", 4, 8E3, 16, 39, 9, 4288282419, Vd, 95, 0, "95% Poison invalid", ""];
u[322] = ["Freeze Charm", 4, 8E3, 16, 39, 9, 4294967295, Wd, 95, 0, "95% Freeze invalid", ""];
u[277] = ["Fire Spirit", 1, 4E3, 17, 40, 9, 4294919202, Xd, 100, 278, "100% enemy dies", "Fire"];
u[279] = ["Fire Spirit", 2, 8E3, 17, 40, 9, 4294919202, Xd, 10, 280, "10% enemy dies", "Fire explosion"];
u[281] = ["Fire Spirit", 3, 12E3, 17, 40, 9, 4294919202, Xd, 10, 282, "10% enemy dies", "Flame"];
u[283] = ["Fire Spirit", 4, 16E3, 17, 40, 9, 4294919202, Xd, 10, 284, "10% enemy dies", "Atomic ray"];
u[278] = ["Fire Spirit", 0, 0, 0, 0, 0, 0, 1, 109, 0, 5, 15, 3, 1, 0, 0, 0, 1, 6, 4294927889, 2, 16, 16, 16, 16, 0, 0, 100, 10, 0, 90, 1, 0, 0, 1, 50, 0, 0];
u[280] = ["Fire Spirit", 0, 0, 0, 0, 0, 0, 1, 109, 0, 30, 50, 16, 2, 0, 0, 0, 1, 6, 4294927889, 2, 16, 16, 16, 16, 0, 0, 150, 30, 0, 95, 1, 0, 0, 1, 50, 0, 0];
u[282] = ["Fire Spirit", 0, 0, 0, 0, 0, 0, 1, 204, 0, 30, 50, 16, 40, 0, 0, 0, 1, 6, 2298439185, 2, 16, 20, 12, 12, 50, 0, 100, 10, -1, 99, 1, 0, 0, 1, 50, 0, 0];
u[284] = ["Fire Spirit", 0, 0, 0, 0, 0, 0, 1, 109, 0, 60, 100, 4, 2, 0, 0, 0, 1, 18, 4294927889, 2, 12, 20, 16, 16, 0, 0, 1E3, 10, 0, 100, 0, 2, 0, 1, 80, 0, 0];
u[285] = ["Thunder Spirit", 1, 4E3, 17, 40, 9, 4293848576, Xd, 50, 286, "50% enemy dies", "Thunder"];
u[287] = ["Thunder Spirit", 2, 8E3, 17, 40, 9, 4293848576, Xd, 10, 288, "10% enemy dies", "Lightning"];
u[308] = ["Thunder Spirit", 3, 12E3, 17, 40, 9, 4293848576, Xd, 10, 309, "10% enemy dies", "Big Thunder"];
u[310] = ["Thunder Spirit", 4, 16E3, 17, 40, 9, 4293848576, Xd, 5, 311, "5% enemy dies", "Thunder Ball"];
u[286] = ["Thunder Spirit", 0, 0, 0, 0, 0, 0, 1, 105, 0, 1, 99, 1, 5, 0, 0, 0, 1, 10, 4294967142, 2, 16, 16, 16, 16, 0, 0, 200, 10, 0, 100, 0, 0, 0, 3, 0, 0, 0];
u[288] = ["Thunder Spirit", 0, 0, 0, 0, 0, 0, 1, 2, 0, 1, 99, 10, 20, 0, 0, 0, 1, 10, 2291767807, 2, 12, 16, 8, 8, 10, 0, 500, 10, 0, 100, 0, 0, 0, 3, 0, 0, 0];
u[309] = ["Thunder Spirit", 0, 0, 0, 0, 0, 0, 1, 108, 1, 1, 333, 1, 0, 0, 0, 0, 1, 10, 4294967142, 2, 64, 64, 64, 64, 0, 25, 26, 10, 50, 100, 0, 1, 0, 3, 0, 0, 0];
u[311] = ["Thunder Spirit", 0, 0, 0, 0, 0, 0, 1, 105, 0, 1, 9999, 1, 4, 0, 0, 0, 1, 2, 4294967142, 2, 16, 16, 16, 16, 0, 0, 200, 10, 0, 100, 0, 0, 0, 3, 0, 0, 2, 0, 1, 9, 30, 0, 15, 4294967142, 1, 16, 16, 8, 8, 0, 0, 50, 10, 0, 0, 0, 0];
u[377] = ["Ice Spirit", 1, 4E3, 17, 40, 9, 4284927231, Xd, 50, 378, "50% enemy dies", "Freeze arrow"];
u[379] = ["Ice Spirit", 2, 8E3, 17, 40, 9, 4284927231, Xd, 20, 380, "20% enemy dies", "Ice mist"];
u[381] = ["Ice Spirit", 3, 12E3, 17, 40, 9, 4284927231, Xd, 20, 382, "20% enemy dies", "Freeze spike"];
u[383] = ["Ice Spirit", 4, 2E4, 17, 40, 9, 4284927231, Xd, 40, 384, "40% enemy dies", "Ice meteor"];
u[378] = ["Ice Spirit", 0, 0, 0, 0, 0, 0, 1, 109, 0, 25, 50, 4, 1, 0, 0, 0, 1, 3, 4291611903, 2, 16, 16, 8, 8, 0, 25, 2E3, 10, 0, 100, 0, 2, 0, 5, 50, 0, 0];
u[380] = ["Ice Spirit", 0, 0, 0, 0, 0, 0, 1, 2404, 1, 5, 5, 9, 50, 0, 0, 0, 0, 6, 1154272511, 2, 32, 32, 48, 48, 0, 50, 51, 10, 2, 95, 0, 1, 0, 2, 40, 0, 0];
u[382] = ["Ice Spirit", 0, 0, 0, 0, 0, 0, 1, 4, 0, 5, 5, 25, 100, 0, 0, 0, 1, 9, 3435973887, 2, 12, 12, 6, 6, 0, 25, 200, 10, 5, 100, 0, 0, 0, 5, 20, 0, 0];
u[384] = ["Ice Spirit", 0, 0, 0, 0, 0, 0, 1, 105, 0, 100, 150, 1, 5, 0, 0, 0, 1, 16, 4291611903, 2, 16, 16, 8, 8, 0, 0, 100, 10, 0, 100, 0, 0, 0, 2, 20, 0, 4, 0, 10, 15, 9, 1, 16, 3431500031, 2, 12, 12, 6, 6, 0, 10, 100, 10, 5, 100, 0, 0];
u[404] = ["Poison Spirit", 4, 2E4, 17, 40, 9, 4278255360, Xd, 60, 405, "60% enemy dies", "Poison"];
u[405] = ["Poison Spirit", 0, 0, 0, 0, 0, 0, 1, 109, 1, 1, 1, 6, 1, 0, 0, 0, 0, 6, 1147600640, 2, 24, 24, 32, 32, 0, 50, 51, 10, 0, 88, 0, 1, 0, 4, 1E3, 0, 0];
u[323] = ["White Stone", 5, 2E3, 7, 6, 9, 4294967295, ld, 300, 0, "LP +300", ""];
u[324] = ["Red Stone", 5, 2E3, 7, 6, 9, 4294914867, md, 25, 0, "str +25", ""];
u[325] = ["Green Stone", 5, 2E3, 7, 6, 9, 4281597747, nd, 25, 0, "dex +25", ""];
u[326] = ["Blue Stone", 5, 2E3, 7, 6, 9, 4281545727, od, 25, 0, "mag +25", ""];
u[327] = ["Black Stone", 5, 2E3, 7, 6, 9, 4284900966, pd, 10, 0, "str dex mag +10", ""];
u[336] = ["Red Crystal", 5, 6E3, 8, 7, 9, 4294936712, qd, 5, 15, "AT +(5-15)", ""];
u[337] = ["Yellow Crystal", 5, 6E3, 8, 7, 9, 4294967176, rd, 60, 0, "AT +60%", ""];
u[338] = ["Silver Crystal", 5, 6E3, 8, 7, 9, 4291611852, sd, 12, 0, "Defense +12", ""];
u[339] = ["Purple Crystal", 5, 6E3, 8, 7, 9, 4291598847, td, 50, 0, "Magic Defense 50%", ""];
u[340] = ["Black Crystal", 5, 6E3, 8, 7, 9, 4284900966, ud, 50, 0, "Block rate 50%", ""];
u[369] = ["Ruby", 5, 1E4, 9, 8, 9, 4294901760, yd, 8, 12, "Add 8-12 fire", "damage"];
u[370] = ["Garnet", 5, 1E4, 9, 8, 9, 4294914867, zd, 70, 0, "+1.4s Fire Length", ""];
u[371] = ["Sapphire", 5, 1E4, 9, 8, 9, 4284914175, Ad, 15, 25, "Add 15-25 ice", "damage"];
u[372] = ["Aquamarine", 5, 1E4, 9, 8, 9, 4284927231, Bd, 25, 0, "+25% Cold effect", ""];
u[373] = ["Topaz", 5, 1E4, 9, 8, 9, 4294954035, Cd, 0, 30, "Add 0-30 thunder", "damage"];
u[374] = ["Emerald", 5, 1E4, 9, 8, 9, 4281597747, Dd, 2, 3, "Add 2-3 poison", "damage"];
u[375] = ["Peridot", 5, 1E4, 9, 8, 9, 4288282419, Ed, 250, 0, "+5s Poison Length", ""];
u[376] = ["Diamond", 5, 1E4, 9, 8, 9, 4294967295, Fd, 25, 0, "+0.5s Freeze Length", ""];
u[353] = ["Quick's Card", 5, 2E4, 10, 46, 9, 4287124736, Gd, 50, 0, "-50% Limit AGI", ""];
u[354] = ["Long Sword's Card", 5, 2E4, 10, 47, 9, 4281545523, Hd, 15, 0, "+15 Length of sword", ""];
u[355] = ["Catapult's Card", 5, 2E4, 10, 48, 9, 4284887808, Id, 100, 0, "+100 Length", ""];
u[356] = ["Guide's Card", 5, 2E4, 10, 50, 9, 4288282521, Kd, 50, 0, "+50 guide length", ""];
u[357] = ["Bullet's Card", 5, 2E4, 10, 51, 9, 4281545523, Ld, 6, 0, "+6 bullet", ""];
u[358] = ["Critical's Card", 5, 2E4, 10, 53, 9, 4294967142, Od, 25, 400, "25% chance of", "AT +400%"];
u[359] = ["Berserk Card", 5, 2E4, 10, 54, 9, 4291559424, Nd, 250, 250, "AT +250%", "DF -250%"];
u[368] = ["Big Card", 5, 2E4, 10, 55, 9, 4293848814, Yd, 300, 0, "300% Attack range", ""];
u[385] = ["Bronze Medal", 5, 1E4, 11, 10, 9, 4292708369, Qd, 50, 0, "+50% Drop rate", ""];
u[386] = ["Silver Medal", 5, 1E4, 11, 10, 9, 4291611852, Rd, 50, 0, "+50% ONIGIRI Drop", ""];
u[387] = ["Gold Medal", 5, 1E4, 11, 10, 9, 4294958336, Sd, 50, 0, "+50% Gold UP", ""];
u[388] = ["Iron Medal", 5, 1E4, 11, 10, 9, 4284900966, Td, 50, 0, "+50% EXP UP", ""];
u[389] = ["Knockback's Card", 1, 4E3, 10, 56, 9, 4288282572, Zd, 25, 20, "25% chance of", "Knockback 20"];
u[390] = ["Knockback's Card", 2, 8E3, 10, 56, 9, 4288282572, Zd, 50, 20, "50% chance of", "Knockback 20"];
u[391] = ["Knockback's Card", 3, 12E3, 10, 56, 9, 4288282572, Zd, 50, 30, "50% chance of", "Knockback 30"];
u[392] = ["Knockback's Card", 4, 16E3, 10, 56, 9, 4288282572, Zd, 100, 30, "100% chance of", "Knockback 30"];
u[393] = ["Knockback's Card", 5, 2E4, 10, 56, 9, 4288282572, Zd, 30, 90, "30% chance of", "Knockback 90"];
u[406] = ["Reflection Card", 1, 4E3, 10, 57, 9, 4294967244, $d, 25, 0, "25% chance of", "Reflection"];
u[407] = ["Reflection Card", 2, 8E3, 10, 57, 9, 4294967244, $d, 50, 0, "50% chance of", "Reflection"];
u[408] = ["Reflection Card", 3, 12E3, 10, 57, 9, 4294967244, $d, 75, 0, "75% chance of", "Reflection"];
u[409] = ["Reflection Card", 4, 16E3, 10, 57, 9, 4294967244, $d, 100, 0, "100% chance of", "Reflection"];
u[459] = ["Ring's Card", 1, 4E3, 10, 62, 9, 4294967091, ce, 1, 0, "Ring +1", ""];
u[460] = ["Ring's Card", 2, 8E3, 10, 62, 9, 4294967091, ce, 1, 50, "Ring +1", "LP +50"];
u[461] = ["Ring's Card", 3, 12E3, 10, 62, 9, 4294967091, ce, 1, 100, "Ring +1", "LP +100"];
u[462] = ["Ring's Card", 4, 16E3, 10, 62, 9, 4294967091, ce, 1, 150, "Ring +1", "LP +150"];
u[463] = ["Ring's Card", 5, 2E4, 10, 62, 9, 4294967091, ce, 1, 200, "Ring +1", "LP +200"];
u[464] = ["Ring's Card", 6, 24E3, 10, 62, 9, 4294967091, ce, 1, 300, "Ring +1", "LP +300"];
u[418] = ["White Stone", 6, 2400, 7, 6, 9, 4294967295, ld, 400, 0, "LP +400", ""];
u[419] = ["Red Stone", 6, 2400, 7, 6, 9, 4294914867, md, 30, 0, "str +30", ""];
u[420] = ["Green Stone", 6, 2400, 7, 6, 9, 4281597747, nd, 30, 0, "dex +30", ""];
u[421] = ["Blue Stone", 6, 2400, 7, 6, 9, 4281545727, od, 30, 0, "mag +30", ""];
u[422] = ["Black Stone", 6, 2400, 7, 6, 9, 4284900966, pd, 15, 0, "str dex mag +15", ""];
u[424] = ["Red Crystal", 6, 7200, 8, 7, 9, 4294936712, qd, 6, 18, "AT +(6-18)", ""];
u[425] = ["Yellow Crystal", 6, 7200, 8, 7, 9, 4294967176, rd, 70, 0, "AT +70%", ""];
u[426] = ["Silver Crystal", 6, 7200, 8, 7, 9, 4291611852, sd, 15, 0, "Defense +15", ""];
u[427] = ["Purple Crystal", 6, 7200, 8, 7, 9, 4291598847, td, 60, 0, "Magic Defense 60%", ""];
u[428] = ["Black Crystal", 6, 7200, 8, 7, 9, 4284900966, ud, 60, 0, "Block rate 60%", ""];
u[443] = ["Ruby", 6, 12E3, 9, 8, 9, 4294901760, yd, 10, 15, "Add 10-15 fire", "damage"];
u[444] = ["Garnet", 6, 12E3, 9, 8, 9, 4294914867, zd, 85, 0, "+1.7s Fire Length", ""];
u[446] = ["Sapphire", 6, 12E3, 9, 8, 9, 4284914175, Ad, 18, 30, "Add 18-30 ice", "damage"];
u[447] = ["Aquamarine", 6, 12E3, 9, 8, 9, 4284927231, Bd, 30, 0, "+30% Cold effect", ""];
u[448] = ["Topaz", 6, 12E3, 9, 8, 9, 4294954035, Cd, 0, 39, "Add 0-39 thunder", "damage"];
u[449] = ["Emerald", 6, 12E3, 9, 8, 9, 4281597747, Dd, 3, 3, "Add 3-3 poison", "damage"];
u[450] = ["Peridot", 6, 12E3, 9, 8, 9, 4288282419, Ed, 300, 0, "+6s Poison Length", ""];
u[445] = ["Diamond", 6, 12E3, 9, 8, 9, 4294967295, Fd, 30, 0, "+0.6s Freeze Length", ""];
u[423] = ["Katana's Card", 6, 24E3, 10, 58, 9, 4281545523, ae, 40, 10, "AT +40%", "+10 Length of sword"];
u[465] = ["Long Sword's Card", 6, 24E3, 10, 47, 9, 4281545523, Hd, 20, 0, "+20 Length of sword", ""];
u[466] = ["Catapult's Card", 6, 24E3, 10, 48, 9, 4284887808, Id, 120, 0, "+120 Length", ""];
u[467] = ["Guide's Card", 6, 24E3, 10, 50, 9, 4288282521, Kd, 60, 0, "+60 guide length", ""];
u[468] = ["Bullet's Card", 6, 24E3, 10, 51, 9, 4281545523, Ld, 0, 125, "+125% bullet", ""];
u[469] = ["Critical's Card", 6, 24E3, 10, 53, 9, 4294967142, Od, 20, 600, "20% chance of", "AT +600%"];
u[470] = ["Berserk Card", 6, 24E3, 10, 54, 9, 4291559424, Nd, 300, 200, "AT +300%", "DF -200%"];
u[437] = ["Bronze Medal", 6, 12E3, 11, 10, 9, 4292708369, Qd, 75, 0, "+75% Drop rate", ""];
u[438] = ["Silver Medal", 6, 12E3, 11, 10, 9, 4291611852, Rd, 75, 0, "+75% ONIGIRI Drop", ""];
u[439] = ["Gold Medal", 6, 12E3, 11, 10, 9, 4294958336, Sd, 75, 0, "+75% Gold UP", ""];
u[440] = ["Iron Medal", 6, 12E3, 11, 10, 9, 4284900966, Td, 75, 0, "+75% EXP UP", ""];
u[441] = ["Heal's Card", 1, 48E3, 10, 59, 9, 4294967295, be, 1, 0, "Heal to attack each", "+1"];
u[442] = ["Heal's Card", 2, 48E3, 10, 59, 9, 4294967295, be, 2, 0, "Heal to attack each", "+2"];
u[491] = ["White Stone", 7, 2800, 7, 6, 9, 4294967295, ld, 500, 0, "LP +500", ""];
u[492] = ["Red Stone", 7, 2800, 7, 6, 9, 4294914867, md, 40, 0, "str +40", ""];
u[493] = ["Green Stone", 7, 2800, 7, 6, 9, 4281597747, nd, 40, 0, "dex +40", ""];
u[494] = ["Blue Stone", 7, 2800, 7, 6, 9, 4281545727, od, 40, 0, "mag +40", ""];
u[495] = ["Black Stone", 7, 2800, 7, 6, 9, 4284900966, pd, 20, 0, "str dex mag +20", ""];
u[528] = ["Red Crystal", 7, 8400, 8, 7, 9, 4294936712, qd, 7, 21, "AT +(7-21)", ""];
u[529] = ["Yellow Crystal", 7, 8400, 8, 7, 9, 4294967176, rd, 80, 0, "AT +80%", ""];
u[530] = ["Silver Crystal", 7, 8400, 8, 7, 9, 4291611852, sd, 18, 0, "Defense +18", ""];
u[531] = ["Purple Crystal", 7, 8400, 8, 7, 9, 4291598847, td, 70, 0, "Magic Defense 70%", ""];
u[532] = ["Black Crystal", 7, 8400, 8, 7, 9, 4284900966, ud, 70, 0, "Block rate 70%", ""];
u[533] = ["Ruby", 7, 14E3, 9, 8, 9, 4294901760, yd, 15, 20, "Add 15-20 fire", "damage"];
u[534] = ["Garnet", 7, 14E3, 9, 8, 9, 4294914867, zd, 100, 0, "+2.0s Fire Length", ""];
u[535] = ["Sapphire", 7, 14E3, 9, 8, 9, 4284914175, Ad, 21, 35, "Add 21-35 ice", "damage"];
u[536] = ["Aquamarine", 7, 14E3, 9, 8, 9, 4284927231, Bd, 35, 0, "+35% Cold effect", ""];
u[537] = ["Topaz", 7, 14E3, 9, 8, 9, 4294954035, Cd, 0, 49, "Add 0-49 thunder", "damage"];
u[538] = ["Emerald", 7, 14E3, 9, 8, 9, 4281597747, Dd, 3, 4, "Add 3-4 poison", "damage"];
u[539] = ["Peridot", 7, 14E3, 9, 8, 9, 4288282419, Ed, 350, 0, "+7s Poison Length", ""];
u[540] = ["Diamond", 7, 14E3, 9, 8, 9, 4294967295, Fd, 35, 0, "+0.7s Freeze Length", ""];
u[541] = ["Katana's Card", 7, 28E3, 10, 58, 9, 4281545523, ae, 50, 10, "AT +50%", "+10 Length of sword"];
u[542] = ["Quick's Card", 7, 28E3, 10, 46, 9, 4287124736, Gd, 60, 0, "-60% Limit AGI", ""];
u[543] = ["Long Sword's Card", 7, 28E3, 10, 47, 9, 4281545523, Hd, 25, 0, "+25 Length of sword", ""];
u[544] = ["Catapult's Card", 7, 28E3, 10, 48, 9, 4284887808, Id, 150, 0, "+150 Length", ""];
u[545] = ["Guide's Card", 7, 28E3, 10, 50, 9, 4288282521, Kd, 70, 0, "+70 guide length", ""];
u[546] = ["Bullet's Card", 7, 28E3, 10, 51, 9, 4281545523, Ld, 0, 150, "+150% bullet", ""];
u[547] = ["Critical's Card", 7, 28E3, 10, 53, 9, 4294967142, Od, 15, 900, "15% chance of", "AT +900%"];
u[548] = ["Berserk Card", 7, 28E3, 10, 54, 9, 4291559424, Nd, 350, 200, "AT +350%", "DF -200%"];
u[487] = ["Bronze Medal", 7, 14E3, 11, 10, 9, 4292708369, Qd, 100, 0, "+100% Drop rate", ""];
u[488] = ["Silver Medal", 7, 14E3, 11, 10, 9, 4291611852, Rd, 100, 0, "+100% ONIGIRI Drop", ""];
u[489] = ["Gold Medal", 7, 14E3, 11, 10, 9, 4294958336, Sd, 100, 0, "+100% Gold UP", ""];
u[490] = ["Iron Medal", 7, 14E3, 11, 10, 9, 4284900966, Td, 100, 0, "+100% EXP UP", ""];
u[557] = ["Imperial Crown", 0, 400, 19, 63, 9, 4294956800, de, 50, 0, "+50% Enemy", "(Passive)"];
u[558] = ["Imperial Crown", 2, 400, 19, 63, 9, 4294956800, de, 100, 0, "+100% Enemy", "(Passive)"];
u[559] = ["Imperial Crown", 3, 400, 19, 63, 9, 4294956800, de, 150, 0, "+150% Enemy", "(Passive)"];
u[560] = ["Imperial Crown", 4, 400, 19, 63, 9, 4294956800, de, 200, 0, "+200% Enemy", "(Passive)"];
u[561] = ["Anger Crown", 0, 400, 19, 63, 9, 4292730333, ee, 0, 0, "LV up effect", "(Passive)"];
u[562] = ["Anger Crown", 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 9999, 1, 0, 0, 0, 0, 0, 18, 4294967193, 2, 64, 512, 64, 512, 0, 0, 10, 20, 0, 100, 1, 0, 0, 3, 0, 0, 0];
u[563] = ["Anger Crown", 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 999, 1, 0, 0, 0, 0, 0, 21, 4294967193, 2, 8, 8, 16, 16, 0, 0, 10, 3, -9, 100, 1, 0, 0, 3, 0, 0, 0];

//The variables Xf and dg control image blending and transparency

var fe = 0,
    ge = 0,
    he = "";
window.GameSave = ie;

function ie(a) {
    return 0 == a.length ? "" : he
}
var je = 0,
    ke = 0,
    le = "";
window.GameLoad = me;

function me(a) {

    generateNewSave();

    if (0 != a.length) return le = a, 0;
    if (0 == a.length) {
        if (0 == le.length) return -1;
        l = sb = nb = h = mb = f = 0;
        tb = 3;
        ub = !1;
        for (a = 0; 4 > a; a++) {fc[a] = 0, reloadCD[a] = 1};
        Jb = 0;
        v.j();
        ne.j();
        oe.j();
        pe.j();
        qe.j();
        je = re(le, 0);
        0 < je ? ke = 50 : he = se(0);
        le = "";
        te()
    }
    return -1
}
window.AutoSave = ue;

function ue(a) {
    if (0 == a.length || 0 == fe) return "";
    fe = 0;
    ge = 50;
    return ie("0")
}
//Check Weapon Property
function w(a, b) {
    return u[a].length <= b ? 0 : b == Sc || b == Zc || b == fd ? u[a][b] >>> 0 : u[a][b]
}
var ve = !1,
    we = !1;
//Check Compo Effect Number
function x(a, b) {
    we = ve = !1;
    w(Dc[a], hd) == b && (ve = !0);
    w(Ec[a], hd) == b && (we = !0);
    return ve || we ? !0 : !1
}
//Get Compo Effect
function y(a, b) {
    var c = 0;
    ve && (c += w(Dc[a], b));
    we && (c += w(Ec[a], b));
    return c
}

var ye = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz.*|,[]".split("");

//new saving code
function se(a)
{
  if (fs.existsSync("./SRCRmodSaves")){} else {fs.mkdir("./SRCRmodSaves", () => {})};
var mainSaveString = "", b, c,
invValS = 0,
compo1ValS = 0,
compo2ValS = 0,
otherValS = 0,
statValS = 0,
moneyS = 0,
expS = 0,
ivS = 0,
c1vS = 0,
c2vS = 0,
osvS = 0,
exspS = 0,
stS = 0;


for (var i = 0; i < 41; i++) invValS += (q[i]);
for (var i = 0; i < 41; i++) compo1ValS += (Dc[i]);
for (var i = 0; i < 41; i++) compo2ValS += (Ec[i]);
for (var i = 0; i < 4; i++) exspS += (ac[i]);
for (var i = 0; i < 4; i++) statValS += (gc[i]), statValS += (lc[i]), statValS += (mc[i]), statValS += (nc[i]);

otherValS = z(dc + cc + exspS);

moneyS = btoa(dc);
expS = btoa(cc);
ivS = btoa(invValS);
c1vS = btoa(compo1ValS);
c2vS = btoa(compo2ValS);
osvS = btoa(otherValS);
stS = btoa(statValS);

        mainSaveString += JSON.stringify(ec); //classes
        mainSaveString += "|";
        mainSaveString += JSON.stringify(p); //Current Health
        mainSaveString += "|";
        mainSaveString += JSON.stringify(gc); //points in LP
        mainSaveString += "|";
        mainSaveString += JSON.stringify(hc); //points in STR
        mainSaveString += "|";
        mainSaveString += JSON.stringify(ic); //points in DEX
        mainSaveString += "|";
        mainSaveString += JSON.stringify(jc); //points in MAG
        mainSaveString += "|";
        mainSaveString += JSON.stringify(q); //inventory slots
        mainSaveString += "|";
        mainSaveString += JSON.stringify(Dc); //1st compo
        mainSaveString += "|";
        mainSaveString += JSON.stringify(Ec); //2nd compo
        mainSaveString += "|";
        mainSaveString += JSON.stringify(uc); //stickmen on/off
        mainSaveString += "|";
        mainSaveString += JSON.stringify(vc); //move of dying
        mainSaveString += "|";
        mainSaveString += JSON.stringify(wc); //damage effect
        mainSaveString += "|";
        mainSaveString += JSON.stringify(xc); //lp bar
        mainSaveString += "|";
        mainSaveString += JSON.stringify(yc); //PL symbol
        mainSaveString += "|";
        mainSaveString += JSON.stringify(zc); //drag deadbody
        mainSaveString += "|";
        mainSaveString += JSON.stringify(Ae); //stage status
        mainSaveString += "|";
        mainSaveString += JSON.stringify(moneyS); //money
        mainSaveString += "|";
        mainSaveString += JSON.stringify(expS); //exp

        mainSaveString += "|";
        mainSaveString += JSON.stringify(ivS);
        mainSaveString += "|";
        mainSaveString += JSON.stringify(c1vS);
        mainSaveString += "|";
        mainSaveString += JSON.stringify(c2vS);
        mainSaveString += "|";
        mainSaveString += JSON.stringify(ac);
        mainSaveString += "|";
        mainSaveString += JSON.stringify(Mb);
        mainSaveString += "|";
        mainSaveString += JSON.stringify(osvS);
        mainSaveString += "|";
        mainSaveString += JSON.stringify(stS);


if (f != 0)
{
  fs.writeFile("./SRCRmodSaves/" + saveName + ".txt", mainSaveString, function (err)
  {
    if(err)
    {
      return console.log(err);
    }
    console.log("saved")
  })
}


}

var mainLoadString;
function getLoadCode (a)
{
  if (fs.existsSync("./SRCRmodSaves/" + saveName + ".txt", "utf-8"))
mainLoadString = fs.readFileSync("./SRCRmodSaves/" + saveName + ".txt", "utf-8");
}


//new load code
function re(a, b)
{
  saveName = a;
  getLoadCode()
  if (mainLoadString != "BlankSaveFile" && mainLoadString != null)
  {
    var loadDecode,
    invVal = 0,
    invValL = 0,
    compo1Val = 0,
    compo1ValL = 0,
    compo2Val = 0,
    compo2ValL = 0,
    otherVal = 0,
    otherValL = 0,
    otherValComp = 0,
    statVal = 0,
    statVal2 = 0,
    statValL = 0,
    moneyL = 0,
    expL = 0,
    ivL = 0,
    c1vL = 0,
    c2vL = 0,
    osvL = 0,
    exspL = 0,
    statCheck2 = 0;

    loadDecode = mainLoadString.split("|");
    ec = JSON.parse(loadDecode[0]); //classes
    p = JSON.parse(loadDecode[1]); //current health
    gc = JSON.parse(loadDecode[2]); //points in LP
    hc = JSON.parse(loadDecode[3]); //points in STR
    ic = JSON.parse(loadDecode[4]); //points in DEX
    jc = JSON.parse(loadDecode[5]); //points in MAG

    q = JSON.parse(loadDecode[6]); //inventory slots
    Dc = JSON.parse(loadDecode[7]); //1st compo
    Ec = JSON.parse(loadDecode[8]); //2nd compo

    uc = JSON.parse(loadDecode[9]); //stickmen on/off
    vc = JSON.parse(loadDecode[10]); //move of dying
    wc = JSON.parse(loadDecode[11]); //damage effect
    xc = JSON.parse(loadDecode[12]); //lp bar
    yc = JSON.parse(loadDecode[13]); //PL symbol
    zc = JSON.parse(loadDecode[14]); //drag deadbody

    Ae = JSON.parse(loadDecode[15]); //stage status
    moneyL = JSON.parse(loadDecode[16]); //money
    expL = JSON.parse(loadDecode[17]); //exp

    ivL = JSON.parse(loadDecode[18]);
    c1vL = JSON.parse(loadDecode[19]);
    c2vL = JSON.parse(loadDecode[20]);

    ac = JSON.parse(loadDecode[21]); //remaining uninvested sp
    Mb = JSON.parse(loadDecode[22]); //level

    otherValL = JSON.parse(loadDecode[23]);
    statValL = JSON.parse(loadDecode[24]);


    dc = parseInt(atob(moneyL), 10);
    cc = parseInt(atob(expL), 10);
    invValL = parseInt(atob(ivL), 10);
    compo1ValL = parseInt(atob(c1vL), 10);
    compo2ValL = parseInt(atob(c2vL), 10);
    otherVal = parseInt(atob(otherValL), 10);
    statVal = parseInt(atob(statValL), 10);

    statCheck = statVal;

    for (var i = 0; i < 41; i++) invVal += (q[i]);
    for (var i = 0; i < 41; i++) compo1Val += (Dc[i]);
    for (var i = 0; i < 41; i++) compo2Val += (Ec[i]);
    for (var i = 0; i < 4; i++) exspL += (ac[i]);

    otherValComp = z(exspL + cc + dc);

    if (invVal != invValL) C = null;
    if (compo1Val != compo1ValL) C = null;
    if (compo2Val != compo2ValL) C = null;
    if (otherValComp != otherVal) C = null;
  }
}


function generateNewSave ()
{
  if (fs.existsSync("./SRCRmodSaves/" + saveName + ".txt", "utf-8"))
  {}
  else
  {
  fs.writeFile("./SRCRmodSaves/" + saveName + ".txt", "BlankSaveFile", function (err)
    {
      if(err)
      {
        return console.log(err);
      }
    })
  }
}

da.fff = Ee;

function Ee(a) {
    var b, c = "",
        d = new Int32Array(16);
    b = 0;
    d[b++] = z(A(64));
    d[b++] = z(A(64));
    d[b++] = z(A(64));
    d[b++] = z(A(64));
    d[b++] = $b[0];
    d[b++] = $b[1];
    d[b++] = a;
    d[b++] = va >> 18 & 63;
    d[b++] = va >> 12 & 63;
    d[b++] = va >> 6 & 63;
    d[b++] = va & 63;
    var e = 0;
    for (a = 0; a < b; a++) e += d[a] * ((a & 15) + 1);
    d[b++] = e >> 8 & 47;
    d[b++] = e >> 4 & 31;
    d[b++] = e >> 0 & 15;
    c = "" + ye[d[0]];
    c += ye[d[1]];
    e = d[1];
    for (a = 2; a < b; a++) c += ye[d[a] + e & 63], e += d[a] + a + d[0];
    return c
}
var Fe = 0,
    Ge = 0,
    He = [],
    Ie = 0,
    Je = 0,
    Ke = 0;
da.fff = Le;

function Le() {
    var a, b, c;
    He = new Int32Array(u.length);
    for (a = 0; a < u.length; a++)
        for (b = He[a] = 0; b < u[a].length; b++) "number" == typeof u[a][b] && (He[a] += u[a][b] & 255);
    for (a = Ie = 0; a < Me.length; a++)
        for (b = 0; b < Me[a].length; b++)
            for (c = 0; c < Me[a][b].length; c++) Ie += Me[a][b][c];
    for (a = Je = 0; a < B.length; a++)
        for (b = 0; b < B[a].length; b++) Je += B[a][b] & 65535;
    for (c = Ke = 0; c < Lc.length; c++)
        for (a = 0; a < Lc[c].length; a++)
            for (b = 0; b < Lc[c][a].length; b++) Ke += Lc[c][a][b] * b & 65535
}
//Anti-Cheat
function Ne() {
    return 0;   //disables anti cheat temp
    var a, b, c, d;
    if (0 > Mb[0] || 99 < Mb[0]) C = null;
    if (0 > Mb[1] || 99 < Mb[1]) C = null;
    if (0 > cc || 9999999 < cc) C = null;
    if (0 > dc || 9999999 < dc) C = null;
    for (a = 0; 8 > a; a++) {
        if (0 > ac[a] || 196 < ac[a]) C = null;
        if (0 > gc[a] || 196 < gc[a]) C = null;
        if (0 > hc[a] || 196 < hc[a]) C = null;
        if (0 > ic[a] || 196 < ic[a]) C = null;
        if (0 > jc[a] || 196 < jc[a]) C = null
    }
    for (a = 0; 8 > a; a++) 0 != q[s + a] && w(q[s + a], Rc) != ec[a] && (C = null);
    for (a = 0; 8 > a; a++) {
        b = w(q[s + a], Rc);
        c = w(q[s + a], $c);
        d = w(q[s + a], Vc);
        if (0 != Dc[s + a]) {
            9 != w(Dc[s + a], Rc) && (C = null);
            w(Dc[s + a], hd) == w(Ec[s + a], hd) && (C = null);
            var e = w(Dc[s + a], hd);
            !1 == Oe(e, b, c, d) && (C = null)
        }
        0 != Ec[s + a] && Ec[s + a] != Ic && (9 != w(Ec[s + a], Rc) && (C = null), e = w(Ec[s + a], hd), !1 == Oe(e, b, c, d) && (C = null))
    }
    /*
    if (0 == ga || 2 == ga) {
        for (a = c = 0; a < ze; a++)
            if (0 != (Ae[a] & Ce))
                for (d = Pe[a + 1] - Pe[a], b = 0; b < d; b++) c < B[Pe[a] + b][Qe] && (c = B[Pe[a] + b][Qe]), b += B[Pe[a] + b][Re];
        c + 10 + 2 < Mb[0] && (C = null)
    }*/
    if (0 == ga || 2 == ga)
    {
        for (a = 0; a < Ae.length; a++)
        {
          var de3 = De[a][3], de4 = De[a][4];
            if (Ae[a] > 2 && (De[a][3] != 0 || De[a][4] != 0))
            {
              if (Ae[de3] == 0) Ae[de3] = 1;
              if (Ae[de4] == 0) Ae[de4] = 1;
            }
        }
    }
    if (0 == ga || 2 == ga) {
        b = 4753E3;
        a = 9999999;
        if (98 > Mb[0]) {
            b = 0;
            for (a = 1; a < Mb[0]; a++) b += 1E3 * a;
            a = b + 1E3 * a
        }
        if (cc < b || a < cc) C = null
    }
    for (a = d = 0; 8 > a; a++) d += ac[a];
    for (a = 0; 8 > a; a++) d += gc[a];
    for (a = 0; 8 > a; a++) d += hc[a];
    for (a = 0; 8 > a; a++) d += ic[a];
    for (a = 0; 8 > a; a++) d += jc[a];
    d != 8 * (Mb[0] - 1) + 8 * (Mb[1] - 1) && (C = null);
    d = Ge;
    d += (cc | 1) * (d & 15 | 1);
    d += (dc | 1) * (d & 15 | 1);
    for (a = 0; 2 > a; a++) d += (Mb[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (ac[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (gc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (hc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (ic[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (jc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (ec[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (p[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (fc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (kc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (lc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (mc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (nc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (oc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (pc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (qc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (rc[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (tc[a] | 1) * (d & 15 | 1);
    for (a = 0; a < Hc; a++) d += (q[a] | 1) * (d & 15 | 1);
    for (a = 0; a < Hc; a++) d += (Dc[a] | 1) * (d & 15 | 1);
    for (a = 0; a < Hc; a++) d += (Ec[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (Ac[a] | 1) * (d & 15 | 1);
    for (a = 0; 8 > a; a++) d += (Bc[a] | 1) * (d & 15 | 1);
    for (a = 0; a < ze; a++) d += (Ae[a] | 1) * (d & 15 | 1);
    d += (ga | 1) * (d & 15 | 1);
    d += (Nb[0] | 1) * (d & 15 | 1);
    d += (Nb[1] | 1) * (d & 15 | 1);
    d += ($b[0] | 1) * (d & 15 | 1);
    d += ($b[1] | 1) * (d & 15 | 1);
    d != (Fe ^ 16777215) && (C = null);
    if (1 > A(100))
        for (a = 0; a < u.length; a++) {
            for (b = d = 0; b < u[a].length; b++) "number" == typeof u[a][b] && (d += u[a][b] & 255);
            d != He[a] && (C = null)
        }
    if (1 > A(100)) {
        for (a = d = 0; a < Me.length; a++)
            for (b = 0; b < Me[a].length; b++)
                for (c = 0; c < Me[a][b].length; c++) d += Me[a][b][c];
        d != Ie && (C = null)
    }
    if (1 > A(100)) {
        for (a = d = 0; a < B.length; a++)
            for (b = 0; b < B[a].length; b++) d += B[a][b] & 65535;
        d != Je && (C = null)
    }
    if (1 >
        A(100)) {
        for (c = d = 0; c < Lc.length; c++)
            for (a = 0; a < Lc[c].length; a++)
                for (b = 0; b < Lc[c][a].length; b++) d += Lc[c][a][b] * b & 65535;
        d != Ke && (C = null)
    }
}
//Does whatever
function te() {
    var a, b = z(A(1024));
    Ge = b;
    b += (cc | 1) * (b & 15 | 1);
    b += (dc | 1) * (b & 15 | 1);
    for (a = 0; 2 > a; a++) b += (Mb[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (ac[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (gc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (hc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (ic[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (jc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (ec[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (p[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (fc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (kc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (lc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (mc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (nc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (oc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (pc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (qc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (rc[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (tc[a] | 1) * (b & 15 | 1);
    for (a = 0; a < Hc; a++) b += (q[a] | 1) * (b & 15 | 1);
    for (a = 0; a < Hc; a++) b += (Dc[a] | 1) * (b & 15 | 1);
    for (a = 0; a < Hc; a++) b += (Ec[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (Ac[a] | 1) * (b & 15 | 1);
    for (a = 0; 8 > a; a++) b += (Bc[a] | 1) * (b & 15 | 1);
    for (a = 0; a < ze; a++) b += (Ae[a] | 1) * (b & 15 | 1);
    b += (ga | 1) * (b & 15 | 1);
    b += (Nb[0] | 1) * (b & 15 | 1);
    b += (Nb[1] | 1) * (b & 15 | 1);
    b += ($b[0] | 1) * (b & 15 | 1);
    b += ($b[1] | 1) * (b & 15 | 1);
    Fe = b ^ 16777215
}
var Se = 0;

function Te(a, b, c, d, e, g, k, r, m, n, F, H, M) {
    if (0 == Se) {
        ha = null != a ? a : "";
        La = "0" == b ? !0 : !1;
        Ha = null != c ? c : "";
        ga = null != d ? ~~d : 0;
        la = null != e ? e : "";
        oa = null != g ? g : "";
        Ia = null != k ? k : "";
        ua = null != r ? ~~r : 0;
        va = null != m ? ~~m : 0;
        ma = null != n ? n : "";
        na = null != F ? F : "";
        qa = null != H ? H : "";
        ra = null != M ? M : "";
        for (a = 0; 8 > a && a < ha.length; a++)
            for (b = ha.charAt(a), c = 0; c < ye.length; c++)
                if (ye[c] == b) {
                    Ka[a] = c;
                    break
                }
        Ue(Ve);
        We.width = ea;
        We.height = fa;
        for (a = 0; 513 > a; a++) Xe[a] = new Float32Array(2);
        for (a = 0; 512 > a; a++) b = 360 * a / 512 * Ye / 180, Xe[a][0] = Math.cos(b), Xe[a][1] = Math.sin(b);
        Xe[a][0] = Xe[0][0];
        Xe[a][1] = Xe[0][1];
        for (a = 0; 256 > a; a++) Ze[a] = !1, $e[a] = !1, af[a] = !1, bf[a] = 0, cf[a] = 0;
        for (a = 0; 10 > a; a++) bf[48 + a] = 48 + a;
        for (a = 0; 9 > a; a++) cf[49 + a] = 33 + a;
        for (a = 0; 4 > a; a++) bf[37 + a] = 37 + a;
        for (a = 0; 4 > a; a++) cf[37 + a] = 37 + a;
        bf[13] = cf[13] = 13;
        bf[16] = cf[16] = 16;
        bf[17] = cf[17] = 17;
        bf[18] = cf[18] = 18;
        bf[32] = cf[32] = 32;
        bf[186] = 58;
        cf[186] = 42;
        bf[187] = 59;
        cf[187] = 43;
        bf[188] = 44;
        cf[188] = 60;
        bf[189] = 45;
        cf[189] = 61;
        bf[190] = 46;
        cf[190] = 62;
        bf[191] = 47;
        cf[191] = 63;
        bf[192] = 64;
        cf[192] = 96;
        bf[219] = 91;
        cf[219] = 123;
        bf[220] = 92;
        cf[220] = 124;
        bf[221] = 93;
        cf[221] = 125;
        bf[222] = 94;
        cf[222] = 126;
        bf[226] = 92;
        cf[226] = 95;
        bf[58] = 58;
        cf[58] = 42;
        bf[59] = 59;
        cf[59] = 43;
        bf[173] = 45;
        cf[173] = 61;
        bf[64] = 64;
        cf[64] = 96;
        bf[160] = 94;
        cf[160] = 126;
        for (a = 0; 1024 > a; a++) df[a] = a / 1024;
        for (a = 0; 1024 > a; a++) b = z(1024 * Math.random()), c = df[a], df[a] = df[b], df[b] = c;
        ef = z(1024 * Math.random()) & 1023;
        ff = z(512 * Math.random()) | 1;
        for (a = 0; a < ea * fa; a++) C[a] = 0;
        for (a = 0; a < ea * fa * 4; a++) gf[a] = 255;
        D.j("font.gif", 8, 12);
        hf.j("font_s.gif", 5, 7);
        for (a = 0; tilesets > a; a++) Pa[a] = new wa, Pa[a].j("gt" + a + ".gif"); //tilesets variable defined at the top of the file
        Qa.j("pl.gif");
        Ra.j("icon.gif");
        Ua.j("item.gif");
        Va.j("en.gif");
        Wa.j("next.gif");
        Za.j("mag.gif");
        $a.j("title.gif");
        cb.j("ef.gif");
        db.j("town.gif");
        fb.j("water.gif");
        gb.j("water2.gif");
        hb.j("tree.gif");
        ib.j("map.gif");
        jb.j("mt.gif");
        kb.j("map2.gif");
        lb.j("mt2.gif");
        jf() ? Se-- : Se++
    }
    if (1 == Se) {
        mf(D.N);
        mf(hf.N);
        for (a = 0; tilesets > a; a++) //tilesets variable defined at the top of the file
            mf(Pa[a]);
        mf(Qa);
        mf(Ra);
        mf(Ua);
        mf(Va);
        mf(Wa);
        mf(Za);
        mf($a);
        mf(cb);
        mf(db);
        mf(fb);
        mf(gb);
        mf(hb);
        mf(ib);
        mf(jb);
        mf(kb);
        mf(lb);
        0 != nf ? of (Te, pf()) : Se++
    }
    2 == Se && (v.j(), ne.j(), oe.j(), pe.j(), qe.j(), 1 == ga && re(Ia, 1), re(Ha, 0), he = se(0), Le(), te(), qf(Ma, ea, fa), rf())
}
da.fff = sf;

function sf() {
    if (0 < tf) tf++;
    else {
        me("");
        ue("");
        for (var a = ea * fa - 1; 0 <= a; a--) C[a] = 0;
        9 >= f ? uf() : 49 >= f ? vf() : 59 >= f ? wf() : 60 <= f && xf();
        0 < ge && (ge--, yf(D, 480, 247, "save OK", 16711680, 6684672));
        0 < ke && (ke--, 2 == je ? D.b(10, 10, "VERSION ERROR", 16711680, 6684672) : 3 == je ? D.b(10, 10, "DATA ERROR", 16711680, 6684672) : 4 == je && D.b(10, 10, "USER ERROR", 16711680, 6684672));
        1 == ca && (D.b(0, 0, zf + Af, 16777215, 0), 1 == ca && D.b(48, 0, Bf + "sl", 16777215, 0));
        Ne()
    }
}
da.fff = uf;

function uf() {
    var a;
    if (0 == f)
        if (v.j(), G.j(0), f++, 1 == ga) f = 60;
        else {
            if (2 == ga || 3 == ga) f = 70
        }
    else if (1 == f) nb = 0, I.j(0) && (v.set(0, 20, I.o[20]), v.set(1, 28, I.o[28]), v.set(2, 36, I.o[36]), v.set(3, 44, I.o[44]), Cf(), G.j(1), f++);
    else if (2 == f) {
        v.move();
        Cf();
        I.b();
        v.b();
        J($a, 256, 100, 365, 121, 0, La ? 0 : 121, 365, 121, 16777215);
        var b = 100;
        for (a = s; a < Gc; a++) w(q[a], hd) == de && (b += w(q[a], t)), w(Dc[a], hd) == de && (b += w(Dc[a], t)), w(Ec[a], hd) == de && (b += w(Ec[a], t)), w(q[a], hd) == ee && (b += 1), w(Dc[a], hd) == ee && (b += 1), w(Ec[a], hd) == ee && (b += 1);
        b = K(b, 100,
            300);
        100 == b ? yf(D, 256, 195, "NEW GAME", 16777215, 10053171) : yf(D, 256, 195, "               NEW GAME with the Crown", 16777215, 10053171);
        if (Df(100 == b ? 256 : 316, 195, 100 == b ? 128 : 248, 24)) {
            if (Ef) {
                Ne();
                tb = l = 3;
                for (a = 0; 4 > a; a++) yb[a] = ec[a], zb[a] = q[s + a], Ab[a] = Dc[s + a], Eb[a] = Ec[s + a], ec[a] = 0, q[s + a] = 0, Dc[s + a] = 0, Ec[s + a] = 0;
                f++;
                te();
                Cf()
            }
            100 == b ? L(192, 203, 320, 203, 11141120) : L(192, 203, 440, 203, 11141120)
        }
        0 != ec[0] && 0 != ec[1] && 0 != ec[2] && 0 != ec[3] && (yf(D, 256, 235, "LOAD GAME", 16777215, 10053171), Df(256, 235, 128, 24) && (Ef && (f = 5), L(192, 243,
            320, 243, 11141120)));
        yf(D, 256, 275, "VS MODE", 16777215, 5066137);
        Df(256, 275, 128, 24) && (Ef && (location.pathname = La ? "/javagame/ranger/versus.html" : "/en/javagame/ranger/versus.html"), L(192, 283, 320, 283, 11141120));
        Ff()
    } else if (3 == f) {
        v.move();
        I.b();
        v.b();
        Gf(D, 256, 50, "Create Your Team", 204, 148, 73, 255, 100, 0, 0, 255, 16, 24);
        for (a = 0; 4 > a; a++) Df(160 + 64 * a, 140, 24, 24) && (Ef && (tb = l = a), Hf(160 + 64 * a, 140, 24, 24, 8388608)), If(160 + 64 * a, 140, 25, 25, 16777215), J(Qa, 160 + 64 * a, 140, 24, 24, 24 * ec[a], 0, 24, 24, 16777215);
        If(160 + 64 * l, 140, 25, 25, 16711680);
        Ne();
        for (a = 0; 8 > a; a++) {
            var b = 46 + 60 * a,
                c = Jc[a + 1],
                d = D;
            d.Q = -1;
            yf(d, b, 220, c, 13407305, 6553600);
            d.Q = 0;
            Df(46 + 60 * a, 240, 24, 24) && (Ef && (ec[l] = a + 1, q[s + l] = [3, 4, 5, 6, 58, 76, 188, 289][a], Dc[s + l] = 0, Ec[s + l] = 0), Hf(46 + 60 * a, 240, 24, 24, 8388608));
            If(46 + 60 * a, 240, 25, 25, 16777215);
            J(Qa, 46 + 60 * a, 240, 24, 24, 24 * (a + 1), 0, 24, 24, 16777215)
        }
        0 != ec[0] && 0 != ec[1] && 0 != ec[2] && 0 != ec[3] && (yf(D, 464, 300, "START", 16777215, 10053171), Df(464, 300, 128, 24) && (Ef && f++, L(416, 308, 512, 308, 11141120)));
        yf(D, 48, 300, "RETURN", 16777215, 10053171);
        if (Df(48,
                300, 128, 24)) {
            if (Ef) {
                for (a = 0; 4 > a; a++) ec[a] = yb[a], q[s + a] = zb[a], Dc[s + a] = Ab[a], Ec[s + a] = Eb[a];
                f = 2
            }
            L(0, 308, 96, 308, 11141120)
        }
        te();
        Ff()
    } else if (4 == f) {
        Ne();
        b = 100;
        c = 0;
        for (a = s; a < Gc; a++) w(q[a], hd) == de && (b += w(q[a], t)), w(Dc[a], hd) == de && (b += w(Dc[a], t)), w(Ec[a], hd) == de && (b += w(Ec[a], t)), w(q[a], hd) == ee && (c = 1), w(Dc[a], hd) == ee && (c = 1), w(Ec[a], hd) == ee && (c = 1);
        b = K(b, 100, 300);
        h = 0;
        Mb[0] = 1;
        Nb[0] = 1;
        for (a = dc = cc = $b[0] = 0; 4 > a; a++) ac[a] = 0, p[a] = 50, fc[a] = 0, reloadCD[a] = 1, gc[a] = 0, hc[a] = 0, ic[a] = 0, jc[a] = 0, uc[a] = 1;
        yc = xc = wc = vc = 0;
        zc = 1;
        for (a = Fc; a < Hc; a++) q[a] = 0, Dc[a] = 0, Ec[a] = 0;
        for (a = 0; a < ze; a++) Ae[a] = 0;
        Ae[0] = Be | Ce;
        Ae[1] = Ce;
        for (a = 0; 4 > a; a++) v.step[a] = 0;
        300 <= b ? q[Fc + 0] = 560 : 250 <= b ? q[Fc + 0] = 559 : 200 <= b ? q[Fc + 0] = 558 : 150 <= b && (q[Fc + 0] = 557);
        1 == c && 100 == b && (q[Fc + 0] = 561);
        1 == c && 100 != b && (q[Fc + 1] = 561);
        nb = qe.t = 0;
        f = 6;
        te();
        Ff()
    } else 5 == f ? (nb = 0, f = 6) : 6 == f && (qe.b(), Jf(2))
}
da.fff = vf;

function vf() {
    var a, b, c, d;
    a = "";
    if (10 == f) {
        if (I.j(h)) {
            v.set(0, 0, I.o[0]);
            v.set(1, 1, I.o[1]);
            v.set(2, 2, I.o[2]);
            v.set(3, 3, I.o[3]);
            G.j(1);
            var e = z(N(12, 28)),
                g = z(N(28, 44)),
                k = z(N(44, 60));
            Kb = 100;
            for (b = s; b < Gc; b++) w(q[b], hd) == de && (Kb += w(q[b], t)), w(Dc[b], hd) == de && (Kb += w(Dc[b], t)), w(Ec[b], hd) == de && (Kb += w(Ec[b], t));
            Kb = K(Kb, 100, 300);
            var r = z((Me[h][nb].length - 2) / 3);
            for (a = 0; a < r; a++) {
                var m = Me[h][nb][3 * a + 2],
                    n = Me[h][nb][3 * a + 3],
                    F = Me[h][nb][3 * a + 4],
                    F = z(F * Kb / 100);
                for (b = 0; b < F; b++) {
                    if (m == O) c = z(N(12, 60)), d = Kf(I.o[c], I.I[c]);
                    else if (m == P) c = z(N(12, 28)), d = Kf(I.o[c], I.I[c]);
                    else if (m == Q) c = z(N(28, 44)), d = Kf(I.o[c], I.I[c]);
                    else if (m == R) c = z(N(44, 60)), d = Kf(I.o[c], I.I[c]);
                    else if (m == S) c = z(N(12, 60)), d = z(N(I.$[c] + 2, I.I[c]));
                    else if (m == Lf) c = z(N(12, 60)), d = z(N(I.$[c] + 2, I.hb[c]));
                    else if (m == T && 0 < I.ab) d = z(A(I.ab)), c = I.gb[d] & 63, d = z(I.gb[d] / 64);
                    else if (m == Mf) c = e, d = Kf(I.o[c], I.I[c]);
                    else if (m == Nf) c = g, d = Kf(I.o[c], I.I[c]);
                    else if (m == Of) c = k, d = Kf(I.o[c], I.I[c]);
                    else if (m == Pf) c = z(N(12, 60)), d = I.$[c];
                    else if (m == Qf) c = z(N(12, 28)), d = I.$[c];
                    else if (m ==
                        Rf) c = z(N(28, 44)), d = I.$[c];
                    else if (m == Sf) c = z(N(44, 60)), d = I.$[c];
                    else continue;
                    G.add(c, d, n)
                }
            }
            oe.index = 0;
            ne.index = 0;
            pe.index = 0;
            mb = sb = Ib = Hb = Gb = Fb = pe.J = 0;
            f++
        }
    } else if (11 == f) Tf(0), Jf(0), r = 30, a = "", 0 == nb ? (r = 110, a = Uf[h]) : nb + 1 == Me[h].length && (r = 110, a = "BOSS AREA"), Vf(255 - z(255 * (30 > mb ? mb : 30) / 30)), 110 == r && (b = 255, 30 > mb ? b = z(255 * mb / 30) : 80 < mb && (b = 255 - z(255 * (mb - 80) / 30)), Gf(D, 256, 128, a, 255, 255, 255, b, 64, 64, 64, b, 16, 24), c = -1024 + z(512 * mb / 30), L(c, 112, c + 1024, 112, 8421504), c = 512 - z(512 * mb / 30), L(c, 141, c + 1024, 141, 8421504)), mb++,
        mb == r && (mb = 0, f++);
        //when in a normal stage aka not a town,  changes hover text for button
    else if (12 == f) Tf(0), Jf(0), 0 == p[0] + p[1] + p[2] + p[3] ? (mb = 0, f = 30) : 0 != sb ? f++ : Wf(364, 4, 56, 20) ? (Ef ? f = 20 : Ze[32] && (f = 20), D.b(368, 8, "Option", 16711680, 0)) : Ze[32] ? f = 20 : Wf(428, 4, 80, 20) && (Ef && (f = 6), D.b(432, 8, "World Map", 16711680, 0));
    else if (13 == f) Tf(0), Jf(0), Vf(z(255 * mb / 30)), mb++, 30 == mb && (1 == sb ? (sb = 0, nb++, mb = 0, f = 10) : 2 == sb && (mb = nb = sb = 0, Ne(), Ae[h] |= Be, 0 < De[h][3] && (Ae[De[h][3]] |= Ce), 0 < De[h][4] && (Ae[De[h][4]] |= Ce), te(), f = 6, -1 == De[h][3] && (f = 40)), he = se(0), fe = 1);
    else if (20 == f) {
        Tf(1);
        Jf(1);
        r = 12;
        0 != h &&
            20 != h && 47 != h && 70 != h && 77 != h || 1 != nb || (r = 52);
        Wf(364, 4, 56, 20) ? (Ef ? f = r : Ze[32] && (f = r), D.b(368, 8, "Option", 16711680, 0)) : Ze[32] && (f = r);
        Xf = 1;
        V(128, 42, 256, 151, 3425907507);
        Xf = 0;
        yf(D, 256, 58, "Options", 16777215, 0);
        for (a = 0; 4 > a; a++) J(Qa, 256 + 32 * a, 78, 24, 24, 24 * w(q[s + a], Rc), 0, 24, 24, 16777215), Yf(256 + 32 * a - 12, 66, 24 * w(q[s + a], Rc), w(q[s + a], Sc));
        yf(D, 180, 98, "Auto move", 16777215, 0);
        b = ["Off", "On"];
        for (a = 0; 4 > a; a++) yf(D, 256 + 32 * a, 98, b[uc[a]], 16777215, 0), Df(256 + 32 * a, 98, 32, 13) && (yf(D, 256 + 32 * a, 98, b[uc[a]], 16711680, 0), Ef && (uc[a] = 1 - uc[a]));
        D.b(128, 108, "  Low LP Moving: " + b[vc], 16777215, 0);
        Wf(128, 108, 256, 13) && (D.b(128, 108, "  Low LP Moving: " + b[vc], 16711680, 0), vc = Zf(vc + $f, 0, 1));
        a = ["Player & Enemy", "Player", "Enemy", "Off"];
        D.b(128, 121, "  Damage Text  : " + a[wc], 16777215, 0);
        Wf(128, 121, 256, 13) && (D.b(128, 121, "  Damage Text  : " + a[wc], 16711680, 0), wc = Zf(wc + $f, 0, 3));
        a = ["Off", "Player", "Enemy", "Player & Enemy"];
        D.b(128, 134, "  LP Bar       : " + a[xc], 16777215, 0);
        Wf(128, 134, 256, 13) && (D.b(128, 134, "  LP Bar       : " + a[xc], 16711680, 0), xc = Zf(xc + $f, 0, 3));
        a = ["Square", "Triangle", "Shadow", "Off"];
        D.b(128, 147, "  Player Symbol: " + a[yc], 16777215, 0);
        Wf(128, 147, 256, 13) && (D.b(128, 147, "  Player Symbol: " + a[yc], 16711680, 0), yc = Zf(yc + $f, 0, 3));
        D.b(128, 160, "  Drag Corpses : " + b[zc], 16777215, 0);
        Wf(128, 160, 256, 13) && (D.b(128, 160, "  Drag Corpses : " + b[zc], 16711680, 0), zc = Zf(zc + $f, 0, 1));
        yf(D, 256, 182, "Space Key: open & close", 12632256, 0);
        Df(256, 182, 256, 13) && (yf(D, 256, 182, "Space Key: open & close", 16711680, 0), 0 != $f && (f = r))
    } else if (30 == f) {
        if (Tf(0), Jf(0), 100 > mb && mb++, b = z(255 *
                mb / 100), Gf(D, 256, 128, "rekt lol", 100, 20, 10, b, 200, 0, 0, b, 16, 24), 100 == mb && Ef) {
            Ne();
            for (a = 0; 4 > a; a++) 0 == p[a] && (p[a] = 1);
            te();
            f = 1
        }
    } else if (40 == f) {
        Gf(D, 256, 112, "Congratulations!", 204, 148, 73, 255, 100, 0, 0, 255, 16, 24);
        Gf(D, 256, 144, "Game Clear", 204, 148, 73, 255, 100, 0, 0, 255, 16, 24);
        yf(D, 256, 180, "Thank you for playing Community Remix!", 13407305, 6553600);
        yf(D, 256, 276, "(C) 2008-2017 DAN-BALL", 13407305, 6553600);

        for (a = 0; 4 > a; a++) {
            c = 166 + 60 * a - v.a[a][2].x;
            d = 224 - v.a[a][2].y;
            for (b = 0; 21 > b; b++) v.a[a][b].x += c, v.a[a][b].y += d;
            ag(Pa[12], 166 + 60 * a - 12, 233, 24, 8, 0, 0, 24, 8)
        }
        v.b();
        if (Ef) {
            Ne();
            for (a = 0; 4 > a; a++) 0 ==
                p[a] && (p[a] = 1);
            te();
            f = 1
        }
    }
}
da.fff = wf;

function wf() {
    var a, b, c, d, e = "";
    if (50 == f) I.j(h) && (v.set(0, 16, I.o[0]), v.set(1, 19, I.o[1]), v.set(2, 22, I.o[2]), v.set(3, 25, I.o[3]), G.j(1), oe.index = 0, ne.index = 0, pe.index = 0, mb = sb = Ib = Hb = Gb = Fb = pe.J = 0, f++);
    else if (51 == f) Tf(0), Jf(0), e = "", 0 == h ? e = "TOWN" : 20 == h ? e = "VILLAGE" : 47 == h ? e = "RESORT" : 70 == h ? e = "Forget Tree" : 77 == h && (e = "ISLAND"), Vf(255 - z(255 * (30 > mb ? mb : 30) / 30)), c = 255, 30 > mb ? c = z(255 * mb / 30) : 80 < mb && (c = 255 - z(255 * (mb - 80) / 30)), Gf(D, 256, 128, e, 255, 255, 255, c, 64, 64, 64, c, 16, 24), b = -1024 + z(512 * mb / 30), L(b, 112, b + 1024, 112, 8421504),
        b = 512 - z(512 * mb / 30), L(b, 141, b + 1024, 141, 8421504), mb++, 110 == mb && (mb = 0, f++);
    else if (52 == f)
        if (Tf(0), Jf(0), 0 != sb) f = 59;
        else if (Wf(364, 4, 56, 20)) Ef ? f = 20 : Ze[32] && (f = 20), D.b(368, 8, "Option", 16711680, 0); //changes hover text for button while in town
    else if (Ze[32]) f = 20;
    else if (Wf(428, 4, 80, 20)) Ef && (f = 6), D.b(432, 8, "World Map", 16711680, 0); //changes hover text for button while in town
    else if (70 == h)
        if (Df(256, 128, 40, 24) && (yf(D, 256, 128, "FORGET", 16711680, 1054740), Ef && (f = 55, xb = wb = vb = 0)), Df(256, 160, 40, 24)) {
            var g = 0;
            for (a = 0; 4 > a; a++) g += kc[a] - p[a];
            yf(D, 256, 160, "INN", 16711680, 1054740);
            D.b(280, 154, "charge of " + g, 16711680,
                1054740);
            if (g <= dc && Ef) {
                Ne();
                for (a = 0; 4 > a; a++) p[a] != kc[a] && ne.add(v.a[a][0].x, v.a[a][0].y, 0, kc[a] - p[a], 65280), p[a] = kc[a];
                dc -= g;
                te()
            }
        } else Df(256, 184, 48, 24) && (yf(D, 256, 184, "BOOK", 16711680, 1054740), Ef && (f = 54, xb = wb = vb = 0));
    else if (Df(400, 168, 40, 24)) {
        for (a = g = 0; 4 > a; a++) g += kc[a] - p[a];
        yf(D, 400, 168, "INN", 16711680, 13800762);
        yf(D, 400, 208, "charge of " + g, 16777215, 3219229);
        if (g <= dc && Ef) {
            Ne();
            for (a = 0; 4 > a; a++) p[a] != kc[a] && ne.add(v.a[a][0].x, v.a[a][0].y, 0, kc[a] - p[a], 65280), p[a] = kc[a];
            dc -= g;
            te()
        }
    } else Df(40, 152, 72, 24) ?
        (0 == h ? yf(D, 40, 152, "SHOP", 16711680, 13800762) : 20 == h ? yf(D, 40, 152, " COMPO SHOP", 16711680, 13800762) : 47 == h ? yf(D, 40, 152, " JUNK SHOP", 16711680, 13800762) : 77 == h && yf(D, 40, 152, " COMPO SHOP", 16711680, 13800762), Ef && (f = 53, xb = wb = vb = 0)) : Df(40, 184, 48, 24) && (yf(D, 40, 184, "BOOK", 16711680, 13800762), Ef && (f = 54, xb = wb = vb = 0));
    else if (53 == f) {
        Tf(0);
        e = sb = 0;
        0 == h ? e = 0 : 20 == h ? e = 1 : 47 == h ? e = 2 : 77 == h && (e = 3);
        var k = [
            [3, 4, 5, 6, 12, 14, 15, 18],
            [7, 8, 9, 10, 11, 16, 17],
            [3, 4, 5, 6, 12, 14, 15, 18],
            [7, 8, 9, 10, 11, 16, 17]
        ];
        c = 80;
        d = 28;
        Xf = 1;
        V(c - 4, d - 4, 243, 168, 2147483648);
        Xf = 0;
        bg(c + 0, d + 0, 236, 161, 16777215);
        Wf(c + 8, d + 4, 16 * k[e].length, 12) && (b = z((cg - (c + 8)) / 16), Ef && (vb = b, wb = K(wb, 0, z(Lc[e][vb].length / 3) - 1)), V(c + 8 + 16 * b, d + 4, 12, 12, 10027008));
        dg = 2;
        for (a = 0; a < k[e].length; a++) eg(Ra, c + 8 + 16 * a, d + 4, 12, 12, 12 * k[e][a], 0, 12, 12, 16777215);
        dg = 0;
        bg(c + 8 + 16 * vb - 1, d + 4 - 1, 14, 14, 10027008);
        L(c + 0, d + 20 - 1, c + 235, d + 20 - 1, 16777215);
        Wf(c + 120, d + 24, 84, 84) && (b = z((cg - (c + 120)) / 28), a = z((fg - (d + 24)) / 28), Ef && (xb = 3 * a + b), V(c + 120 + 28 * b, d + 24 + 28 * a, 24, 24, 10027008));
        b = (3 * wb + xb) % Lc[e][vb].length;
        k = Lc[e][vb][b];
        g = 1;
        for (a = 0; a <
            ze; a++) 0 < (Ae[a] & Be) && g < gg[a] && (g = gg[a]);
        0 == h && g <= b && (k = 0);
        hg(c + 8, d + 24, u[k][Mc] + " " + (u[k][Nc] ? u[k][Nc] : ""), -1, 2631720, -2);
        hg(c + 8, d + 24, u[k][Mc] + " " + (u[k][Nc] ? u[k][Nc] : ""), 16777215, -1, -2);
        a = w(k, Rc);
        if (9 == a) D.b(c + 8, d + 40, "Compo Item", -1, 5263440), hg(c + 8, d + 56, u[k][jd], -1, 2631720, -2), hg(c + 8, d + 56, u[k][jd], 16777215, -1, -2), hg(c + 8, d + 68, u[k][kd], -1, 2631720, -2), hg(c + 8, d + 68, u[k][kd], 16777215, -1, -2);
        else {
            D.b(c + 8, d + 40, "AT " + u[k][Tc] + "-" + u[k][Uc], 16777215, 0);
            D.b(c + 8, d + 52, "AGI " + u[k][Wc] + "-" + u[k][Xc], 16777215, 0);
            D.b(c + 8, d + 64, "RANGE " + u[k][Yc], 16777215, 0);
            var r = w(k, $c),
                m = w(k, ad),
                n = ig(w(k, bd), 0),
                F = w(k, dd),
                H = w(k, ed);
            D.b(c + 8, d + 80, "TYPE " + "physical fire ice electric poison freeze".split(" ")[r], 16777215, 0);
            D.b(c + 8, d + 92, "AT " + F + "-" + H, 16777215, 0);
            6 == a ? D.b(c + 8, d + 104, "$$ " + n, 16777215, 0) : (5 == a ? D.b(c + 8, d + 104, "PC " + n, 16777215, 0) : D.b(c + 8, d + 104, "MP " + n, 16777215, 0));
            2 == r ? D.b(c + 8, d + 116, "SLOW " + m + "%", 16777215, 0) :
            4 == r ? D.b(c + 8, d + 116, "TIME " + m / 50 + "s", 16777215, 0) :
            5 == r && D.b(c + 8, d + 116, "TIME " + m / 50 + "s", 16777215, 0);
        }
        for (a = 0; 9 > a; a++) r = (3 * wb + a) % Lc[e][vb].length, 0 == h && g <= r || (dg = 2,
            eg(Ua, c + 120 + a % 3 * 28, d + 24 + 28 * z(a / 3), 24, 24, 24 * w(Lc[e][vb][r], Qc), 0, 24, 24, w(Lc[e][vb][r], Sc)), dg = 0, u[Lc[e][vb][r]][Nc] && hf.b(c + 120 + a % 3 * 28 + 19, d + 24 + 28 * z(a / 3) + 17, "" + u[Lc[e][vb][r]][Nc], 16777215, -1));
        bg(c + 120 + xb % 3 * 28, d + 24 + 28 * z(xb / 3), 24, 24, 10027008);
        g = w(k, Oc);
        2 == e && 1 == b && (g *= 10);
        if (Wf(c + 176 - 56, d + 120 - 10, 108, 20)) {
            if (0 != k && g <= dc && Ef) {
                Ne();
                a = 0;
                if (0 == e || 2 == e && 0 == b) a = Ic;
                pe.add(40, 200, k, 0, a);
                dc -= g;
                te()
            }
            V(c + 176 - 56, d + 120 - 10, 108, 20, 10027008)
        }
        yf(D, c + 176, d + 120, "" + g + "$ BUY", 16777215, 0);
        bg(c + 176 - 56, d + 120 - 10, 108, 20, 10027008);
        k = 16777215;
        Wf(c + 216 - 12, d + 36 - 12, 24, 24) && (Ef && (wb = Zf(wb - 1, 0, z(Lc[e][vb].length / 3) - 1)), k = 10027008);
        bg(c + 216 - 12, d + 36 - 12, 24, 24, 16777215);
        V(c + 216 - 1, d + 36 - 8, 2, 2, k);
        V(c + 216 - 2, d + 36 - 6, 4, 2, k);
        V(c + 216 - 3, d + 36 - 4, 6, 2, k);
        V(c + 216 - 4, d + 36 - 2, 8, 2, k);
        V(c + 216 - 5, d + 36 + 0, 10, 2, k);
        V(c + 216 - 6, d + 36 + 2, 12, 2, k);
        V(c + 216 - 7, d + 36 + 4, 14, 2, k);
        V(c + 216 - 8, d + 36 + 6, 16, 2, k);
        k = 16777215;
        Wf(c + 216 - 12, d + 92 - 12, 24, 24) && (Ef && (wb = Zf(wb + 1, 0, z(Lc[e][vb].length / 3) - 1)), k = 10027008);
        bg(c + 216 - 12, d + 92 - 12, 24, 24, 16777215);
        V(c + 216 - 8, d + 92 - 8, 16, 2, k);
        V(c + 216 - 7, d + 92 - 6, 14, 2, k);
        V(c + 216 - 6, d + 92 - 4, 12, 2, k);
        V(c + 216 - 5, d + 92 - 2, 10, 2, k);
        V(c + 216 - 4, d + 92 + 0, 8, 2, k);
        V(c + 216 - 3, d + 92 + 2, 6, 2, k);
        V(c + 216 - 2, d + 92 + 4, 4, 2, k);
        V(c + 216 - 1, d + 92 + 6, 2, 2, k);
        L(c + 0, d + 136 - 1, c + 235, d + 136 - 1, 16777215);
        L(c + 120, d + 136 - 1, c + 120, d + 160, 16777215);
        Wf(c + 0 + 1, d + 136, 120, 24) && 0 != q[Gc] ? (g = z(w(q[Gc], Oc) / 8), Ef && (Ne(), pe.add(40, 200, 1, g, 0), q[Gc] = 0, Dc[Gc] = 0, Ec[Gc] = 0, te()), V(c + 0 + 1, d + 136, 119, 24, 10027008), yf(D, c + 60, d + 148, "" + g + "$ SELL", 16777215, 0)) : Wf(c + 0 + 1, d + 136, 120, 24) && 0 == q[Gc] && 0 == Jb ? (Ef && (Jb = 1), V(c + 0 + 1, d + 136, 119, 24, 10027008),
            yf(D, c + 60, d + 148, "CLICK TO SELL", 16777215, 0)) : Wf(c + 0 + 1, d + 136, 120, 24) && 0 == q[Gc] && 1 == Jb ? (Ef && (Jb = 0), V(c + 0 + 1, d + 136, 119, 24, 10027008), yf(D, c + 60, d + 148, "CANCEL", 16777215, 0)) : 1 == Jb ? yf(D, c + 60, d + 148, "CANCEL", 16777215, 0) : yf(D, c + 60, d + 148, "DRAG TO SELL", 16777215, 0);
        Wf(c + 120 + 1, d + 136, 114, 24) && (Ef && (Jb = 0, f = 52), V(c + 120 + 1, d + 136, 114, 24, 10027008));
        yf(D, c + 176, d + 148, "EXIT", 16777215, 0);
        Jf(1)
    }
    else if (54 == f)
{
    Tf(0);
    sb = 0;
    k = 10;
    c = 80;
    d = 28;
    Xf = 1;
    70 == h ? V(c - 4, d - 4, 328, 168, 3422552064) : V(c - 4, d - 4, 328, 168, 2147483648);
    Xf = 0;
    bg(c + 0, d + 0, 321, 161, 16777215);
    L(c + 160, d + 0, c + 160, d + 160, 16777215);
    e = "WORLD MAP " + (100 > vb ? " " : ""); //text at the top of the book
    e += "" + z(vb / k + 1) + "/" + z((jg.length - 1) / k + 1);
    D.b(c + 20, d + 4, e, -1, 32768);
    Wf(c + 8, d + 16, 144, 12 * k) && (a = z((fg - (d + 16)) / 12), Ef && (wb = a), V(c + 8, d + 16 + 12 * a, 144, 12, 10027008));
    for (a = 0; a < k; a++) e = jg[vb + a], 0 != e && (0 < (Ae[e] & Be) ? D.b(c + 8, d + 16 + 12 * a, Uf[e], 16777215, 0) : D.b(c + 8, d + 16 + 12 * a, "???", 16777215, 0));
    e = jg[vb + wb]; //e = currently selected stage in book (id)
    0 != e && (0 < (Ae[e] & Be) ? D.b(c + 8, d + 16 + 12 * wb, Uf[e], 16711680, 0) : D.b(c + 8, d + 16 + 12 * wb, "???", 16711680, 0));
    L(c + 0, d + 140, c + 160, d + 140, 16777215);
    Wf(c + 8, d + 144 - 2, 48, 17) && (Ef && (vb = Zf(z(vb / k) - 1, 0, z((jg.length - 1) / k)) * k), V(c + 8, d + 144 - 2, 48, 17, 10027008));
    D.b(c + 16, d + 144 + 1, "Prev", 16777215, 0);
    Wf(c + 56, d + 144 - 2, 48, 17) && (Ef && (vb = Zf(z(vb / k) + 1, 0, z((jg.length - 1) / k)) * k), V(c + 56, d + 144 - 2, 48, 17, 10027008));
    D.b(c + 64, d + 144 + 1, "Next", 16777215, 0);
    Wf(c + 104, d + 144 - 2, 48, 17) && (Ef && (f = 52), V(c + 104, d + 144 - 2, 48, 17, 10027008));
    D.b(c + 112, d + 144 + 1, "EXIT", 16777215, 0);
    if (0 != e)
        if (0 < (Ae[e] & kg))
        {
            var enNum = XX[e];
            g = c + 80 - 16 * enNum;
            Wf(g + 160, d + 0, 32 * enNum, 52) && (b = z((cg - (g + 160)) / 32), Ef && (xb = b), V(g + 160 + 32 * b + 2, d + 0 + 2, 28, 52, 10027008));
            V(g + 160 + 32 * xb + 2, d + 48 + 2, 28, 4, 10027008);
            xb = K(xb, 0, enNum - 1);
            for (a = 0; a < enNum; a++) ag(Pa[Me[e][Me[e].length - 1][0]], g + 164 + 32 * a, d + 44, 24, 8, 0, 0, 24, 8);
            k = Pee[e][a + 1];
            for (b = a = 0; a < enNum; a++, b++) G.M(Pee[e][a], g + 164 + 12 + 32 * b, d + 44 - 1, 0);
            //checks for opening street to avoid issues with id 0
            var eid = 0, YY = 0;
            for (a = 0; a < enNum; a++)
            e == 1 ? eid = Pee[e][e + xb - 1] : eid = Pee[e][YY + xb];

            D.b(c + 164, d + 56, "Lv   " + B[eid][Qe], 16777215, 0);
            D.b(c + 164, d + 68, "LP   " + B[eid][lg], 16777215, 0);
            D.b(c + 164, d + 80, "GOLD " + B[eid][mg], 16777215, 0);
            D.b(c + 164, d + 92, "EXP  " + B[eid][ng], 16777215, 0);
            D.b(c + 164, d + 108, "Drop Item", 16777215, 0);
            for (b = a = 0; 6 > a; a += 2) k = B[eid][og + a], 0 != k && (dg = 2, eg(Ra, c + 164, d + 4 * (30 + 3 * b), 12, 12, 12 * w(k, Pc), 0, 12, 12, w(k, Sc)), dg = 0, hg(c + 164, d + 4 * (30 + 3 * b), "  " + u[k][Mc] + " " + (u[k][Nc] ? u[k][Nc] : ""), 16777215, 0, -1), b++);
            D.b(c + 256, d + 56, "strong", 16777215, 0);
            0 < B[eid][pg] && hf.b(c + 256, d + 68 + 2, "Ph          ", 8421504, 0);
            0 < B[eid][qg] && hf.b(c + 256, d + 68 + 2, "  Fi        ", 16711680, 0);
            0 < B[eid][rg] && hf.b(c + 256, d + 68 + 2, "    Ic      ", 2105599, 0);
            0 < B[eid][sg] && hf.b(c + 256, d + 68 + 2, "      Th    ", 16777024, 0);
            0 < B[eid][tg] && hf.b(c + 256, d + 68 + 2, "        Po  ", 65280, 0);
            0 < B[eid][ug] && hf.b(c + 256, d + 68 + 2, "          Fr", 12632319, 0);
            D.b(c + 256, d + 80, "weak", 16777215, 0);
            0 > B[eid][pg] && hf.b(c + 256, d + 92 + 2, "Ph          ", 8421504, 0);
            0 > B[eid][qg] && hf.b(c + 256, d + 92 + 2, "  Fi        ", 16711680, 0);
            0 > B[eid][rg] && hf.b(c + 256, d + 92 + 2, "    Ic      ", 2105599, 0);
            0 > B[eid][sg] && hf.b(c + 256, d + 92 + 2, "      Th    ", 16777024, 0);
            0 > B[eid][tg] && hf.b(c + 256, d + 92 + 2, "        Po  ", 65280, 0);
            0 > B[eid][ug] && hf.b(c + 256, d + 92 + 2, "          Fr", 12632319, 0)
        }
        else 0 < (Ae[e] & Be) ? (yf(D, c + 240, d + 40, "Information fee", 16777215, 0),
                g = 1E3 * (vb + wb + 1), Df(c + 240, d + 80, 160, 160) && (g <= dc && Ef && (Ne(), Ae[e] |= kg, dc -= g, te()), Hf(c + 240, d + 80, 120, 32, 10027008)), yf(D, c + 240, d + 80, "" + g + "$ BUY", 16777215, 0)) : (yf(D, c + 240, d + 40, "?????", 16777215, 0), yf(D, c + 240, d + 80, "???", 16777215, 0));
        Jf(1)
    } else if (55 == f) {
        Tf(0);
        sb = 0;
        c = 80;
        d = 28;
        Xf = 1;
        V(c - 4, d - 4, 328, 168, 3422552064);
        Xf = 0;
        bg(c + 0, d + 0, 321, 161, 16777215);
        L(c + 160, d + 0, c + 160, d + 160, 16777215);
        c = 100;
        d = 60;
        for (a = 0; 4 > a; a++)
            Wf(c + 32 * a - 4, d + 0 - 4, 32, 32) ? (V(c + 32 * a, d + 0, 24, 24, 10027008), Ef && (vb = a)) : V(c + 32 * a, d + 0, 24, 24, 0), eg(Qa, c + 32 * a, d, 24, 24, 24 * w(q[s + a], Rc), 0, 24, 24, 16777215), Yf(c + 32 * a, d, 24 * w(q[s + a], Rc), w(q[s + a], Sc));
        bg(c + 32 * vb - 1, d - 1, 26, 26, 16711680);
        D.b(c, d - 16, Jc[w(q[s + vb], Rc)], 16777215, 0);
        c = 100;
        d = 74;
        D.b(c, d + 16, "LP  " + gc[vb], 16777215, 0);
        D.b(c, d + 28, "STR " + hc[vb], 16777215, 0);
        D.b(c, d + 40, "DEX " + ic[vb], 16777215, 0);
        D.b(c, d + 52, "MAG " + jc[vb], 16777215, 0);
        D.b(c, d + 68, "LV  " + Mb[0], 16777215, 0);
        D.b(c, d + 68, "        SP " + ac[vb], 16777215, 0);
        c = 80;
        d = 28;
        L(c + 0, d + 140, c + 160, d + 140, 16777215);
        Wf(c + 56, d + 144 - 2, 48, 17) && (Ef && (f = 52), V(c + 56, d + 144 - 2, 48, 17, 10027008));
        D.b(c + 64, d + 144 + 1, "EXIT", 16777215, 0);
        g = 1E3 * (gc[vb] + hc[vb] + ic[vb] + jc[vb]);
        Df(c + 240, d + 80, 120, 32) && 0 < g && (g <= dc && Ef && (Ne(), ac[vb] += gc[vb] + hc[vb] + ic[vb] + jc[vb], gc[vb] = 0, hc[vb] = 0, ic[vb] = 0, jc[vb] = 0, dc -= g, te()), Hf(c + 240, d + 80, 120, 32, 10027008));
        yf(D, c + 240, d + 72, "Forget", 16777215, 0);
        yf(D, c + 240, d + 88, "" + g + "$ BUY", 16777215, 0);
        Jf(1)
    } else 59 == f && (Tf(0), Jf(0), Vf(z(255 * mb / 30)), mb++, 30 == mb && (mb = nb = sb = 0, f = 6, Ne(), Ae[h] |= Be, 0 < De[h][3] && (Ae[De[h][3]] |= Ce), 0 < De[h][4] && (Ae[De[h][4]] |= Ce), te(), he = se(0), fe = 1))
}
da.fff = xf;

function xf() {
    var a, b, c;
    if (70 == f) h = 0, nb = 1, I.j(h) && (v.set(0, 26, I.o[0]), v.set(1, 30, I.o[1]), v.set(2, 34, I.o[2]), v.set(3, 38, I.o[3]), G.j(1), oe.index = 0, ne.index = 0, pe.index = 0, mb = sb = Ib = Hb = Gb = Fb = pe.J = 0, f++);
    else if (71 == f || 72 == f || 73 == f || 74 == f)
        if (I.b(), v.move(), pe.move(), ne.move(), oe.move(), pe.b(), v.b(), oe.b(), ne.b(), Jf(0), 71 == f) 0 == ua ? La ? vg(xa, "\u30b3\u30e1\u30f3\u30c8\u3092\u8a18\u5165\u3057\u3066\uff2f\uff2b\u3092\u62bc\u3057\u3066\u4e0b\u3055\u3044") : vg(xa, "Enter comments and click OK.") : La ? 100 == ua ? vg(xa,
                "\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f") : 1 == ua ? vg(xa, "\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u304c\u5fc5\u8981\u3067\u3059") : 2 == ua ? vg(xa, "1\u65e5\u306b1\u56de\u306e\u307f\u3067\u3059") : 3 == ua ? vg(xa, "10\u4ef6\u4ee5\u4e0a\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u51fa\u6765\u307e\u305b\u3093") : vg(xa, "\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u51fa\u6765\u307e\u305b\u3093") : 100 == ua ? vg(xa, "The upload has been completed.") : 1 == ua ? vg(xa, "User registration is required.") : 2 == ua ?
            vg(xa, "1 time in 1 day only.") : 3 == ua ? vg(xa, "Cannot upload more than 10 posts.") : vg(xa, "Cannot upload."), f++;
        else if (72 == f) {
        if (Hf(256, 100, 300, 100, 8421504), yf(D, 256, 70, "UPLOAD", 16752800, 0), J(xa, 256, 90, xa.u, 16, 0, 0, xa.u, 16, 0), 0 == ua) {
            b = wg;
            V(136, 108, 240, 16, 16777215);
            bg(135, 107, 242, 18, 0);
            if (Wf(136, 108, 240, 16) && (bg(135, 107, 242, 18, 16711680), xg)) {
                c = null;
                try {
                    c = prompt("UPLOAD", b)
                } catch (d) {}
                null != c && (b = c)
            }
            vg(yg, b);
            eg(yg, 137, 108, 238, 16, 0, 0, 238, 16, 0);
            wg = b;
            b = Df(256, 140, 16, 12);
            yf(D, 256, 140, "OK", b ? 16711680 : 16777215,
                0);
            if (b && xg)
                if (2 > wg.length) La ? vg(xa, "\u30b3\u30e1\u30f3\u30c8\u3092\uff12\u6587\u5b57\u4ee5\u4e0a\u8a18\u5165\u3057\u3066\u4e0b\u3055\u3044") : vg(xa, "The comment must be longer than 2 characters.");
                else {
                    b = wg;
                    c = 0;
                    a = b.length;
                    for (var e = 0; e < a; e++) {
                        var g = b.charCodeAt(e);
                        c = 0 <= g && 128 >= g || 65377 <= g && 65439 >= g ? c + 1 : c + 2
                    }
                    20 < c ? La ? vg(xa, "\u30b3\u30e1\u30f3\u30c8\u3092\uff11\uff10\u6587\u5b57\u4ee5\u4e0b\u3067\u8a18\u5165\u3057\u3066\u4e0b\u3055\u3044") : vg(xa, "The comment must be shorter than 10 characters.") : f++
                }
        }
    } else 73 ==
        f ? (b = encodeURIComponent(wg), 0 == b.length ? (La ? vg(xa, "\u30a8\u30e9\u30fc") : vg(xa, "Error"), f = 72) : 0 == q[s + 0] || 0 == q[s + 1] || 0 == q[s + 2] || 0 == q[s + 3] ? (La ? vg(xa, "\u6b66\u5668\u3092\u88c5\u5099\u3057\u3066\u4e0b\u3055\u3044") : vg(xa, "Equip a weapon."), f = 72) : (Ne(), he = se(1), c = zg(47, 115, 99, 111, 114, 101, 47, 114, 97, 110, 103, 101, 114, 95, 101, 110, 116, 114, 121, 46, 112, 104, 112, 63, 97, 61), c += ha, c += Ag + (La ? "0" : "1"), c += Bg + b, c += Cg + he, Ue(c), Dg(c), f++)) : 74 == f && 0 != Eg && (ua = "ok" == Fg[0] ? 100 : "err1" == Fg[0] ? 1 : "err2" == Fg[0] ? 2 : "err3" == Fg[0] ? 3 : "err4" ==
            Fg[0] ? 4 : "err5" == Fg[0] ? 5 : 6, f = 71);
    else if (60 == f) {
        if (h = 0, nb = 1, I.j(h)) {
            v.set(0, 10, I.o[0]);
            v.set(1, 11, I.o[1]);
            v.set(2, 12, I.o[2]);
            v.set(3, 13, I.o[3]);
            v.set(4, 53, I.o[0]);
            v.set(5, 52, I.o[1]);
            v.set(6, 51, I.o[2]);
            v.set(7, 50, I.o[3]);
            Cf();
            Ne();
            for (a = 0; 8 > a; a++) p[a] = kc[a];
            for (a = 0; 8 > a; a++) fc[a] = 0;
            dc = 9999999;
            te();
            G.j(1);
            oe.index = 0;
            ne.index = 0;
            pe.index = 0;
            mb = sb = Ib = Hb = Gb = Fb = pe.J = 0;
            f++
        }
    } else if (61 == f || 62 == f || 63 == f || 64 == f) //The array in the V() function controls UI colors based on tilesets; add more colors to this to give new tilesets an assigned UI color
        for (I.b(), 61 == f && (v.fb = 1), v.move(), ne.move(), oe.move(), v.fb = 0, v.b(), oe.b(), ne.b(), Cf(), 61 == f ? (mb = K(mb +
                1, 0, 30), a = z(255 * mb / 30), L(0, 110, z(512 * mb / 30), 110, 8421504), L(512 - z(512 * mb / 30), 143, 512, 143, 8421504), Df(256, 127, 512, 32) && 30 == mb ? (Ef && (f++, mb = 0), Hf(256, 127, 512, 32, 8388608), Gf(D, 256, 128, "FIGHT", 255, 255, 255, 255, 0, 0, 0, 255, 16, 24)) : Gf(D, 256, 128, "READY", 255, 255, 255, a, 0, 0, 0, a, 16, 24), Xf = 1, b = 110, c = 120, vg(xa, ma), J(xa, b, c + 0 - 2, xa.u, 16, 0, 0, xa.u, 16, a << 24 | 16777215), vg(Aa, na), J(Aa, b, c + 16 - 2, Aa.u, 16, 0, 0, Aa.u, 16, a << 24 | 16777215), b = 402, vg(Ba, qa), J(Ba, b, c + 0 - 2, Ba.u, 16, 0, 0, Ba.u, 16, a << 24 | 16777215), vg(Da, ra), J(Da, b, c + 16 - 2, Da.u,
                16, 0, 0, Da.u, 16, a << 24 | 16777215), Xf = 0) : 62 == f ? 0 == p[0] + p[1] + p[2] + p[3] ? (sa = 2, f++) : 0 == p[4] + p[5] + p[6] + p[7] && (sa = 1, f++) : 63 == f ? (0 == ua && (ua = 1, c = zg(47, 115, 99, 111, 114, 101, 47, 114, 97, 110, 103, 101, 114, 95, 118, 115, 46, 112, 104, 112, 63, 97, 61), c += ha, c += Ag + (La ? "0" : "1"), c += Bg + la, c += Cg + oa, 0 != q[s + 0] && 0 != q[s + 1] && 0 != q[s + 2] && 0 != q[s + 3] && (c += Gg + Ee(sa)), Ue(c), Dg(c)), f++) : 64 == f && (mb = K(mb + 1, 0, 50), a = z(255 * mb / 50), Df(256, 128, 96, 32) && 50 == mb && (Ef && (f = 60), Hf(256, 128, 96, 32, 8388608)), If(256, 128, 96, 32, 0 | z(a / 2) << 16), Gf(D, 256, 129, "RETRY", 255,
                255, 255, a, 0, 0, 0, a, 16, 24), b = 60, c = 72, Xf = 1, eg(xa, b, c + 0 - 2, xa.u, 16, 0, 0, xa.u, 16, a << 24 | 16777215), Xf = 0, Gf(D, b + 60, c + 40, 1 == sa ? "WIN" : "LOSE", 255, 255, 255, a, 1 == sa ? 255 : 0, 0, 1 == sa ? 0 : 255, a, 32, 48), 0 != Eg && ("ok" == Fg[0] ? (D.M(b, c + 64, "" + Fg[1] + " win " + Fg[2] + " lose", 255, 255, 255, a, 0, 0, 0, a, 8, 12), D.M(b, c + 80, "Winning per " + Fg[3] + "%", 255, 255, 255, a, 0, 0, 0, a, 8, 12)) : D.M(b, c + 64, " RANKING ERROR", 255, 255, 255, a, 0, 0, 0, a, 8, 12)), b = 332, Xf = 1, eg(Ba, b, c + 0 - 2, Ba.u, 16, 0, 0, Ba.u, 16, a << 24 | 16777215), Xf = 0, Gf(D, b + 60, c + 40, 2 == sa ? "WIN" : "LOSE", 255, 255, 255,
                a, 2 == sa ? 255 : 0, 0, 2 == sa ? 0 : 255, a, 32, 48), 0 != Eg && ("ok" == Fg[0] ? (D.M(b, c + 64, "" + Fg[4] + " win " + Fg[5] + " lose", 255, 255, 255, a, 0, 0, 0, a, 8, 12), D.M(b, c + 80, "Winning per " + Fg[6] + "%", 255, 255, 255, a, 0, 0, 0, a, 8, 12)) : D.M(b, c + 64, " RANKING ERROR", 255, 255, 255, a, 0, 0, 0, a, 8, 12))), V(0, 257, 512, 126, [13407305, 9480368, 7241784, 10993609, 11302740, 24586, 7297069, 7297069, 10053120][Me[h][nb][0]]), hf.M(10, 374, Hg, 0, 0, 0, 0, 0, 0, 0, 128, 5, 7), Gf(D, 256, 328, "VS", 255, 255, 255, 255, 0, 0, 0, 255, 16, 24), b = 40, c = 268, eg(xa, b, c + 0 - 2, xa.u, 16, 0, 0, xa.u, 16, 0), D.b(b,
                c + 16, "LV " + Mb[0], 16777215, 0), D.b(b, c + 16, "        FP " + Nb[0], 16777215, 0), vg(Fa, "\u300c " + na + " \u300d"), J(Fa, b + 60, c + 88, Fa.u, 16, 0, 0, Fa.u, 16, 0), b = 206, Gf(D, b, c + 20 + 2, "Rank", 0, 0, 0, 0, 0, 0, 0, 128, 8, 12), Gf(D, b, c + 60, "" + Kc[$b[0]], 0, 0, 0, 0, 0, 0, 0, 80, 32, 48), b = 352, eg(Ba, b, c + 0 - 2, Ba.u, 16, 0, 0, Ba.u, 16, 0), D.b(b, c + 16, "LV " + Mb[1], 16777215, 0), D.b(b, c + 16, "        FP " + Nb[1], 16777215, 0), vg(Ga, "\u300c " + ra + " \u300d"), J(Ga, b + 60, c + 88, Ga.u, 16, 0, 0, Ga.u, 16, 0), b = 306, Gf(D, b, c + 20 + 2, "Rank", 0, 0, 0, 0, 0, 0, 0, 128, 8, 12), Gf(D, b, c + 60, "" + Kc[$b[1]],
                0, 0, 0, 0, 0, 0, 0, 80, 32, 48), b = 40, c = 316, a = 0; 8 > a; a++) 4 <= a && (b = 224), V(b + 32 * a, c - 12, z(24 * p[a] / kc[a]), 4, 8388608), e = ig(w(q[s + a], bd), 1), g = w(q[s + a], Rc), 6 == g && (e = ig(w(q[s + a], 58), 1) + nc[a]), 4 != g && 5 != g && V(b + 32 * a, c - 6, z(23 * fc[a] / e) + 1, 2, 128), V(b + 32 * a, c + 0, 24, 24, 0), eg(Qa, b + 32 * a, c, 24, 24, 24 * w(q[s + a], Rc), 0, 24, 24, 16777215), Yf(b + 32 * a, c, 24 * w(q[s + a], Rc), w(q[s + a], Sc))
}

function Ff() {
    V(0, 368, 512, 16, 0);
    yf(D, 256, 376, Ve, -1, 6697728)
}
da.fff = Tf;

function Tf(a) {
    var b;
    I.b();
    if (0 == h && 1 == nb || 20 == h && 1 == nb || 47 == h && 1 == nb || 77 == h && 1 == nb)
        J(db, 400, 183, 117, 84, 0, 0, 78, 56, 16777215), J(db, 40, 170, 156, 112, 0, 0, 78, 56, 16777215), yf(D, 400, 168, "INN", 16777215, 13800762), 0 == h ? yf(D, 40, 152, "SHOP", 16777215, 13800762) : 20 == h ? yf(D, 40, 152, " COMPO SHOP", 16777215, 13800762) : 47 == h ? yf(D, 40, 152, " JUNK SHOP", 16777215, 13800762) : 77 == h && yf(D, 40, 152, " COMPO SHOP", 16777215, 13800762), yf(D, 40, 184, "BOOK", 16777215, 13800762);
    70 == h && 1 == nb && (eg(hb, 0, -288, 512, 512, 0, 0, 64, 64, 16777215), 52 == f && (yf(D, 256, 128, "FORGET", 16777215, 1054740), yf(D, 256, 160, "INN", 16777215, 1054740), yf(D, 256, 184, "BOOK", 16777215, 1054740)));
    0 == a && (v.move(), G.move(), pe.move(), ne.move(), oe.move());
    b = I;
    if (55 != b.w && 89 != b.w && nb != Me[b.w].length - 1 || 0 == G.index) { //Add stage IDs to this if statement to make them "gauntlet" stages like Mountaintop and Volcano
        var c;
        c = 7 == Me[h][nb][1] ? 8 * b.o[63] - 16 : 8 * b.I[63] - 16;
        ag(Wa, 480, c, 32, 24, 0, 0, 32, 24);
        nb == Me[b.w].length - 1 ? 88 == b.w ? yf(hf, 496, c + 8, "END", 0, -1) : yf(hf, 496, c + 8, "MAP", 0, -1) : nb == Me[b.w].length - 2 ? yf(hf, 496, c + 8, "BOSS", 0, -1) : yf(hf, 496, c + 8, "NEXT", 0, -1)
    }
    G.b();
    pe.b();
    v.b();
    oe.b();
    var d = I,
        e, g, k;
    k = C;
    switch (d.w) {
        case 15:    //Mist
        case 16:
        case 30:
        case 31:
        case 32:
        case 33:
        case 66:
        case 67:
        case 68:
        case 69:
            Xf = 1;
            dg = 3;
            C = Ma.f;
            b = N(1.7, 3.69);
            b *= b * b * b;
            J(Za, N(0, 512), 256 - b, 256, 32, 96, 0, 16, 16, 150994943);
            e = 256 * ea;
            if (3 > A(100))
                for (b = 64 * ea; b < e; b++) C[b] = 250 * C[b] >> 8;
            C = k;
            for (b = 64 * ea; b < e; b++) d = Ma.f[b] & 255, c = C[b] >> 16 & 255, k = ((255 - c) * d >> 8) + c, c = C[b] >> 8 & 255, g = ((255 - c) * d >> 8) + c, c = C[b] & 255, c = ((255 - c) * d >> 8) + c, C[b] = k << 16 | g << 8 | c;
            Xf = dg = 0;
            break;
        case 17:    //Darkness
        case 18:
        case 19:
        case 48:
        case 49:
        case 50:
        case 83:
        case 84:
            C = Ma.f;
            e = 256 * ea;
            for (b = 0; b < e; b++) C[b] = 255;
            Xf = dg = 3;
            for (b = 0; 4 > b; b++) J(Za, v.a[b][0].x, v.a[b][0].y, 80, 80, 33, 1, 14, 14, 3238002687);
            for (b = 0; b < oe.index; b++) 1 != oe.F[b] && J(Za, oe.a[b].x, oe.a[b].y, 32, 32, 33, 1, 14, 14, 2164260863);
            for (b = 0; 4 > b; b++)
                if (8 == v.step[b])
                    for (c = 0; 6 > c; c++) 0 != v.O[b][c] && J(Za, v.a[b][15 + c].x, v.a[b][15 + c].y, 32, 32, 33, 1, 14, 14, 2164260863);
            for (b = 0; b < pe.index; b++) J(Za, pe.a[b].x, pe.a[b].y - 6, 32, 32, 33, 1, 14, 14, 4294967295);
            J(Za, cg, fg, 80, 80, 33, 1, 14, 14, 3238002687);
            C = k;
            Xf = 1;
            for (b = 0; b < e; b++) d = Ma.f[b], 255 == d ? C[b] = 251658240 : (c = C[b] >> 16 & 255, k = (-c * d >> 8) + c, c = C[b] >> 8 & 255, g = (-c * d >> 8) + c, c = C[b] & 255, c = (-c * d >> 8) + c, C[b] = k << 16 | g << 8 | c);
            Xf = dg = 0;
            break;
        case 34:    //Heat Wave
        case 35:
        case 36:
        case 37:
        case 38:
        case 40:
        case 41:
        case 43:
            b = 1 * Ig & 511;
            for (g = 0; 256 > g; g++) {
                c = 512 * g;
                k = ~~(4 * Xe[b][1] + 0.5);
                for (e = 0; 512 > e; e++)
                    Ma.f[c + e] = C[c + K(e + k, 0, 511)];
                b = b + 6 & 511
            }
            e = 256 * ea;
            for (c = 0; c < e; c++)
                C[c] = Ma.f[c];
            break;
        case 51:    //Snow
        case 52:
        case 56:
        case 57:
        case 58:
        case 59:
        case 60:
        case 61:
            e = 1;
            57 == d.w ? e = 2 : 58 == d.w ? e = 2 : 59 == d.w ? e = 2 : 60 == d.w ? e = 3 : 61 == d.w && (e = 3);
            for (b = 0; b < e; b++) Ma.f[z(A(24576))] = 1;
            for (b = 224 * ea - 1; 0 <= b; b--)
            1 == Ma.f[b] && ((g = I.e[b >> 12][(b & 511) >> 3], -1 == g || 0 == g && 3 > (b & 7) && 3 > (b >> 9 & 7) || 2 == g && 4 < (b & 7) && 3 > (b >> 9 & 7)) ? !(50 > A(100)) && (c = 57 == d.w || 58 == d.w || 61 == d.w ? b + ea + z(A(4)) - 2 : b + ea + z(A(3)) - 1, 1 != Ma.f[c] && (g = I.e[c >> 12][(c & 511) >> 3], -1 == g || 0 == g && 3 > (c & 7) && 3 > (c >> 9 & 7) || 2 == g && 4 < (c & 7) && 3 > (c >> 9 & 7))) && (Ma.f[c] = Ma.f[b], Ma.f[b] = 0) : Ma.f[b] = 0);
            C = Ma.f;
            for (b = 0; 4 > b; b++) 0 != p[b] && (Hf(v.a[b][0].x, v.a[b][0].y, 3, 3, 0), Hf(v.a[b][9].x, v.a[b][9].y, 1, 1, 0), Hf(v.a[b][10].x, v.a[b][10].y, 1, 1, 0));
            for (b = 0; b < oe.index; b++)
                1 == oe.U[b] && Hf(oe.a[b].x, oe.a[b].y, 3, 3, 0);
            C = k;
            for (b = 224 * ea - 1; 0 <= b; b--) 1 == Ma.f[b] && (C[b] = 15266040)
    }
    ne.b();
    Xf = 1;
    V(4, 4, 8 * (Uf[h].length + 6) + 8, 20, 2151694400);
    Xf = 0;
    0 == h && 1 == nb || 20 == h && 1 == nb || 47 == h && 1 == nb || 70 == h && 1 == nb || 77 == h && 1 == nb ? D.b(8, 8, Uf[h], 16777215, 0) : nb + 1 == Me[h].length ? D.b(8, 8, Uf[h] + ": BOSS", 16777215, 0) : D.b(8, 8, Uf[h] + ": " + (nb + 1), 16777215, 0);
    Xf = 1;
    V(364, 4, 56, 20, 2151694400);
    Xf = 0;
    D.b(368, 8, "Option", 16777215, 0); //default text for button
    Xf = 1;
    V(428, 4, 80, 20, 2151694400);
    Xf = 0;
    D.b(432, 8, "World Map", 16777215, 0); //default text for button
    if (0 < Hb && (0 == a && Hb--, V(196, 10, 120, 12, 3158064), V(196, 10, z(120 * Fb / Gb), 12, 6291456), 0 < (Ae[h] & kg))) {
        yf(hf, 256, 16, "" + Fb + "/" + Gb, 16777215, 0);
        G.M(Ib, 206, 33, 1);
        hf.b(216, 25, "DROP", 16777215, 0);
        for (b = a = 0; 6 > a; a += 2) c = B[Ib][og + a], 0 != c && (dg = 2, eg(Ra, 236 + 12 * b, 23, 12, 12, 12 * w(c, Pc), 0, 12, 12, w(c, Sc)), dg = 0, b++);
        a = Jg(G, Ib, 1);
        hf.b(276, 25, "EXP " + a, 16777215, 0)
    }
}
da.fff = Cf;

function Cf() {
    var a, b;
    Ne();
    Nb[0] = Mb[0];
    Nb[1] = Mb[1];
    for (a = 0; 4 > a; a++) Nb[0] += 2 * w(q[s + a], Nc) + w(Dc[s + a], Nc) + w(Ec[s + a], Nc);
    for (a = 4; 8 > a; a++) Nb[1] += 2 * w(q[s + a], Nc) + w(Dc[s + a], Nc) + w(Ec[s + a], Nc);
    $b[0] = 9 > z((Nb[0] - 1) / 20) ? z((Nb[0] - 1) / 20) : 9;
    $b[1] = 9 > z((Nb[1] - 1) / 20) ? z((Nb[1] - 1) / 20) : 9;
    var c = 1 != ga ? 4 : 8;
    for (a = 0; a < c; a++) {
        lc[a] = 0 + hc[a];
        mc[a] = 0 + ic[a];
        nc[a] = 0 + jc[a];
        x(s + a, md) && (lc[a] += y(s + a, t));
        x(s + a, nd) && (mc[a] += y(s + a, t));
        x(s + a, od) && (nc[a] += y(s + a, t));
        x(s + a, pd) && (lc[a] += y(s + a, t), mc[a] += y(s + a, t), nc[a] += y(s + a, t));
        randomStats(a);
        b = w(q[s + a], Tc);
        var d = w(q[s + a], Uc),
            e = w(q[s + a], Wc),
            g = w(q[s + a], Xc),
            k = w(q[s + a], Yc);
        //kc = max LP, lc = STR, mc = DEX, nc = MAG, oc = min AT, pc = max AT, qc = min AGI, rc = max AGI, tc = range
        1 == ec[a] ? (oc[a] = b + BoxerWhipperSTR(lc[a]), pc[a] = d + BoxerWhipperSTR(lc[a]), qc[a] = e < ig(e - mc[a], 5) ? e : ig(e - mc[a], 5), rc[a] = g < ig(g - mc[a], 10) ? g : ig(g - mc[a], 10), tc[a] = k, kc[a] = 50 + 10 * gc[a] + 4 * lc[a] + 3 * mc[a] + 2 * nc[a]) :
        2 == ec[a] ? (pc[a] = d + GladiatorDSStatAT(lc[a], mc[a], 1), oc[a] = b + GladiatorDSStatAT(lc[a], mc[a], 0) < pc[a] ? b + GladiatorDSStatAT(lc[a], mc[a], 0) : pc[a], qc[a] = e, rc[a] = g, tc[a] = k, x(s + a, Hd) && (tc[a] += y(s + a, t)), x(s + a, ae) && (tc[a] += y(s + a, id)), kc[a] = 50 + 10 * gc[a] + 4 * lc[a] + 4 * mc[a] + 2 * nc[a]) :
        3 == ec[a] ? (oc[a] = b + SniperAngleDEX(mc[a], 0), pc[a] = d + SniperAngleDEX(mc[a], 1), qc[a] = e, rc[a] = g, tc[a] = k + 2 * lc[a], x(s + a, Id) && (tc[a] += y(s + a, t)), kc[a] = 50 + 8 * gc[a] + 2 * lc[a] + 3 * mc[a] + 2 * nc[a]) :
        4 == ec[a] ? (oc[a] = b + z(nc[a] / 4), pc[a] = d + z(nc[a] / 3), qc[a] = ig(e - mc[a], 50), rc[a] = ig(g - mc[a], 60), tc[a] = k + 2 * lc[a], x(s + a, Id) && (tc[a] += y(s + a, t)), kc[a] = 50 + 8 * gc[a] + 2 * lc[a] + 2 * mc[a] + 2 * nc[a]) :
        5 == ec[a] ? (oc[a] = b, pc[a] = d, qc[a] = e < ig(e - mc[a], 50) ? e : ig(e - mc[a], 50), rc[a] = g < ig(g - mc[a], 60) ? g : ig(g - mc[a], 60), tc[a] = k + 2 * nc[a], x(s + a, Id) && (tc[a] += y(s + a, t)), kc[a] = 50 + 8 * gc[a] + 2 * lc[a] + 2 * mc[a] + 2 * nc[a]) :
        //old gunner AT+ stuff: oc[a] = b + z(b * lc[a] / 50), pc[a] = d + z(d * lc[a] / 50)
        6 == ec[a] ? (oc[a] = b, pc[a] = d, qc[a] = ig(z(50 * e / (lc[a] + 50)), 5), rc[a] = ig(z(50 * g / (lc[a] + 50)), 10), tc[a] = k, x(s + a, Id) && (tc[a] += y(s + a, t)), kc[a] = 50 + 8 * gc[a] + 2 * lc[a] + 2 * mc[a] + 2 * nc[a]) :
        7 == ec[a] ? (oc[a] = b + BoxerWhipperSTR(lc[a]), pc[a] = d + BoxerWhipperSTR(lc[a]), qc[a] = e, rc[a] = g, tc[a] = k, kc[a] = 50 + 10 * gc[a] + 3 * lc[a] + 3 * mc[a] + 2 * nc[a]) :
        8 == ec[a] && (oc[a] = b + SniperAngleDEX(lc[a], 0), pc[a] = d + SniperAngleDEX(lc[a], 1), qc[a] = e, rc[a] = g, tc[a] = k, x(s + a, Id) && (tc[a] += y(s + a, t)), kc[a] = 50 + 10 * gc[a] + 4 * lc[a] + 2 * mc[a] + 2 * nc[a]);
        x(s + a, ld) && (kc[a] += y(s + a, t));
        x(s + a, Pd) && (kc[a] += z(y(s + a, t) * kc[a] / 100));
        x(s + a, ce) && (kc[a] += y(s + a, id));
        1 == w(q[s + a], Rc) || 2 == w(q[s + a], Rc) || 3 == w(q[s + a], Rc) || 7 == w(q[s + a], Rc) || 8 == w(q[s + a], Rc) ? (x(s + a, qd) && (oc[a] += y(s + a, t), pc[a] += y(s + a, id)), x(s + a, rd) && (oc[a] += z(y(s + a, t) * oc[a] / 100), pc[a] += z(y(s + a, t) * pc[a] / 100)), x(s + a, ae) && (oc[a] += z(y(s + a, t) * oc[a] / 100), pc[a] += z(y(s + a, t) * pc[a] / 100))) :
        4 == w(q[s + a], Rc) || 5 == w(q[s + a], Rc) ? (x(s + a, yd) && (oc[a] += y(s + a, t), pc[a] += y(s + a, id)), x(s + a, Ad) && (oc[a] += y(s + a, t), pc[a] += y(s + a, id)), x(s + a, Cd) && (oc[a] += y(s + a, t), pc[a] += y(s + a, id)), x(s + a, Dd) && (oc[a] += y(s + a, t), pc[a] += y(s + a, id))) :
        6 == w(q[s + a], Rc) && (x(s + a, qd) && (oc[a] += y(s + a, t), pc[a] += y(s + a, id)), x(s + a, rd) && (oc[a] += z(y(s + a, t) * oc[a] / 100), pc[a] += z(y(s + a, t) * pc[a] / 100)), 0 == w(q[s + a], cd) && (x(s + a, yd) && (oc[a] += y(s + a, t), pc[a] += y(s + a, id)), x(s + a, Ad) && (oc[a] += y(s + a, t), pc[a] += y(s + a, id)), x(s + a, Cd) && (oc[a] += y(s + a, t), pc[a] += y(s + a, id)), x(s + a, Dd) && (oc[a] += y(s + a, t), pc[a] += y(s + a, id))));
        x(s + a, Gd) && (b = y(s + a, t), qc[a] -= z(qc[a] * b / 100), rc[a] -= z(rc[a] * b / 100));
        //Apply Priest Aura / Criticals Card
        oc[a] += z(oc[a] * Ac[a] / 100);
        pc[a] += z(pc[a] * Ac[a] / 100);
        //VS Mode LP buff
        1 == ga && (kc[a] *= [1, 5, 5, 5, 5, 3, 4, 5, 5][ec[a]], kc[a] *= $b[1] + 1);
        p[a] = K(p[a], 0, kc[a])
    }
    for (a = 0; a < c; a++) Ac[a] = 0, Bc[a] = 0, Cc[a] = 0;
    //Aura Setup stuff. Commented out as it will not be used under new stat system. Ac = AT aura, Bc = DF aura, Cc = Blue Aura
    //for (a = 0; a < c; a++)
    //    if (5 == ec[a] && 5 == w(q[s + a], Rc) && 0 != p[a])
    //        for (d = z(z(v.a[a][9].x + v.a[a][10].x) / 2), e = z(z(v.a[a][9].y + v.a[a][10].y) / 2), b = a >> 2 << 2; b < (a >> 2 << 2) + 4; b++)
    //            0 != p[b] && (g = z(z(v.a[b][9].y + v.a[b][10].y) / 2), Kg(d - z(z(v.a[b][9].x + v.a[b][10].x) / 2)) < tc[a] && Kg(e - g) < tc[a] && (Ac[b] += lc[a], Bc[b] += mc[a], Cc[b] += nc[a]));
    //Berserk Card AT aura setup.
    for (a = 0; a < c; a++)
        0 != p[a] && x(s + a, Nd) && (Ac[a] += y(s + a, t));
    te()
}
da.fff = Jf;

function Jf(a) {
    var b, c, d, e, g;
    Lg && 256 <= fg ? ub = !0 : Lg && 256 > fg && (ub = !1);

    GameResize();
    if (stL != 0)
    {
      if (staddL == 1)
      {
        staddL = 0;
        for (var i = 0; i < 4; i++) statCheck2 += (gc[i]), statCheck2 += (lc[i]), statCheck2 += (mc[i]), statCheck2 += (nc[i]);
      }
      //if (statCheck2 != statCheck) C = null;
      if (statCheck2 == statCheck) stL = 0;
    };

    V(0, 257, 512, 126, [13407305, 9480368, 7241784, 7630870, 11302740, 13599032, 10993609, 6322320, 1921195, 10053120, 6714227, 6313296, 6313296][Me[h][nb][0]]);
    hf.M(10, 374, Hg, 0, 0, 0, 0, 0, 0, 0, 128, 5, 7);
    e = 10;
    g = 260;
    var k = 4753E3;
    c = 9999999;
    if (98 > Mb[0]) {
        k = 0;
        for (b = 1; b < Mb[0]; b++) k += 1E3 * b;
        c = k + 1E3 * b
    }
    Cf();
    if (2 == a) {
        Ne();
        for (b = 0; 4 > b; b++) Ac[b] = 0, Bc[b] = 0, Cc[b] = 0;
        te()
    }
    if (4 > l) {
        b = "LP  " + p[l] + "/" + kc[l];
        d = "STR " + lc[l];
        var r = "DEX " + mc[l],
            m = "MAG " + nc[l];
        D.b(e, g + 0, Jc[w(q[s + l], Rc)], 16777215, 0);
        D.b(e, g + 16, b, 16777215, 0);
        if (v.step[l] != Mg)
            if (D.b(e, g + 28, d, 16777215, 0), D.b(e, g + 40, r, 16777215, 0), D.b(e, g + 52, m, 16777215, 0), hf.b(e, g + 28 + 2, "              AT ", -1, 0), hf.b(e, g + 40 + 2, "              AGI ", -1, 0), hf.b(e, g + 52 + 2, "              RANGE ", -1, 0), hf.b(e, g + 28 + 2, "                 " + oc[l] + "-" + pc[l], 0, -1), hf.b(e, g + 40 + 2, "                  " + qc[l] + "-" + rc[l], 0, -1), hf.b(e, g + 52 + 2, "                    " + tc[l], 0, -1), 5 == ec[l]) hf.b(e, g + 64 + 2, "AURA          AURA", -1, 0), hf.b(e, g + 64 + 2, "     (AT)" + lc[l] + "%", 0, -1), hf.b(e, g + 64 + 2, "                   (DF)" + mc[l] / 5, 0, -1);
            else if (6 == ec[l]) hf.b(e, g + 64 + 2, "RELOAD", -1, 0), hf.b(e, g + 64 + 2, "       " + Number(Math.round((w(q[s + l], 59) / 50) + 'e+2') + 'e-2') + "s", 0, -1), hf.b(e, g + 64 + 2, "              AMMO", -1, 0), hf.b(e, g + 64 + 2, "                   " + fc[l] + "/" + (nc[l] + w(q[s + l], 58)), 0, -1);
            else if (7 == ec[l]) hf.b(e, g + 64 + 2, "              BULLET", -1, 0), hf.b(e, g + 64 + 2, "                     +" + mc[l] / 5, 0, -1);
        else if (8 == ec[l]) {
            var n = 0,
                n = 10 > mc[l] ? 0 + (mc[l] - 0) / 10 : 30 > mc[l] ? 1 + (mc[l] - 10) / 20 : 60 > mc[l] ? 2 + (mc[l] - 30) / 30 : 100 > mc[l] ? 3 + (mc[l] - 60) / 40 : 4;
            hf.b(e, g + 64 + 2, "              RING", -1, 0);
            hf.b(e, g + 64 + 2, "                   +" + ("" + n).substring(0, 5 > ("" + n).length ? ("" + n).length : 5), 0, -1)
        }
        D.b(e, g + 76, "LV  " + Mb[0], 16777215, 0);
        D.b(e, g + 76, "        SP " + ac[l], 16777215, 0);
        D.b(e, g + 88, "EXP " + cc + "(" + z(100 * (cc - k) / (c - k)) + "%)", 16777215, 0);
        D.b(e, g + 100, "$$$ " + dc, 16777215, 0);
        hf.b(e + 105, g + 100 + 2, "FP " + Nb[0], -1, 0);
        v.step[l] == Mg ? (k = ig(z(dc / 10), 10 * Mb[0]), b = "Revival $ " + k, D.b(e, g + 40, b, 8421504, 0), Wf(e, g + 40, 8 * b.length, 12) && ub && (k <= dc && Ef && 0 != p[0] + p[1] + p[2] + p[3] && (Ne(), p[l] += z(kc[l] / 4), dc -= k, v.set(l, z(v.a[l][0].x / 8), z(v.a[l][0].y / 8)), te()), D.b(e, g + 40, b, 16711680, 0))) : 0 < ac[l] && (k = Ef, Ne(), Wf(e, g + 16, 8 * b.length + 16, 12) && ub ? (k && (gc[l]++, ac[l]--), D.b(e, g + 16, b, 16711680, 0)) :
            Wf(e, g + 28, 8 * d.length + 16, 12) && ub ? (k && (hc[l]++, ac[l]--), D.b(e, g + 28, d, 16711680, 0)) : Wf(e, g + 40, 8 * r.length + 16, 12) && ub ? (k && (ic[l]++, ac[l]--), D.b(e, g + 40, r, 16711680, 0)) : Wf(e, g + 52, 8 * m.length + 16, 12) && ub && (k && (jc[l]++, ac[l]--), D.b(e, g + 52, m, 16711680, 0)), te(), D.b(e + 8 * b.length, g + 16, " +", 16711680, 0), D.b(e + 8 * d.length, g + 28, " +", 16711680, 0), D.b(e + 8 * r.length, g + 40, " +", 16711680, 0), D.b(e + 8 * m.length, g + 52, " +", 16711680, 0))
    } else if (m = q[l], 8 <= l && 11 >= l && (m = Dc[s + l - 8]), 12 <= l && 15 >= l && (m = Ec[s + l - 12]), hg(e, g + 0, u[m][Mc] + " " + (u[m][Nc] ? u[m][Nc] : ""), 16777215, 0, -1), 0 != m && m != Ic)
        if (b = w(m, Rc), 9 == b) D.b(e, g + 16, "Compo Item", -1, 0), hg(e, g + 32, u[m][jd], 16777215, 0, -1), hg(e, g + 44, u[m][kd], 16777215, 0, -1);
        else {
            D.b(e, g + 16, "AT " + u[m][Tc] + "-" + u[m][Uc], 16777215, 0);
            D.b(e, g + 28, "AGI " + u[m][Wc] + "-" + u[m][Xc], 16777215, 0);
            D.b(e, g + 40, "RANGE " + u[m][Yc], 16777215, 0);
            c = w(m, $c);
            d = w(m, ad);
            k = ig(w(m, bd), 0);
            r = w(m, dd);
            m = w(m, ed);
            if (1 == c || 2 == c || 3 == c || 4 == c || 5 == c) x(l, yd) && (r += y(l, t), m += y(l, id)), x(l, Ad) && (r += y(l, t), m += y(l, id)), x(l, Cd) && (r += y(l, t), m += y(l, id)), x(l, Dd) && (r +=
                y(l, t), m += y(l, id)), x(l, Bd) && (d += y(l, t)), x(l, Ed) && (d += y(l, t)), x(l, Fd) && (d += y(l, t));
            D.b(e, g + 56, "TYPE " + "physical fire ice electric poison freeze".split(" ")[c], 16777215, 0);
            D.b(e, g + 68, "AT " + r + "-" + m, 16777215, 0);
            6 == b ? D.b(e, g + 80, "$$ " + k, 16777215, 0) : (5 == b ? D.b(e, g + 80, "PC " + k, 16777215, 0) : D.b(e, g + 80, "MP " + k, 16777215, 0));
            2 == c ? D.b(e, g + 80, "        SLOW " + d + "%", 16777215, 0) : 4 == c ? D.b(e, g + 80, "        TIME " + d / 50 + "s", 16777215, 0) : 5 == c && D.b(e, g + 80, "        TIME " + d / 50 + "s", 16777215, 0);
            V(e + 0, g + 96, 12, 12, 0);
            V(e + 75, g + 96, 12, 12, 0);
            dg = 2;
            eg(Ra, e + 0, g + 96, 12, 12, 12 * w(Dc[l], Pc), 0, 12, 12, w(Dc[l], Sc));
            eg(Ra, e + 75, g + 96, 12, 12, 12 * w(Ec[l], Pc), 0, 12, 12, w(Ec[l], Sc));
            dg = 0;
            hf.b(e + 16, g + 96 + 3, u[Dc[l]][Mc].substring(0, 8 < u[Dc[l]][Mc].length ? 8 : u[Dc[l]][Mc].length) + " " + u[Dc[l]][Nc], -1, 0);
            hf.b(e + 75 + 16, g + 96 + 3, u[Ec[l]][Mc].substring(0, 8 < u[Ec[l]][Mc].length ? 8 : u[Ec[l]][Mc].length) + " " + u[Ec[l]][Nc], -1, 0)
        }
    e = 192;
    g = 271;
    Gf(hf, e - 15, g + 0 + 8, "PLA  ", 0, 0, 0, 0, 0, 0, 0, 128, 5, 7);
    Gf(hf, e - 15, g + 0 + 16, "  YER", 0, 0, 0, 0, 0, 0, 0, 128, 5, 7);
    Gf(hf, e - 15, g + 28 + 8, "WEA  ", 0, 0, 0, 0, 0, 0, 0, 128, 5, 7);
    Gf(hf, e - 15, g + 28 + 16, "  PON", 0, 0, 0, 0, 0, 0, 0, 128, 5, 7);
    Gf(hf, e - 15, g + 56 + 12, "COMPO", 0, 0, 0, 0, 0, 0, 0, 128, 5, 7);
    Gf(hf, e - 15, g + 84 + 12, "COMPO", 0, 0, 0, 0, 0, 0, 0, 128, 5, 7);
    for (b = 0; 4 > b; b++) V(e + 32 * b, g - 12, 24, 4, 0),
    //Draws LP Bar
    V(e + 32 * b, g - 12, z(24 * p[b] / kc[b]), 4, 10027008),
    //Setup MP Bar numbers
    k = ig(w(q[s + b], bd), 1), c = w(q[s + b], Rc), 6 == c && (k = ig(w(q[s + b], 58), 1) + nc[b]),
    //Draws MP Bar
    4 != c && 5 != c && V(e + 32 * b, g - 6, z(23 * fc[b] / k) + 1, 2, 128),
    V(e + 32 * b, g + 0, 24, 24, 0), V(e + 32 * b, g + 28, 24, 24, 0), Ng(b, 0) && V(e + 32 * b, g + 56, 24, 24, 0), Ng(b, 1) && V(e + 32 * b, g + 84, 24, 24, 0), eg(Qa, e + 32 * b, g, 24, 24, 24 * w(q[s + b], Rc), 0, 24, 24, 16777215), Yf(e + 32 * b, g, 24 * w(q[s + b], Rc), w(q[s + b], Sc)), dg = 2, eg(Ua, e + 32 * b, g + 28, 24, 24, 24 * w(q[s + b], Qc), 0, 24, 24, w(q[s + b], Sc)), Ng(b, 0) && eg(Ua, e + 32 * b, g + 56, 24, 24, 24 * w(Dc[s + b], Qc), 0, 24, 24, w(Dc[s + b], Sc)), Ng(b, 1) && eg(Ua, e + 32 * b, g + 84, 24, 24, 24 * w(Ec[s + b], Qc), 0, 24, 24, w(Ec[s + b], Sc)), dg = 0, u[q[s + b]][Nc] && hf.b(e + 32 * b + 19, g + 28 + 17, "" + u[q[s + b]][Nc], 16777215, -1), u[Dc[s + b]][Nc] && Ng(b, 0) && hf.b(e + 32 * b + 19, g + 56 + 17, "" + u[Dc[s + b]][Nc], 16777215, -1), u[Ec[s + b]][Nc] && Ng(b, 1) && hf.b(e + 32 * b + 19, g + 84 + 17, "" + u[Ec[s + b]][Nc], 16777215, -1);
    bg(e + 32 * tb - 1, g - 1, 26, 26, 16711680);
    e = 344;
    g = 271;
    D.b(e, g + -12, "ITEM", 16777215, 0);
    for (b = 0; 24 > b; b++) V(e + b % 6 * 28, g + 28 * z(b / 6), 24, 24, 0), dg = 2, eg(Ua, e + b % 6 * 28, g + 28 * z(b / 6), 24, 24, 24 * w(q[Fc + b], Qc), 0, 24, 24, w(q[Fc + b], Sc)), dg = 0, u[q[Fc + b]][Nc] && hf.b(e + b % 6 * 28 + 19, g + 28 * z(b / 6) + 17, "" + u[q[Fc + b]][Nc], 16777215, -1);
    b = -1;
    e = 192;
    g = 271;
    Wf(e - 4, g - 4, 128, 112) && ub && (c = z((cg - e + 4) / 32), d = z((fg - g + 4) / 28), b = 4 * d + c, Og(e + 32 * c, g + 28 * d, 24, 24, 8388608));
    e = 344;
    g = 271;
    Wf(e - 4, g - 4, 168, 112) && ub && (c = z((cg - e + 4) / 28), d = z((fg - g + 4) / 28), b = Fc + 6 * d + c, Og(e + 28 * c, g + 28 * d, 24, 24, 8388608));
    Ne();
    if (0 <= b && 3 >= b && 0 == q[Gc] && Ef) tb = b;
    else if (s <= b && b < s + 4 && Ef) {
        if (0 == q[Gc] || w(q[Gc], Rc) == ec[b - 4]) a = q[b], q[b] = q[Gc], q[Gc] = a, a = Dc[b], Dc[b] = Dc[Gc], Dc[Gc] = a, a = Ec[b], Ec[b] = Ec[Gc], Ec[Gc] = a, fc[b - 4] = 0, reloadCD[b - 4] = 250, v.pa[b - 4] = 0
    } else 8 <= b && 11 >= b && Ef ? 9 == w(q[Gc], Rc) && Ng(b - 8, 0) && (Dc[s + b - 8] = q[Gc], q[Gc] = 0, Dc[Gc] = 0, Ec[Gc] = 0, fc[b - 8] = 0, reloadCD[b - 8] = 250) : 12 <= b && 15 >= b && Ef ? 9 == w(q[Gc], Rc) && Ng(b - 12, 1) && (Ec[s + b - 12] = q[Gc], q[Gc] = 0, Dc[Gc] = 0, Ec[Gc] = 0, fc[b - 12] = 0, reloadCD[b - 12] = 250) : Fc <= b && b < Gc && Ef ? 1 == Jb && 0 != q[b] ? (k = z(w(q[b], Oc) / 8), Ef && (pe.add(40, 200, 1, k, 0), q[b] = 0, Dc[b] = 0, Ec[b] = 0)) : (a = q[b], q[b] = q[Gc], q[Gc] = a, a = Dc[b], Dc[b] = Dc[Gc],
        Dc[Gc] = a, a = Ec[b], Ec[b] = Ec[Gc], Ec[Gc] = a) : -1 == b && 0 != q[Gc] && Ef && 256 > fg && 0 == a && (pe.add(v.a[tb][0].x, v.a[tb][0].y, q[Gc], Dc[Gc], Ec[Gc]), q[Gc] = 0, Dc[Gc] = 0, Ec[Gc] = 0);
    te();
    l = -1 == b ? tb : b;
    0 != q[Gc] && (dg = 2, J(Ua, cg, fg, 24, 24, 24 * w(q[Gc], Qc), 0, 24, 24, w(q[Gc], Sc)), dg = 0);
    1 == Jb && (c = K(cg, 56, ea - 56), d = K(fg - 8, 10, fa - 10), Fc <= b && b < Gc ? (k = z(w(q[b], Oc) / 8), yf(D, c, d, "" + k + "$ SELL", 16777215, 0)) : yf(D, c, d, "CLICK TO SELL", 16777215, 0))
}

function Ng(a, b) {
    if (0 == q[Gc] || 9 != w(q[Gc], Rc)) return !0;
    if (0 == q[s + a] || 0 == b && Dc[s + a] == Ic || 1 == b && Ec[s + a] == Ic) return !1;
    var c = w(q[Gc], hd);
    return 0 == b && c == w(Ec[s + a], hd) || 1 == b && c == w(Dc[s + a], hd) ? !1 : Oe(c, w(q[s + a], Rc), w(q[s + a], $c), w(q[s + a], Vc))
}
//Compo Restrictions
function Oe(a, b, c, d) {
    if (a == ld || a == md || a == nd || a == od || a == pd) return !0;
    if (a == qd) {
        if (1 == b || 2 == b || 3 == b || 6 == b || 7 == b || 8 == b) return !0
    } else if (a == rd) {
        if (1 == b || 2 == b || 3 == b || 6 == b || 7 == b || 8 == b) return !0
    } else {
        if (a == sd || a == td || a == ud) return !0;
        if (a == vd) {
            if (1 == b || 2 == b || 7 == b) return !0
        } else if (a == wd) {
            if (1 == b || 2 == b || 7 == b) return !0
        } else if (a == xd) {
            if (1 == b || 2 == b || 7 == b) return !0
        } else if (a == yd) {
            if (1 == c) return !0
        } else if (a == zd) {
            if (1 == c) return !0
        } else if (a == Ad) {
            if (2 == c) return !0
        } else if (a == Bd) {
            if (2 == c) return !0
        } else if (a == Cd) {
            if (3 == c) return !0
        } else if (a ==
            Dd) {
            if (4 == c) return !0
        } else if (a == Ed) {
            if (4 == c) return !0
        } else if (a == Fd) {
            if (5 == c) return !0
        } else {
            if (a == Gd) return !0;
            if (a == Hd) {
                if (2 == b) return !0
            } else if (a == Id) {
                if (3 == b || 4 == b || 5 == b || 6 == b || 8 == b) return !0
            } else if (a == Jd) {
                if (3 == b || 4 == b || 6 == b) return !0
            } else if (a == Kd) {
                if (3 == b || 4 == b || 6 == b) return !0
            } else if (a == Ld) {
                if (2 <= d) return !0
            } else if (a == Md) {
                if (1 == b || 3 == b || 6 == b || 8 == b) return !0
            } else if (a == Zd) {
                if (1 == b || 3 == b || 4 == b || 6 == b || 7 == b) return !0
            } else if (a == Od) {
                if (1 == b || 2 == b || 3 == b || 6 == b || 7 == b || 8 == b) return !0
            } else if (a == Nd) {
                if (1 == b ||
                    2 == b || 7 == b) return !0
            } else if (a == $d) {
                if (3 == b || 4 == b || 6 == b || 7 == b || 8 == b) return !0
            } else {
                if (a == Pd || a == Qd || a == Rd || a == Sd || a == Td || a == Ud || a == Vd || a == Wd || a == Xd) return !0;
                if (a == Yd) {
                    if (1 == b || 7 == b) return !0
                } else if (a == ae) {
                    if (2 == b) return !0
                } else {
                    if (a == be) return !0;
                    if (a == ce) {
                        if (8 == b) return !0
                    } else if (a == de || a == ee) return !0
                }
            }
        }
    }
    return !1
}
var Mg = 9,
    v = new Pg;
//Stickmen
function Pg() {
    var a, b;
    this.a = Array(8);
    for (a = 0; 8 > a; a++) this.a[a] = Array(21);
    this.c = Array(8);
    for (a = 0; 8 > a; a++) this.c[a] = Array(21);
    this.step = new Int32Array(8);
    this.count = new Int32Array(8);
    this.h = new Int32Array(8);
    this.g = new Int32Array(8);
    this.l = new Int32Array(8);
    this.qa = new Int32Array(8);
    this.pa = new Int32Array(8);
    this.Za = new Int32Array(8);
    this.v = -1;
    this.T = 0;
    this.search = new Int32Array(8);
    this.L = this.fb = 0;
    this.C = new Int32Array(8);
    this.X = new Int32Array(8);
    this.D = new Int32Array(8);
    this.H = new Int32Array(8);
    this.B = new Int32Array(8);
    this.O = Array(8);
    for (a = 0; 8 > a; a++) this.O[a] = new Int32Array(6);
    this.aa = Array(8);
    for (a = 0; 8 > a; a++) this.aa[a] = new Int32Array(6);
    this.ba = Array(8);
    for (a = 0; 8 > a; a++) this.ba[a] = new Int32Array(6);
    for (a = 0; 8 > a; a++)
        for (b = 0; 21 > b; b++) this.a[a][b] = new Qg;
    for (a = 0; 8 > a; a++)
        for (b = 0; 21 > b; b++) this.c[a][b] = new Qg
}
Pg.prototype.j = function() {
    this.v = -1;
    this.T = 0
};
Pg.prototype.set = function(a, b, c) {
    b *= 8;
    c *= 8;
    for (var d = 0; 21 > d; d++) Rg(this.a[a][d], b + A(4), c + A(4)), this.c[a][d].set(this.a[a][d]);
    this.step[a] = ec[a];
    this.count[a] = 0;
    this.h[a] = 0;
    this.g[a] = -1;
    this.l[a] = 0;
    this.qa[a] = 0;
    this.pa[a] = 0;
    this.Za[a] = 0;
    this.search[a] = 0;
    this.C[a] = 0;
    this.X[a] = 0;
    this.D[a] = 0;
    this.H[a] = 0;
    for (d = this.B[a] = 0; 6 > d; d++) this.O[a][d] = 0, this.aa[a][d] = 0, this.ba[a][d] = 0
};
da.fff = Pg.prototype.kb;
Pg.prototype.kb = function(a, b) {
    var c = this.a[a][b],
        d = new Qg;
    d.q(c, this.c[a][b]);
    c.set(this.c[a][b]);
    var e = (Sg(d) >> 2) + 1;
    Tg(d, 1 / e);
    var g, k, r;
    k = K(c.x, 0, 511) >> 3;
    r = K(c.y, 0, 383) >> 3;
    k = I.e[r][k];
    9 == k && (Tg(d, 0.95), this.h[a] |= 2);
    var m = 0.5;
    8 == Me[I.w][nb][0] && (m = 1);
    for (var n = 0; n < e; n++) g = c.y + d.y, k = K(c.x, 0, 511) >> 3, r = K(g, 0, 383) >> 3, k = I.e[r][k], 384 <= g || (0 <= k && 8 >= k ? (d.x *= m, d.y = -d.y, this.h[a] |= 1) : c.y = g), g = c.x + d.x, k = K(g, 0, 511) >> 3, r = K(c.y, 0, 383) >> 3, k = I.e[r][k], 0 > g || 512 <= g || (0 <= k && 8 >= k ? (d.y *= m, d.x = -d.x, this.h[a] |= 1) : c.x = g)
};
Pg.prototype.m = function(a, b, c, d, e) {
    var g = 0.5 * (a + c),
        k = 1E3,
        r = -1;
    if (1 == this.fb) return r;
    for (var m = e + 4; e < m; e++) {
        this.search[e] = 0;
        var n = this.a[e][2];
        this.step[e] == Mg || n.x - 5 > c || n.x + 5 < a || n.y - 10 > d || n.y + 10 < b || (this.search[e] = 1, Kg(n.x - g) < k && (k = Kg(n.x - g), r = e))
    }
    return r
};
Pg.prototype.K = function(a, b, c, d, e, g, k, r, m, n) { //Enemy damage indicator
    var F = -1;
    this.L = 0;
    r *= 0.5;
    m *= 0.5;
    for (var H = n + 4; n < H; n++)
        if (this.step[n] != Mg && !(this.a[n][2].x - 5 > g + r || this.a[n][2].x + 5 < g - r || this.a[n][2].y - 10 > k + m || this.a[n][2].y + 10 < k - m)) {
            var F = -1,
                M = d + z(A(e - d + 1));
            this.qa[n] = 2;
            var E = 16711680;
            4 <= n && (F = 1, E = 12632256);
            x(s + n, Nd) && (M += z(M * y(s + n, id) / 100));
            var ka = 0;
            1 == b && x(s + n, Pd) && (M += z(M * y(s + n, id) / 100));
            if (2 == b) x(s + n, Ud) && A(100) < y(s + n, t) && (ka = 1), 0 == ka && (this.C[n] = 500, this.X[n] = c, x(s + n, td) && (this.C[n] -= z(this.C[n] * y(s + n, t) / 100)));
            else if (4 == b) {
                x(s + n, Vd) && A(100) < y(s + n, t) && (ka = 1);
                0 == ka && (this.D[n] = c, this.H[n] = M, x(s + n, td) && (this.D[n] -= z(this.D[n] * y(s + n, t) / 100), this.H[n] -= z(this.H[n] * y(s + n, t) / 100)));
                F = n;
                continue
            } else 5 == b && (x(s + n, Wd) && A(100) < y(s + n, t) && (ka = 1), 0 == ka && (this.B[n] = z(c / 10), x(s + n, td) && (this.B[n] -= z(this.B[n] * y(s + n, t) / 100))));
            0 == b && (M = ig(1, M - z(Bc[n] / 5)));
            x(s + n, sd) && 0 == b && (M = ig(1, M - y(s + n, t)));
            x(s + n, td) && 0 != b && (M -= z(M * y(s + n, t) / 100));
            x(s + n, ud) && A(100) < y(s + n, t) && (M = 0, this.qa[n] = 0, E = 16744576);
            Ne();
            p[n] = K(p[n] - M, 0, kc[n]);
            te();
            2 > wc && ne.add(this.a[n][0].x, this.a[n][0].y, F, M, E);
            this.L += M;
            F = n;
            if (0 == a) break
        }
    return F
};
da.fff = Pg.prototype.jb;
Pg.prototype.jb = function() {
    var a = new Qg,
        b, c;
    if (-1 == this.v && 1 != ga) {
        if (Ef) {
            b = 20;
            a.x = cg - this.c[tb][0].x;
            a.y = fg - (this.c[tb][0].y - 8);
            c = Sg(a);
            20 > c && c < b && (0 != p[tb] || 0 != zc) && (b = c, this.v = tb, this.T = 0);
            for (var d = 0; 4 > d; d++)
                if (0 != p[d] || 0 != zc)
                    for (var e = 0; 10 > e; e++) a.x = cg - this.c[d][e].x, a.y = fg - this.c[d][e].y, c = Sg(a), 20 > c && c < b && (b = c, this.v = d, this.T = e, tb = d)
        }
    } else Ug || (this.v = -1, this.T = 0)
};
Pg.prototype.p = function(a, b, c, d) {
    var e = new Qg,
        g = a;
    8 > a && (g = q[s + a]);
    var k = w(g, 8) % 100,
        r = z(w(g, 8) / 100),
        m = w(g, 17),
        n = w(g, 18),
        F = w(g, Zc),
        H = w(g, 20),
        M = w(g, 21),
        E = w(g, 22),
        ka = w(g, 23),
        Ja = w(g, 24),
        Ea = w(g, 25),
        Ca = w(g, 26),
        Z = w(g, 27),
        X = w(g, 28),
        $ = w(g, 29),
        ob = w(g, 30),
        pb = w(g, 31),
        Xa = w(g, 32),
        ta = w(g, 33),
        ya = 0,
        rb = w(g, 9),
        ia = 8 > a ? oc[a] : w(g, Tc),
        ja = 8 > a ? pc[a] : w(g, Uc),
        za = w(g, Vc),
        bb = w(g, 13),
        ab = w(g, $c),
        pa = w(g, ad),
        Ya = w(g, cd),
        Bb = w(g, 42),
        Cb = w(g, 43),
        Sa = w(g, fd),
        Oa = w(g, 45),
        Ob = w(g, 46),
        Pb = w(g, 47),
        Qb = w(g, 48),
        Rb = w(g, 49),
        Sb = w(g, 50),
        Tb = w(g, 51),
        qb = w(g, 52),
        Ub = w(g, 53),
        Vb = w(g, 54),
        Wb = w(g, 55),
        Xb = w(g, 56),
        Yb = w(g, 57),
        Zb = w(g, 38),
        ba = w(g, dd),
        U = w(g, ed),
        sc = w(g, 41),
        gd = ab,
        Ta = pa;
    if (8 > a) {
        var Db = w(q[s + a], Rc);
        1 == Db || 2 == Db || 7 == Db ? (ia = w(q[s + a], dd), ja = w(q[s + a], ed), x(s + a, yd) && (ia += y(s + a, t), ja += y(s + a, id)), x(s + a, zd) && (Z += y(s + a, t)), x(s + a, Ad) && (ia += y(s + a, t), ja += y(s + a, id)), x(s + a, Bd) && (pa += y(s + a, t)), x(s + a, Cd) && (ia += y(s + a, t), ja += y(s + a, id)), x(s + a, Dd) && (ia += y(s + a, t), ja += y(s + a, id)), x(s + a, Ed) && (pa += y(s + a, t)), x(s + a, Fd) && (pa += y(s + a, t)), ia += z(ia * Ac[a] / 100), ja += z(ja * Ac[a] / 100), 7 == Db && (za += z(mc[a] / 5))) :
        3 == Db ? (402 != g && (pa = ab = 0), Ne(), g = w(q[s + a], bd), fc[a] = fc[a] + nc[a] < g ? fc[a] + nc[a] : g, fc[a] == g && 0 < g ? fc[a] = 0 : Ya = 0, te(), x(s + a, yd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, zd) && (qb += y(s + a, t)), x(s + a, Ad) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Bd) && (Ta += y(s + a, t)), x(s + a, Cd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Dd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Ed) && (Ta += y(s + a, t)), x(s + a, Fd) && (Ta += y(s + a, t)), ba += z(ba * Ac[a] / 100), U += z(U * Ac[a] / 100), x(s + a, Jd) && A(100) < y(s + a, t) && (pb = 1), x(s + a, Kd) && (ta += y(s + a, t)), x(s + a, Md) && A(100) < y(s + a, t) && (rb = 1), x(s + a, Od) && A(100) < y(s + a, t) && (ia += z(y(s + a, id) * ia / 100), ja += z(y(s + a, id) * ja / 100))) :
        4 == Db || 5 == Db ? (x(s + a, yd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, zd) && (Z += y(s + a, t), qb += y(s + a, t)), x(s + a, Ad) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Bd) && (pa += y(s + a, t), Ta += y(s + a, t)), x(s + a, Cd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Dd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Ed) && (pa += y(s + a, t), Ta += y(s + a, t)), x(s + a, Fd) && (pa += y(s + a, t), Ta += y(s + a, t)), ba += z(ba * Ac[a] / 100), U += z(U * Ac[a] / 100), x(s + a, Jd) && A(100) < y(s + a, t) && (pb = 1), x(s + a, Kd) && (ta += y(s + a, t))) :
        6 == Db ? (0 != Ya && (pa = ab = 0), x(s + a, yd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, zd) && (qb += y(s + a, t)), x(s + a, Ad) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Bd) && (Ta += y(s + a, t)), x(s + a, Cd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Dd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Ed) && (Ta += y(s + a, t)), x(s + a, Fd) && (Ta += y(s + a, t)), ba += z(ba * Ac[a] / 100), U += z(U * Ac[a] / 100), x(s + a, Jd) && A(100) < y(s + a, t) && (pb = 1), x(s + a, Kd) && (ta += y(s + a, t)), x(s + a, Md) && A(100) < y(s + a, t) && (rb = 1), x(s + a, Od) && A(100) < y(s + a, t) && (ia += z(y(s + a, id) * ia / 100), ja += z(y(s + a, id) * ja / 100))) :
        8 == Db && (ia = w(q[s + a], dd), ja = w(q[s + a], ed), x(s + a, yd) && (ia += y(s + a, t), ja += y(s + a, id)), x(s + a, yd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, zd) && (Z += y(s + a, t), qb += y(s + a, t)), x(s + a, Ad) && (ia += y(s + a, t), ja += y(s + a, id)), x(s + a, Ad) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Bd) && (pa += y(s + a, t), Ta += y(s + a, t)), x(s + a, Cd) && (ia += y(s + a, t), ja += y(s + a, id)), x(s + a, Cd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Dd) && (ia += y(s + a, t), ja += y(s + a, id)), x(s + a, Dd) && (ba += y(s + a, t), U += y(s + a, id)), x(s + a, Ed) && (pa += y(s + a, t), Ta += y(s + a, t)), x(s + a, Fd) && (pa += y(s + a, t), Ta += y(s + a, t)), ia += z(ia * Ac[a] / 100), ja += z(ja * Ac[a] / 100), ba += z(ba * Ac[a] / 100), U += z(U * Ac[a] / 100));
        x(s + a, Ld) && (za += y(s + a, t) + z(za * y(s + a, id) / 100));
        (3 == Db || 4 == Db || 6 == Db) && x(s + a, Zd) && A(100) < y(s + a, t) && (ya = y(s + a, id));
        x(s + a, $d) && A(100) < y(s + a, t) && (Xa = 2)
    }
    Db = 0;
    1 != ga ? 6 == k ? (g = G.a[d][0].x, d = G.a[d][0].y) : (g = G.a[d][G.n].x, d = G.a[d][G.n].y) : (Db = 1 - (d >> 2), g = this.a[d][2].x, d = this.a[d][2].y);
    if (0 != k)
        if (1 == k) k = b + 10 * e.x, a = c + 10 * e.y, oe.add(Db, k, a, 0, 0, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, U, sc, gd, Ta);
        else if (2 == k) {
        e = g - b;
        e /= Kg(e);
        k = b + 10 * e;
        a = c;
        for (var bc = e * bb * 0.1, eb = 0; eb < za; eb++) oe.add(Db, k, a, bc, 0, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, U, sc, gd, Ta)
    } else if (3 == k) {
        Rg(e, g - b, d - c);
        for (var xe = 0 < r ? r : 16, r = z(512 * Vg(e) / Wg), r = r - z((za - 1) * xe / 2), eb = 0; eb < za; eb++) {
            e.x = Xe[r & 511][0];
            e.y = -Xe[r & 511][1];
            k = b + 10 * e.x;
            a = c + 10 * e.y;
            var bc = e.x * bb * 0.1,
                kf = e.y * bb * 0.1;
            oe.add(Db, k, a, bc, kf, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, U, sc, gd, Ta);
            r += xe
        }
    } else if (4 == k)
        for (eb = 0; eb < za; eb++) {
            Rg(e, g - b, d - c);
            xe = 0 < r ? r : za + 4;
            if (1 < za) {
                var bc = z(A(512)),
                    lf = A(4) * xe;
                e.x += Xe[bc][0] * lf;
                e.y += Xe[bc][1] * lf
            }
            k = b;
            a = c;
            bc = e.x / bb;
            kf = (e.y - 0.5 * bb * bb * $ * 0.01) / bb;
            oe.add(Db, k, a, bc, kf, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, U, sc, gd, Ta)
        } else if (5 == k)
            for (eb = 0; eb < za; eb++) 0 == r ? (k = b + N(-40, 40), a = c + N(-60, 0)) : (k = b + N(-10 * (r - 1), 10 * (r - 1)), a = c + N(-60, -50)), Rg(e, g - k, d - a), Xg(e), Tg(e, bb), oe.add(Db, k, a, e.x, e.y, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, U, sc, gd, Ta);
        else if (6 == k)
        for (eb = 0; eb < za; eb++) k = g + N(-bb, bb), a = d + N(-bb, bb), oe.add(Db, k, a, 0, 0, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, U, sc, gd, Ta);
    else if (7 == k || 10 == k)
        for (e.x = b - this.a[a][5].x, e.y = c - this.a[a][5].y, 10 == k && 0 < e.y && (e.y = -e.y), k = this.a[a][5].x + 0.5 * e.x, a = this.a[a][5].y + 0.5 * e.y, Xg(e), Tg(e, 0.1 * bb), eb = 0; eb < za; eb++) oe.add(Db, k, a, e.x, e.y, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, U, sc, gd, Ta);
    else if (12 == k)
        for (e = b - this.a[a][0].x, e /= Kg(e), k = this.a[a][0].x, a = this.a[a][0].y, bc = e * bb * 0.1, eb = 0; eb < za; eb++) oe.add(Db, k, a, bc, 0, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, U, sc, gd, Ta);
    else if (8 == k)
        for (eb = 0; eb < za; eb++) k = 0 == r ? g + N(-40, 40) : g + N(-10 * (r - 1), 10 * (r - 1)), a = d + N(-30, -60), oe.add(Db, k, a, 0, 0, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, U, sc, gd, Ta);
    else if (9 == k)
        for (0 == r ? (k = g, a = d) : (k = b, a = c), b = z(512 / za), bc = z(A(b)), eb = 0; eb < za; eb++) e.x = Xe[bc][0] * bb, e.y = Xe[bc][1] * bb, oe.add(Db, k, a, e.x, e.y, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, U, sc, gd, Ta), bc += b;
    else if (11 == k)
        for (Rg(e, g - b, d - c), lf = Xg(e), xe = 0 < r ? r : 0, eb = 0; eb < za; eb++) bc = N(-xe, xe), k = b + e.x * lf / 2 + e.y * bc, a = c + e.y * lf / 2 - e.x * bc, bc = bb * (eb + 1) / za * e.x, kf = bb * (eb + 1) / za * e.y, oe.add(Db, k, a, bc, kf, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, U, sc, gd, Ta)
};
//Walking
function Yg(a, b) {
    if (0 != uc[b] || 1 == ga)
        if (0 < a.Za[b]) a.Za[b]--;
        else if (!(20 > z(100 * p[b] / kc[b]) && 1 != ga && 0 == vc)) {
        var c = 0.5 * (a.a[b][9].x + a.a[b][10].x),
            d = 0.5 * (a.a[b][9].y + a.a[b][10].y),
            e = tc[b],
            g;
        g = 1 != ga ? G.m(c - 200 - e, d - 20 - e, c + 200 + e, d + 100 + e) : v.m(c - 600, d - 300, c + 600, d + 300, 1 - (b >> 2) << 2); - 1 != g && (a.Za[b] = 15, e = 0.6, c < (1 != ga ? G.a[g][G.n].x : a.a[g][2].x) ? (c = z(K(c + 14, 0, 511) / 8), d = z(K(d - 6, 8, 383) / 8), 0 <= I.e[d][c] && 8 >= I.e[d][c] && (e = 2), 0 <= I.e[d - 1][c] && 8 >= I.e[d - 1][c] && (e = 4), a.a[b][9].x < a.a[b][10].x ? (a.a[b][7].x += 4, a.a[b][7].y -= 3 *
            e) : (a.a[b][8].x += 4, a.a[b][8].y -= 3 * e)) : (c = z(K(c - 14, 0, 511) / 8), d = z(K(d - 6, 8, 383) / 8), 0 <= I.e[d][c] && 8 >= I.e[d][c] && (e = 2), 0 <= I.e[d - 1][c] && 8 >= I.e[d - 1][c] && (e = 4), a.a[b][9].x > a.a[b][10].x ? (a.a[b][7].x -= 4, a.a[b][7].y -= 3 * e) : (a.a[b][8].x -= 4, a.a[b][8].y -= 3 * e)))
    }
}
//Swimming
function Zg(a, b) {
    if (0 != uc[b] && !(20 > z(100 * p[b] / kc[b]) && 0 == vc)) {
        var c = 0.5 * (a.a[b][9].x + a.a[b][10].x),
            d = 0.5 * (a.a[b][9].y + a.a[b][10].y),
            e = tc[b],
            e = 1 != ga ? G.m(c - 200 - e, d - 100 - e, c + 200 + e, d + 100 + e) : v.m(c - 600, d - 300, c + 600, d + 300, 1 - (b >> 2) << 2);
            - 1 != e && 9 == I.e[z(K(d, 8, 383) / 8)][z(K(c, 0, 511) / 8)] && (c < (1 != ga ? G.a[e][G.n].x : a.a[e][2].x) ? (a.a[b][0].x += 0.25, a.a[b][1].x += 0.25) : (a.a[b][0].x -= 0.25, a.a[b][1].x -= 0.25), d < (1 != ga ? G.a[e][G.n].y : a.a[e][2].y) ? (a.a[b][0].y += 0.25, a.a[b][1].y += 0.25) : (a.a[b][0].y -= 0.25, a.a[b][1].y -= 0.25), a.a[b][0].x +=
            N(-0.25, 0.25), a.a[b][0].y += N(-0.25, 0.25), a.a[b][1].x += N(-0.25, 0.25), a.a[b][1].y += N(-0.25, 0.25))
    }
}
//Take Damage In Lava
/*function HurtIfInLava(a,b)
{
	var c=0.5*(a.a[b][9].x+a.a[b][10].x),d=0.5*(a.a[b][9].y+a.a[b][10].y);
	if(x(s + b, CompLava))
		lavaResistance = y(s + b, t);
	else
		lavaResistance = 1;
	if(9==I.e[z(K(d,8,383)/8)][z(K(c,0,511)/8)])
		if(I.hurtPlayer == true && p[b] > 0 && randRange(1,1 / lavaRes) == 1)
		{
			var lavaDamage = randRange(1,3);
			p[b] = K(p[b] - lavaDamage,0,kc[b]);
			te();
			ne.add(a.a[b][0].x,a.a[b][0].y,2,lavaDamage,16711680);
		}
}*/
da.fff = Pg.prototype.move;
Pg.prototype.move = function() {
    var a, b, c;
    this.jb();

    //telling instage book what stage you are on
    stx = h;

    var d = 1 != ga ? 4 : 8;
    for (a = 0; a < d; a++)
        if (0 < this.D[a] && 0 < p[a] && (this.D[a]--, Ne(), p[a] = ig(p[a] - this.H[a], 0), te()), 0 < this.B[a] && 0 < p[a]) this.B[a]--;
        else {
            if (0 < this.C[a] && 0 < p[a] && (this.C[a]--, A(100) < this.X[a])) continue;
            0 != p[a] && (this.step[a] = 0 == q[s + a] ? 0 : ec[a]);
            if ((55 != h && 89 != h && nb != Me[h].length - 1 || 0 == G.index) && 0 < (this.h[a] & 1) && 0 != p[a]) { //Apparently you have to put stage arrays here, too, in order for them to work properly as gauntlet stages
                b = (this.a[a][9].x + this.a[a][10].x) / 2;
                c = (this.a[a][9].y + this.a[a][10].y) / 2;
                var e = I.I[63];
                7 == Me[h][nb][1] && (e = I.o[63]);
                500 < b && 10 > Kg(8 * e - c) && (sb = nb != Me[h].length - 1 ? 1 : 2)
            }
            this.count[a]++;
            if (0 == p[a])
                for (b = 0; 11 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
            else if (2 == this.h[a])
                for (b = 0; 11 > b; b++) W(this.a[a][b], this.c[a][b], 0.01, 0.99);
            else if (10 > this.count[a]) W(this.a[a][0], this.c[a][0], -0.2, 0.99), W(this.a[a][1], this.c[a][1], 0, 0.99), W(this.a[a][2], this.c[a][2], -0.1, 0.99), W(this.a[a][3], this.c[a][3], 0, 0.99), W(this.a[a][4], this.c[a][4], 0, 0.99), W(this.a[a][5], this.c[a][5], 0, 0.99), W(this.a[a][6], this.c[a][6], 0, 0.99), W(this.a[a][7], this.c[a][7],
                0, 0.99), W(this.a[a][8], this.c[a][8], 0, 0.99), W(this.a[a][9], this.c[a][9], 0.3, 0.99), W(this.a[a][10], this.c[a][10], 0.3, 0.99);
            else
                for (b = 0; 11 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
            if (0 == p[a] && this.step[a] != Mg) {
                this.step[a] = Mg;
                for (b = 0; 11 > b; b++) this.a[a][b].x += N(-2, 2), this.a[a][b].y += N(-1, -3);
                if (1 == ga)
                    for (e = 1 - (a >> 2) << 2, b = 0; 4 > b; b++) x(s + e + b, Xd) && A(100) < y(s + e + b, t) && (c = v.m(this.a[a][0].x - 600, this.a[a][0].y - 300, this.a[a][0].x + 600, this.a[a][0].y + 300, a >> 2 << 2), -1 != c && v.p(y(s + e + b, id), this.a[a][0].x, this.a[a][0].y,c))
            }
            this.v == a && 1 != ga && (this.a[this.v][this.T].x += (cg - this.a[this.v][this.T].x) * (0 == p[a] ? 0.04 : 0.2), this.a[this.v][this.T].y += (fg - this.a[this.v][this.T].y) * (0 == p[a] ? 0.04 : 0.2));
            0 == this.step[a] || 1 == this.step[a] ? this.StickmanBoxer(a) :
            2 == this.step[a] ? this.Gladiator(a) :
            3 == this.step[a] ? this.Sniper(a) :
            4 == this.step[a] ? this.Magician(a) :
            5 == this.step[a] ? this.Priest(a) :
            6 == this.step[a] ? this.Gunner(a) :
            7 == this.step[a] ? this.Whipper(a) :
            8 == this.step[a] ? this.Angel(a) :
            this.step[a] == Mg && (Y(this.a[a][1], this.a[a][2], 3.6, 0.5, 0.5), Y(this.a[a][3], this.a[a][5], 4.8, 0.5, 0.5), Y(this.a[a][4], this.a[a][6], 4.8, 0.5, 0.5), Y(this.a[a][7], this.a[a][9], 4.8, 0.5, 0.5), Y(this.a[a][8], this.a[a][10], 4.8, 0.5, 0.5));
            0 < (this.h[a] & 1) && (this.count[a] = 0);
            for (b = this.h[a] = 0; 11 > b; b++) this.kb(a, b)
        }
};
da.fff = Pg.prototype.StickmanBoxer;
Pg.prototype.StickmanBoxer = function(a) {
    var b, c, d = new Qg,
        e = 1 - (a >> 2) << 2;
    b = oc[a];
    var g = pc[a],
        k = qc[a] + $g(rc[a] - qc[a] + 1);
    c = tc[a];
    if (0 != this.h[a] && 0 != this.step[a] && this.v != a) {
        0 < this.l[a] && this.l[a]--;
        var r = 0.5 * (this.a[a][9].x + this.a[a][10].x),
            m = 0.5 * (this.a[a][9].y + this.a[a][10].y);
        c = 1 != ga ? G.m(r - c, m - c, r + c, m) : v.m(r - c, m - c, r + c, m, e);
        if (0 == this.l[a] && -1 != c) {
            this.l[a] = k;
            r < (1 != ga ? G.a[c][G.n].x : this.a[c][2].x) ? this.a[a][5].x < this.a[a][6].x ? (this.a[a][5].x += 4, this.a[a][4].x -= 4, this.a[a][2].y += 1, this.g[a] = 5) : (this.a[a][6].x +=
                4, this.a[a][3].x -= 4, this.a[a][2].y += 1, this.g[a] = 6) : this.a[a][5].x > this.a[a][6].x ? (this.a[a][5].x -= 4, this.a[a][4].x += 4, this.a[a][2].y += 1, this.g[a] = 5) : (this.a[a][6].x -= 4, this.a[a][3].x += 4, this.a[a][2].y += 1, this.g[a] = 6);
            Ne();
            k = w(q[s + a], bd);
            fc[a] = fc[a] + nc[a] < k ? fc[a] + nc[a] : k;
            if (fc[a] == k && 0 < k || -1 == k) fc[a] = 0, this.p(a, this.a[a][this.g[a]].x, this.a[a][this.g[a]].y, c);
            x(s + a, be) && (k = y(s + a, t), p[a] = K(p[a] + k, 0, kc[a]), ne.add(this.a[a][0].x, this.a[a][0].y, 0, k, 65280));
            te()
        } - 1 == c && Yg(this, a);
        Zg(this, a)
    }
    if (-1 != this.g[a] &&
        0 != this.step[a] && this.v != a && (c = w(q[s + a], 9), x(s + a, Md) && A(100) < y(s + a, t) && (c = 1), x(s + a, Od) && A(100) < y(s + a, t) && (b += z(y(s + a, id) * b / 100), g += z(y(s + a, id) * g / 100)), k = 12, r = 8, x(s + a, Yd) && (k += z(12 * y(s + a, t) / 100), r += z(8 * y(s + a, t) / 100)), e = 1 != ga ? G.K(c, 0, 0, b, g, this.a[a][this.g[a]].x, this.a[a][this.g[a]].y, k, r) : v.K(c, 0, 0, b, g, this.a[a][this.g[a]].x, this.a[a][this.g[a]].y, k, r, e), -1 != e)) {
        this.g[a] = -1;
        x(s + a, vd) && (k = ig(1, z(this.L * y(s + a, t) / 100)), Ne(), p[a] = K(p[a] + k, 0, kc[a]), te(), ne.add(this.a[a][0].x, this.a[a][0].y, 0, k, 65280));
        x(s + a, wd) && 0 == ga && A(100) < y(s + a, t) && pe.add(this.a[a][0].x, this.a[a][0].y, 2, 0, 0);
        if (x(s + a, xd) && 0 == ga && A(100) < y(s + a, t)) {
            g = 100;
            for (b = 0; 4 > b; b++) x(s + b, Sd) && (g += y(s + b, t));
            pe.add(this.a[a][0].x, this.a[a][0].y, 1, z(this.L * g / 100), 0)
        }
        x(s + a, Zd) && A(100) < y(s + a, t) && (b = y(s + a, id), 1 != ga ? d.q(G.a[e][0], this.a[a][1]) : d.q(v.a[e][1], this.a[a][1]), Xg(d), Tg(d, 0.2 * b), 1 != ga ? Tg(d, ah[B[G.id[e]][bh]] / B[G.id[e]][ch]) : Tg(d, 0.1), 1 != ga ? G.c[e][0].sub(d) : v.c[e][0].sub(d))
    }
    Y(this.a[a][0], this.a[a][1], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][2], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][3], 4.8, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][4], 4.8, 0.5, 0.5);
    Y(this.a[a][3], this.a[a][5], 4.8, 0.5, 0.5);
    Y(this.a[a][4], this.a[a][6], 4.8, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][7], 4.8, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][8], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][9], 4.8, 0.5, 0.5);
    Y(this.a[a][8], this.a[a][10], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][8], 6, 0.1, 0.1)
};
da.fff = Pg.prototype.Gladiator;
Pg.prototype.Gladiator = function(a) {
    var b, c, d = new Qg,
        e = 1 - (a >> 2) << 2;
    b = oc[a];
    var g = pc[a],
        k = qc[a] + $g(rc[a] - qc[a] + 1),
        r = tc[a],
        CRIT = false;
    if (0 != this.h[a] && this.v != a) {
        0 < this.l[a] && this.l[a]--;
        var m = 0.5 * (this.a[a][9].x + this.a[a][10].x),
            n = 0.5 * (this.a[a][9].y + this.a[a][10].y);
        c = 1 != ga ? G.m(m - r, n - r, m + r, n) : v.m(m - r, n - r, m + r, n, e);
        0 == this.l[a] && -1 != c && (this.l[a] = k, m < (1 != ga ? G.a[c][G.n].x : this.a[c][2].x) ? (this.a[a][5].x += 3, this.a[a][5].y += 0.2 * (n - 2 - this.a[a][5].y), this.a[a][6].x = this.a[a][5].x - 2, this.a[a][6].y = this.a[a][5].y, this.a[a][1].x -=
            3) : (this.a[a][5].x -= 3, this.a[a][5].y += 0.2 * (n - 2 - this.a[a][5].y), this.a[a][6].x = this.a[a][5].x + 2, this.a[a][6].y = this.a[a][5].y, this.a[a][1].x += 3), this.g[a] = 5, Ne(), k = w(q[s + a], bd), fc[a] = fc[a] + nc[a] < k ? fc[a] + nc[a] : k, fc[a] == k && 0 < k && (fc[a] = 0, this.pa[a] = w(q[s + a], 41)), x(s + a, be) && (k = y(s + a, t), p[a] = K(p[a] + k, 0, kc[a]), ne.add(this.a[a][0].x, this.a[a][0].y, 0, k, 65280)), te()); - 1 == c && Yg(this, a);
        Zg(this, a)
    }
    if (-1 != this.g[a] && (x(s + a, Od) && A(100) < y(s + a, t) && (b += z(y(s + a, id) * b / 100), g += z(y(s + a, id) * g / 100)), d.q(this.a[a][5], this.a[a][6]),
            Xg(d), Tg(d, r), c = this.a[a][6].x + d.x / 2, k = this.a[a][6].y + d.y / 2, -1 != ((A(100) <= z(Math.min(mc[a], 100)))&&(b *= 2, g *= 2, CRIT = true),1 != ga ? G.K(1, 0, 0, b, g, c, k, Kg(d.x), Kg(d.y), CRIT) : v.K(1, 0, 0, b, g, c, k, Kg(d.x), Kg(d.y), e)) && (this.g[a] = -1, x(s + a, vd) && (k = ig(1, z(this.L * y(s + a, t) / 100)), Ne(), p[a] = K(p[a] + k, 0, kc[a]), te(), ne.add(this.a[a][0].x, this.a[a][0].y, 0, k, 65280)), x(s + a, wd) && 0 == ga && A(100) < y(s + a, t) && pe.add(this.a[a][0].x, this.a[a][0].y, 2, 0, 0), x(s + a, xd) && 0 == ga && A(100) < y(s + a, t)))) {
        g = 100;
        for (b = 0; 4 > b; b++) x(s + b, Sd) && (g += y(s + b, t));
        pe.add(this.a[a][0].x, this.a[a][0].y, 1, z(this.L * g / 100), 0)
    }
    Y(this.a[a][0], this.a[a][1], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][2], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][3], 4.8, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][4], 4.8, 0.5, 0.5);
    Y(this.a[a][3], this.a[a][5], 4.8, 0.5, 0.5);
    Y(this.a[a][4], this.a[a][6], 4.8, 0.5, 0.5);
    Y(this.a[a][3], this.a[a][4], 4.8, 0.01, 0.01);
    Y(this.a[a][5], this.a[a][6], 2.4, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][7], 4.8, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][8], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][9], 4.8, 0.5, 0.5);
    Y(this.a[a][8], this.a[a][10], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][8], 6, 0.1, 0.1);
    0 < this.pa[a] && (this.pa[a]--, d.q(this.a[a][5], this.a[a][6]), Xg(d), Tg(d, r), d.add(this.a[a][6]), 1 != ga ? this.p(a, d.x, d.y, 0) : this.p(a, d.x, d.y, e))
};
da.fff = Pg.prototype.Sniper;
Pg.prototype.Sniper = function(a) {
    var b;
    b = 1 - (a >> 2) << 2;
    var c = qc[a] + $g(rc[a] - qc[a] + 1),
        d = tc[a],
        e = 0.5 * (this.a[a][9].x + this.a[a][10].x),
        g = 0.5 * (this.a[a][9].y + this.a[a][10].y);
    b = 1 != ga ? G.m(e - d, g - d, e + d, g + d) : v.m(e - d, g - d, e + d, g + d, b); - 1 != b && (e < (1 != ga ? G.a[b][G.n].x : this.a[b][2].x) ? (this.a[a][6].x += 0.2, this.a[a][6].y -= 0.2, this.a[a][5].x -= 0.2) : (this.a[a][6].x -= 0.2, this.a[a][6].y -= 0.2, this.a[a][5].x += 0.2), this.a[a][5].y += 0.2);
    0 != this.h[a] && this.v != a && (0 < this.l[a] && this.l[a]--, 0 == this.l[a] && (-1 != b && (this.l[a] = c, Y(this.a[a][5],
        this.a[a][6], 2, 0.2, 0.2), this.g[a] = 6), -1 != this.g[a] && (this.p(a, this.a[a][6].x, this.a[a][6].y, b), this.g[a] = -1, x(s + a, be) && (c = y(s + a, t), Ne(), p[a] = K(p[a] + c, 0, kc[a]), te(), ne.add(this.a[a][0].x, this.a[a][0].y, 0, c, 65280)))), -1 == b && (Yg(this, a), Zg(this, a)));
    Y(this.a[a][0], this.a[a][1], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][2], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][3], 4.8, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][4], 4.8, 0.5, 0.5);
    Y(this.a[a][3], this.a[a][5], 4.8, 0.5, 0.5);
    Y(this.a[a][4], this.a[a][6], 4.8, 0.5, 0.5);
    Y(this.a[a][5], this.a[a][6], 9.6, 0.02, 0.02);
    Y(this.a[a][2], this.a[a][7], 4.8, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][8], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][9], 4.8, 0.5, 0.5);
    Y(this.a[a][8], this.a[a][10], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][8], 6, 0.1, 0.1)
};
da.fff = Pg.prototype.Magician;
Pg.prototype.Magician = function(a) {
    var b;
    b = 1 - (a >> 2) << 2;
    var c = qc[a] + $g(rc[a] - qc[a] + 1),
        d = tc[a],
        e = 0.5 * (this.a[a][9].x + this.a[a][10].x),
        g = 0.5 * (this.a[a][9].y + this.a[a][10].y);
    b = 1 != ga ? G.m(e - d, g - d, e + d, g + d) : v.m(e - d, g - d, e + d, g + d, b); - 1 != b && (e < (1 != ga ? G.a[b][G.n].x : this.a[b][2].x) ? (this.a[a][5].x += 0.1, this.a[a][6].x += 0.1, this.a[a][1].x -= 0.2) : (this.a[a][5].x -= 0.1, this.a[a][6].x -= 0.1, this.a[a][1].x += 0.2));
    0 != this.h[a] && this.v != a && (0 < this.l[a] && this.l[a]--, 0 == this.l[a] && (-1 != b && (this.l[a] = c, e < (1 != ga ? G.a[b][G.n].x : this.a[b][2].x) ?
        (Y(this.a[a][5], this.a[a][6], 0, 0.1, 0.1), this.g[a] = 6) : (Y(this.a[a][5], this.a[a][6], 0, 0.1, 0.1), this.g[a] = 5)), -1 != this.g[a] && (this.p(a, this.a[a][6].x, this.a[a][6].y, b), this.g[a] = -1, x(s + a, be) && (c = y(s + a, t), Ne(), p[a] = K(p[a] + c, 0, kc[a]), te(), ne.add(this.a[a][0].x, this.a[a][0].y, 0, c, 65280)))), -1 == b && (Yg(this, a), Zg(this, a)));
    Y(this.a[a][0], this.a[a][1], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][2], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][3], 4.8, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][4], 4.8, 0.5, 0.5);
    Y(this.a[a][3], this.a[a][5], 4.8, 0.5, 0.5);
    Y(this.a[a][4], this.a[a][6], 4.8, 0.5, 0.5);
    Y(this.a[a][5], this.a[a][6], 10.8, 0.01, 0.01);
    Y(this.a[a][2], this.a[a][7], 4.8, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][8], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][9], 4.8, 0.5, 0.5);
    Y(this.a[a][8], this.a[a][10], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][8], 6, 0.1, 0.1)
};
da.fff = Pg.prototype.Priest;
Pg.prototype.Priest = function(a) {
    var b, c, d = 1 - (a >> 2) << 2;
    b = qc[a] + $g(rc[a] - qc[a] + 1);
    c = tc[a];
    var projCount = w(q[s + a], 36) + z(lc[a]/2);
    var e = 0.5 * (this.a[a][9].x + this.a[a][10].x),
        g = 0.5 * (this.a[a][9].y + this.a[a][10].y);
    c = 1 != ga ? G.m(e - c, g - c / 2, e + c, g + c / 2) : v.m(e - c, g - c / 2, e + c, g + c / 2, d);
    if (0 != this.h[a] && this.v != a) {
        0 < this.l[a] && this.l[a]--;
        if (0 == this.l[a] && -1 != c) {
            this.l[a] = b;
            this.a[a][6].y -= 2;
            this.a[a][5].y += 2;
            if (1 != ga) {
                var arrayID = new Array(0);
                var arrayLen = 0;
                for (b = 0; b < G.index; b++) {
                    0 != G.search[b] && (arrayID.push(b), arrayLen += 1)
                }
                for (var maxHit = projCount; maxHit > 0; maxHit -= 1) {
                    hitID = arrayID[z(A(arrayLen))];
                    this.p(a, this.a[a][6].x, this.a[a][6].y, hitID);
                }
            }
            else {
                var arrayID = new Array(0);
                var arrayLen = 0;
                for (b = d; b < d+4; b++) {
                    0 != v.search[b] && (arrayID.push(b), arrayLen += 1)
                }
                for (var maxHit = projCount; maxHit > 0; maxHit -= 1) {
                    hitID = arrayID[z(A(arrayLen))];
                    this.p(a, this.a[a][6].x, this.a[a][6].y, hitID);
                }
            }
            if (x(s + a, be)) {
                d = y(s + a, t);
                Ne();
                for (b = a >> 2 << 2; b < (a >> 2 << 2) + 4; b++) a != b && 0 != p[b] && (p[b] = K(p[b] + d, 0, kc[b]), ne.add(this.a[b][0].x, this.a[b][0].y, 0, d, 65280));
                te()
            }
        } - 1 == c && (Yg(this, a), Zg(this, a))
    }
    Y(this.a[a][0], this.a[a][1], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][2], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][3], 4.8, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][4], 4.8, 0.5, 0.5);
    Y(this.a[a][3], this.a[a][5], 4.8, 0.5, 0.5);
    Y(this.a[a][4], this.a[a][6], 4.8, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][7], 4.8, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][8], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][9], 4.8, 0.5, 0.5);
    Y(this.a[a][8], this.a[a][10], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][8], 6, 0.1, 0.1)
};
da.fff = Pg.prototype.Gunner;
Pg.prototype.Gunner = function(a) {
    var b, c, d = new Qg;
    c = 1 - (a >> 2) << 2;
    b = qc[a] + $g(rc[a] - qc[a] + 1);
    var e = tc[a],
        g = 0.5 * (this.a[a][9].x + this.a[a][10].x),
        k = 0.5 * (this.a[a][9].y + this.a[a][10].y);
    c = 1 != ga ? G.m(g - e, k - e, g + e, k + e) : v.m(g - e, k - e, g + e, k + e, c);
    - 1 != c && this.v != a && (1 != ga ? d.q(G.a[c][G.n], this.a[a][6]) : d.q(this.a[c][2], this.a[a][6]), Xg(d), this.a[a][5].x += 0.2 * d.x, this.a[a][5].y += 0.2 * d.y, this.a[a][6].x += 0.2 * d.x, this.a[a][6].y += 0.2 * d.y, this.a[a][1].x -= 0.4 * d.x, this.a[a][1].y -= 0.4 * d.y);
    if (reloadCD[a] == -1){
       var cost = w(q[s + a], 36)
       if (dc >= cost){
           dc = K(dc - cost, 0, 9999999);
           reloadCD[a] = ig(w(q[s + a], 59) - mc[a] , 30);
           ne.add(this.a[a][0].x, this.a[a][0].y, 0, "RELOADING", 16776960);
           if (cost > 0){
               ne.add(this.a[a][6].x, this.a[a][6].y, 0 > d.x ? 0.5 : -0.5, cost, 16776960);
           }
       }

    }
    else if (reloadCD[a] > 0){
        reloadCD[a] -= 1;
        if (reloadCD[a] == 0){
        fc[a] = w(q[s + a], 58) + nc[a];
        ne.add(this.a[a][0].x, this.a[a][0].y + 8, 0, "RELOADED", 65280);
        }
    }

    if (0 != this.h[a] && this.v != a) {
        if (reloadCD[a] == 0 && fc[a] > 0){
            0 < this.l[a] && this.l[a]--;
        }

        if (0 == this.l[a] && (-1 != c && (this.l[a] = b, this.a[a][5].y -= 1.5, this.a[a][6].y -= 1.5, this.a[a][3].y += 1.6, this.a[a][4].y += 1.6, this.g[a] = 6), -1 != this.g[a])) {
            e = reloadCD[a];
            g = 0;
            Ne();
            (0 == e && fc[a] > 0) && (this.p(a, this.a[a][6].x, this.a[a][6].y, c), fc[a] -= 1, x(s + a, be) && (d = y(s + a, t), p[a] = K(p[a] + d, 0, kc[a]), ne.add(this.a[a][0].x, this.a[a][0].y, 0, d, 65280)));
            if (fc[a] == 0){
                var cost = w(q[s + a], 36);
                if (dc >= cost){
                    dc = K(dc - cost, 0, 9999999);
                    reloadCD[a] = w(q[s + a], 59);
                    ne.add(this.a[a][0].x, this.a[a][0].y + 8, 0, "RELOADING", 16776960);
                    if (cost > 0){
                        ne.add(this.a[a][6].x, this.a[a][6].y, 0 > d.x ? 0.5 : -0.5, cost, 16776960);
                    }
                }
                else{
                    reloadCD[a] = -1;
                    ne.add(this.a[a][0].x, this.a[a][0].y + 8, 0, "NO AMMO", 16711680);
                }
            }
            te();
            this.g[a] = -1;
        }
        - 1 == c && (Yg(this, a), Zg(this, a))
    }
    Y(this.a[a][0], this.a[a][1], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][2], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][3], 4.8, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][4], 4.8, 0.5, 0.5);
    Y(this.a[a][3], this.a[a][5], 4.8, 0.5, 0.5);
    Y(this.a[a][4], this.a[a][6], 4.8, 0.5, 0.5);
    Y(this.a[a][5], this.a[a][6], 1.2, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][7], 4.8, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][8], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][9], 4.8, 0.5, 0.5);
    Y(this.a[a][8], this.a[a][10], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][8], 6, 0.1, 0.1)
};
da.fff = Pg.prototype.Whipper;
Pg.prototype.Whipper = function(a) {
    var b, c = new Qg,
        d = 1 - (a >> 2) << 2,
        e = oc[a],
        g = pc[a],
        k = qc[a] + $g(rc[a] - qc[a] + 1),
        r = tc[a];
    for (b = 11; 14 >= b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.95);
    if (0 != this.h[a] && this.v != a) {
        0 < this.l[a] && this.l[a]--;
        b = 0.5 * (this.a[a][9].x + this.a[a][10].x);
        var m = 0.5 * (this.a[a][9].y + this.a[a][10].y);
        b = 1 != ga ? G.m(b - r, m - r - 20, b + r, m + 20) : v.m(b - r, m - r - 20, b + r, m + 20, d);
        0 == this.l[a] && -1 != b && (this.l[a] = k, this.a[a][5].x < this.a[a][6].x ? (this.a[a][5].x += 4, this.a[a][4].x -= 4) : (this.a[a][6].x += 4, this.a[a][3].x -= 4), this.a[a][2].y +=
            1, this.g[a] = 14, Ne(), k = w(q[s + a], bd), fc[a] = fc[a] + nc[a] < k ? fc[a] + nc[a] : k, x(s + a, be) && (k = y(s + a, t), p[a] = K(p[a] + k, 0, kc[a]), ne.add(this.a[a][0].x, this.a[a][0].y, 0, k, 65280)), te()); - 1 == b && Yg(this, a);
        Zg(this, a)
    }
    if (-1 != this.g[a] && (x(s + a, Od) && A(100) < y(s + a, t) && (e += z(y(s + a, id) * e / 100), g += z(y(s + a, id) * g / 100)), k = 20, x(s + a, Yd) && (k += z(20 * y(s + a, t) / 100)), d = 1 != ga ? G.K(1, 0, 0, e, g, this.a[a][this.g[a]].x, this.a[a][this.g[a]].y, k, k) : v.K(1, 0, 0, e, g, this.a[a][this.g[a]].x, this.a[a][this.g[a]].y, k, k, d), -1 != d)) {
        Ne();
        k = w(q[s + a], bd);
        if (fc[a] == k && 0 < k || -1 == k) fc[a] = 0, e = this.a[a][this.g[a]].y, g = z(K(this.a[a][this.g[a]].x, 0, 511) / 8), k = z(K(this.a[a][this.g[a]].y, 0, 255) / 8), 0 <= k - I.o[g] ? e = 8 * I.o[g] + 7 : 3 >= Kg(k - I.I[g]) && (e = 8 * I.I[g] + 7), this.p(a, this.a[a][this.g[a]].x, e, d);
        te();
        this.g[a] = -1;
        x(s + a, vd) && (k = ig(1, z(this.L * y(s + a, t) / 100)), Ne(), p[a] = K(p[a] + k, 0, kc[a]), te(), ne.add(this.a[a][0].x, this.a[a][0].y, 0, k, 65280));
        x(s + a, wd) && 0 == ga && A(100) < y(s + a, t) && pe.add(this.a[a][0].x, this.a[a][0].y, 2, 0, 0);
        if (x(s + a, xd) && 0 == ga && A(100) < y(s + a, t)) {
            e = 100;
            for (b = 0; 4 > b; b++) x(s + b, Sd) && (e += y(s + b, t));
            pe.add(this.a[a][0].x, this.a[a][0].y, 1, z(this.L * e / 100), 0)
        }
        x(s + a, Zd) && A(100) < y(s + a, t) && (e = y(s + a, id), 1 != ga ? c.q(G.a[d][0], this.a[a][1]) : c.q(v.a[d][1], this.a[a][1]), Xg(c), Tg(c, 0.2 * e), 1 != ga ? Tg(c, ah[B[G.id[d]][bh]] / B[G.id[d]][ch]) : Tg(c, 0.1), 1 != ga ? G.c[d][0].sub(c) : v.c[d][0].sub(c))
    }
    Y(this.a[a][0], this.a[a][1], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][2], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][3], 4.8, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][4], 4.8, 0.5, 0.5);
    Y(this.a[a][3], this.a[a][5], 4.8, 0.5, 0.5);
    Y(this.a[a][4], this.a[a][6], 4.8, 0.5, 0.5);
    Y(this.a[a][5], this.a[a][6], 14.4, 0.02, 0.02);
    Y(this.a[a][5], this.a[a][11], 4.8, 0, 0.3);
    Y(this.a[a][11], this.a[a][12], 4.8, 0, 0.3);
    Y(this.a[a][12], this.a[a][13], 4.8, 0, 0.3);
    Y(this.a[a][13], this.a[a][14], 4.8, 0, 0.3);
    Y(this.a[a][2], this.a[a][7], 4.8, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][8], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][9], 4.8, 0.5, 0.5);
    Y(this.a[a][8], this.a[a][10], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][8], 6, 0.1, 0.1)
};
da.fff = Pg.prototype.Angel;
Pg.prototype.Angel = function(a) {
    var b, c, d = new Qg,
        e = 1 - (a >> 2) << 2,
        g = oc[a],
        k = pc[a],
        r = qc[a] + $g(rc[a] - qc[a] + 1),
        m = tc[a],
        n;
    n = 10 > mc[a] ? 1 : 30 > mc[a] ? 2 : 60 > mc[a] ? 3 : 100 > mc[a] ? 4 : 5;
    x(s + a, ce) && (n += 1);
    for (b = 11; 14 >= b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.95);
    for (b = 15; 20 >= b; b++) W(this.a[a][b], this.c[a][b], 0, 1);
    this.a[a][11].x -= 0.1;
    this.a[a][11].y -= 0.1;
    this.a[a][12].x -= 0.1;
    this.a[a][12].y += 0.1;
    this.a[a][13].x += 0.1;
    this.a[a][13].y -= 0.1;
    this.a[a][14].x += 0.1;
    this.a[a][14].y += 0.1;
    if (0 != this.h[a] && this.v != a) {
        0 < this.l[a] && this.l[a]--;
        b = 0.5 * (this.a[a][9].x + this.a[a][10].x);
        c = 0.5 * (this.a[a][9].y + this.a[a][10].y);
        c = 1 != ga ? G.m(b - m, c - m, b + m, c + m) : v.m(b - m, c - m, b + m, c + m, e);
        for (b = 0; b < n && 0 != this.O[a][b]; b++);
        0 == this.l[a] && -1 != c && b != n && (this.l[a] = r, this.O[a][b] = 1, this.aa[a][b] = z(m / 2) + 20, this.ba[a][b] = 0, this.a[a][12].x -= 2, this.a[a][14].x += 2, this.g[a] = 15 + b, this.a[a][this.g[a]].set(this.a[a][0]), this.a[a][this.g[a]].y -= 5, this.c[a][this.g[a]].set(this.a[a][this.g[a]]), 1 != ga ? d.q(G.a[c][G.n], this.a[a][this.g[a]]) : d.q(this.a[c][1], this.a[a][this.g[a]]),
            Xg(d), Tg(d, 2), this.a[a][this.g[a]].add(d));
            - 1 == c && (Yg(this, a), Zg(this, a))
    }
    for (b = 0; b < n; b++)
        if (0 != this.O[a][b] && (this.g[a] = 15 + b, this.aa[a][b]--, 0 >= this.aa[a][b] && (1 == this.O[a][b] ? (this.O[a][b]++, d.set(this.a[a][0]), d.y -= 5, this.c[a][this.g[a]].set(this.a[a][this.g[a]]), d.q(d, this.a[a][this.g[a]]), r = Xg(d), Tg(d, 2), this.a[a][this.g[a]].add(d), this.aa[a][b] = z(r / 2)) : (this.O[a][b] = 0, this.aa[a][b] = 0, this.ba[a][b] = 0)), this.ba[a][b]--, !(0 < this.ba[a][b]) && (r = 0, x(s + a, Md) && A(100) < y(s + a, t) && (r = 1), x(s + a, Od) && A(100) <
                y(s + a, t) && (g += z(y(s + a, id) * g / 100), k += z(y(s + a, id) * k / 100)), r = 1 != ga ? G.K(r, 0, 0, g, k, this.a[a][this.g[a]].x, this.a[a][this.g[a]].y, 10, 10) : v.K(r, 0, 0, g, k, this.a[a][this.g[a]].x, this.a[a][this.g[a]].y, 10, 10, e), -1 != r))) {
            Ne();
            m = w(q[s + a], bd);
            fc[a] = fc[a] + nc[a] < m ? fc[a] + nc[a] : m;
            if (fc[a] == m && 0 < m || -1 == m) fc[a] = 0, this.p(a, this.a[a][this.g[a]].x, this.a[a][this.g[a]].y, r);
            x(s + a, be) && (r = y(s + a, t), p[a] = K(p[a] + r, 0, kc[a]), ne.add(this.a[a][0].x, this.a[a][0].y, 0, r, 65280));
            te();
            this.ba[a][b] = w(q[s + a], 7)
        }
    Y(this.a[a][0], this.a[a][1], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][2], 3.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][3], 4.8, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][4], 4.8, 0.5, 0.5);
    Y(this.a[a][3], this.a[a][5], 4.8, 0.5, 0.5);
    Y(this.a[a][4], this.a[a][6], 4.8, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][7], 4.8, 0.5, 0.5);
    Y(this.a[a][2], this.a[a][8], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][9], 4.8, 0.5, 0.5);
    Y(this.a[a][8], this.a[a][10], 4.8, 0.5, 0.5);
    Y(this.a[a][7], this.a[a][8], 6, 0.1, 0.1);
    Y(this.a[a][1], this.a[a][11], 3.6, 0, 0.1);
    Y(this.a[a][1], this.a[a][12], 12, 0, 0.1);
    Y(this.a[a][11], this.a[a][12], 9.6, 0.5, 0.5);
    Y(this.a[a][1], this.a[a][13], 3.6, 0, 0.1);
    Y(this.a[a][1], this.a[a][14], 12, 0, 0.1);
    Y(this.a[a][13], this.a[a][14], 9.6, 0.5, 0.5)
};
da.fff = Pg.prototype.b;
Pg.prototype.b = function() { //Stickman drawing madjicks (it controls how stickmen are drawn) no u
    var a, b, c = new Qg,
        d = new Qg,
        e = 1 != ga ? 4 : 8;
    for (a = 0; a < e; a++) {
        var g = w(q[s + a], Yc),
            k = w(q[s + a], Sc),
            r = 15908203, //head color
            m = 16777215; //body color
        x(s + a, Pd) && (r = 13421772, m = 3342438);
        0 < this.B[a] ? (r = 1989840, m = 5934817) : 0 < this.C[a] ? (r = 9840, m = 1989840) : 0 < this.D[a] && (r = 3381504, m = 3407616);
        0 < this.qa[a] && (this.qa[a]--, m = 16711680);
        dg = Xf = 1;
        if (a == tb && 0 == ga && 2 == yc)
            for (b = 0; 11 > b; b++) J(cb, z(this.a[a][b].x), z(this.a[a][b].y), 12, 12, 0, 0, 12, 12, 1358888960);
        else if (0 < Lb) {
            Lb--;
            var n = 64 > Lb ? Lb : 64;
            for (b = 0; 11 > b; b++) J(cb, z(this.a[a][b].x), z(this.a[a][b].y), 24, 24, 0, 0, 12, 12, n << 24 | 16777062);
            120 < Lb && (b = $g(11), v.p(563, v.a[a][b].x, v.a[a][b].y, 0))
        } else
            for (b = 0; 11 > b; b++) J(cb, z(this.a[a][b].x), z(this.a[a][b].y), 12, 12, 0, 0, 12, 12, 1073741824);
        Xf = dg = 0;
        8 == this.step[a] && (b = (k & 16711680) >> 17 << 16 | (k & 65280) >> 9 << 8 | (k & 255) >> 1, L(this.a[a][1].x, this.a[a][1].y, this.a[a][11].x, this.a[a][11].y, b), L(this.a[a][1].x, this.a[a][1].y, this.a[a][12].x, this.a[a][12].y, b), L(this.a[a][11].x, this.a[a][11].y, this.a[a][12].x, this.a[a][12].y, b), L(this.a[a][1].x, this.a[a][1].y,
            this.a[a][13].x, this.a[a][13].y, b), L(this.a[a][1].x, this.a[a][1].y, this.a[a][14].x, this.a[a][14].y, b), L(this.a[a][13].x, this.a[a][13].y, this.a[a][14].x, this.a[a][14].y, b));
        L(this.a[a][1].x, this.a[a][1].y, this.a[a][2].x, this.a[a][2].y, m);
        this.step[a] != Mg && (L(this.a[a][1].x, this.a[a][1].y, this.a[a][3].x, this.a[a][3].y, m), L(this.a[a][1].x, this.a[a][1].y, this.a[a][4].x, this.a[a][4].y, m));
        L(this.a[a][3].x, this.a[a][3].y, this.a[a][5].x, this.a[a][5].y, m);
        L(this.a[a][4].x, this.a[a][4].y, this.a[a][6].x, this.a[a][6].y,
            m);
        this.step[a] != Mg && (L(this.a[a][2].x, this.a[a][2].y, this.a[a][7].x, this.a[a][7].y, m), L(this.a[a][2].x, this.a[a][2].y, this.a[a][8].x, this.a[a][8].y, m));
        L(this.a[a][7].x, this.a[a][7].y, this.a[a][9].x, this.a[a][9].y, m);
        L(this.a[a][8].x, this.a[a][8].y, this.a[a][10].x, this.a[a][10].y, m);
        bg(z(this.a[a][0].x) - 2, z(this.a[a][0].y) - 2, 5, 5, r);
        dg = 2;
        x(s + a, de) && eg(Ra, z(this.a[a][0].x) - 6, z(this.a[a][0].y) - 6 - 6, 12, 12, 228, 0, 12, 12, 16766720);
        x(s + a, ee) && eg(Ra, z(this.a[a][0].x) - 6, z(this.a[a][0].y) - 6 - 6, 12, 12, 228, 0, 12, 12, 14540253);
        dg = 0;
        if (1 == this.step[a]) g = 3, x(s + a, Yd) && (g = 5), V(z(this.a[a][5].x) - 1, z(this.a[a][5].y) - 1, g, g, k), V(z(this.a[a][6].x) - 1, z(this.a[a][6].y) - 1, g, g, k);
        else if (2 == this.step[a]) x(s + a, Hd) && (g += y(s + a, t)), x(s + a, ae) && (g += y(s + a, id)), c.q(this.a[a][5], this.a[a][6]), Xg(c), Tg(c, g), c.add(this.a[a][6]), L(this.a[a][6].x, this.a[a][6].y, c.x, c.y, k);
        else if (3 == this.step[a]) c.q(this.a[a][6], this.a[a][5]), Xg(c), d.set(c), dh(d), Tg(c, 18), c.add(this.a[a][5]), L(this.a[a][5].x, this.a[a][5].y, c.x, c.y, k), Tg(d, 8), eh(c, this.a[a][6],
            d), L(this.a[a][5].x, this.a[a][5].y, c.x, c.y, 8421504), d.q(this.a[a][6], d), L(this.a[a][5].x, this.a[a][5].y, d.x, d.y, 8421504), L(c.x, c.y, d.x, d.y, 12632256);
        else if (4 == this.step[a]) eh(c, this.a[a][5], this.a[a][6]), Tg(c, 0.5), V(z(c.x) - 1, z(c.y) - 1, 3, 3, k);
        else if (5 == this.step[a]) c.x = this.a[a][0].x + N(-10, 10), c.y = this.a[a][0].y + N(-10, 0), c.q(this.a[a][6], this.a[a][4]), Xg(c), dh(c), Tg(c, 8), L(this.a[a][6].x - c.x, this.a[a][6].y - c.y, this.a[a][6].x + c.x, this.a[a][6].y + c.y, 8421504), V(z(this.a[a][6].x + c.x) - 1, z(this.a[a][6].y +
            c.y) - 1, 3, 3, k);
        else if (6 == this.step[a]) g = z(K(z(this.a[a][6].x) - z(this.a[a][1].x), -8, 8) / 2), -4 == g ? V(z(this.a[a][6].x) - 5, z(this.a[a][6].y) - 2, 7, 2, k) : -3 == g ? V(z(this.a[a][6].x) - 4, z(this.a[a][6].y) - 2, 6, 2, k) : -2 == g ? V(z(this.a[a][6].x) - 3, z(this.a[a][6].y) - 2, 5, 2, k) : -1 == g ? V(z(this.a[a][6].x) - 2, z(this.a[a][6].y) - 2, 3, 2, k) : 0 == g ? V(z(this.a[a][6].x) - 1, z(this.a[a][6].y) - 3, 2, 2, k) : 1 == g ? V(z(this.a[a][6].x) - 1, z(this.a[a][6].y) - 2, 3, 2, k) : 2 == g ? V(z(this.a[a][6].x) - 2, z(this.a[a][6].y) - 2, 5, 2, k) : 3 == g ? V(z(this.a[a][6].x) - 2, z(this.a[a][6].y) -
            2, 6, 2, k) : 4 == g && V(z(this.a[a][6].x) - 2, z(this.a[a][6].y) - 2, 7, 2, k), V(z(this.a[a][6].x) - 1, z(this.a[a][6].y) - 2, 2, 4, k);
        else if (7 == this.step[a]) g = 3, x(s + a, Yd) && (g = 5), b = (k & 16711680) >> 17 << 16 | (k & 65280) >> 9 << 8 | (k & 255) >> 1, L(this.a[a][5].x, this.a[a][5].y, this.a[a][11].x, this.a[a][11].y, b), L(this.a[a][11].x, this.a[a][11].y, this.a[a][12].x, this.a[a][12].y, b), L(this.a[a][12].x, this.a[a][12].y, this.a[a][13].x, this.a[a][13].y, b), L(this.a[a][13].x, this.a[a][13].y, this.a[a][14].x, this.a[a][14].y, b), V(z(this.a[a][14].x) -
            1, z(this.a[a][14].y) - 1, g, g, k);
        else if (8 == this.step[a]) {
            g = 10 > mc[a] ? 1 : 30 > mc[a] ? 2 : 60 > mc[a] ? 3 : 100 > mc[a] ? 4 : 5;
            x(s + a, ce) && (g += 1);
            for (b = 0; b < g && 0 != this.O[a][b]; b++);
            b != g && J(cb, z(this.a[a][0].x), z(this.a[a][0].y) - 5, 7, 3, 33, 0, 7, 3, k);
            for (b = 0; b < g; b++) 0 != this.O[a][b] && J(cb, z(this.a[a][15 + b].x), z(this.a[a][15 + b].y), 7, 3, 33, 0, 7, 3, k)
        }
        40 != f && (0 < Ac[a] + Bc[a] && (Xf = 2, dg = 1, k = Ac[a], k < Bc[a] && (k = Bc[a]), k < Cc[a] && (k = Cc[a]), k = 4278190080 | 255 * Ac[a] / k << 16 | 255 * Bc[a] / k << 8 | 255 * Cc[a] / k, J(cb, z(z(this.a[a][9].x + this.a[a][10].x) / 2), z(z(this.a[a][9].y +
            this.a[a][10].y) / 2), 20, 12, 12, 0, 20, 12, k), Xf = dg = 0), 0 < (xc & 1) && 0 < p[a] && (V(z(this.a[a][0].x) - 6, z(this.a[a][0].y) - 6, 13, 2, 10027008), V(z(this.a[a][0].x) - 6, z(this.a[a][0].y) - 6, z(13 * p[a] / kc[a]), 2, 52224)), a == tb && 0 == ga && (0 == yc ? V(z(this.a[a][0].x) - 1, z(this.a[a][0].y) - 8, 3, 3, 16776960) : 1 == yc && (L(z(this.a[a][0].x) - 3, z(this.a[a][0].y) - 14, z(this.a[a][0].x) + 3, z(this.a[a][0].y) - 14, 16776960), L(z(this.a[a][0].x) - 3, z(this.a[a][0].y) - 14, z(this.a[a][0].x) + 0.5, z(this.a[a][0].y) - 7, 16776960), L(z(this.a[a][0].x) + 3.5, z(this.a[a][0].y) - 14, z(this.a[a][0].x) + 0.5, z(this.a[a][0].y) - 7, 16776960))))
    }
};
//enemies
var Pee = [     //NAMING IS HARD
  [0],//0
  [0,1,2,3,4],//OS (1)
  []],
    Qe = 0,
    bh = 1,
    ch = 3,
    lg = 6,
    pg = 35,
    qg = 36,
    rg = 37,
    sg = 38,
    tg = 39,
    ug = 40,
    Re = 60,
    ng = 61,
    mg = 62,
    og = 63,
    B = [
				//Opening Street
        //Random's enemies start here
          //Green Smiley Walker
        [1,0,1,1,4280483652,4288243251,20,2,1,1,4294919202,1,16,16,8,8,0,10,20,20,0,100,0,0,0,0,1,3,1,1,100,20,20,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,100,0,0,0,0,0,0,0,100,1,7,30,11,30,19,40],
          //Blue Smiley Walker
        [2,0,1,1,4288234751,4290682757,30,2,1,1,4294965060,1,16,16,8,8,0,5,10,20,0,100,0,0,0,0,3,5,1,2,75,20,20,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,100,0,0,0,0,0,0,0,100,5,8,30,12,30,20,40],
          //Orange Star Eel (Move over, blue fairy eels)
        [3,9,9,1,4294927906,4289352994,100,3,1,4,4284505796,1,16,16,8,8,0,20,25,20,0,100,0,0,0,1,5,10,1,2,75,20,20,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,100,0,0,0,0,0,0,0,100,10,9,15,13,15,21,40],
          //Red X Bat
        [4,2,3,1,4294919219,4288243251,40,4,0,2,4289366152,1,16,16,8,8,0,20,150,50,4,100,0,0,0,0,5,10,1,100,125,20,90,1,25,0,0,-10,0,0,10,1,0,5,4294919168,2,8,16,8,8,50,10,30,100,0,1,1,1,3,1,0,100,10,10,15,14,15,22,40],
        //My enemies end here
        [5, 0, 2, 2, 8421504, 10053171, 500, 3, 0, 2, 4286611584, 1, 8, 8, 8, 8, 0, 0, 100, 10, 0, 100, 0, 0, 0, 0, 1, 3, 10, 10, 10, 15, 120, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 500, 100, 0, 0, 0, 0, 0, 0],
        //Army's Enemy starts here
                //Grass Land 1
        [5, 1, 24, 1, 2604288, 41216, 40, 3, 1, 4, 4280698153, 1, 16, 16, 8, 8, 0, 0, 20, 10, 0, 100, 0, 0, 0, 0, 3, 4, 1, 15, 50, 20, 40, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, 10, 0, 0, 0, 0, 0, 0],
		[6, 1, 4, 1, 6733146, 4891201, 70, 3, 1, 4, 4280698153, 1, 12, 12, 4, 4, 0, 0, 80, 60, 0, 100, 0, 2, 0, 0, 1, 2, 1, 5, 50, 200, 50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, 20, 0, 0, 0, 0, 0, 0],
        [6, 2, 1, 1, 16424192, 9539985, 50, 3, 1, 1, 4283914583, 1, 16, 16, 8, 8, 0, 0, 80, 10, 0, 100, 0, 0, 0, 0, 2, 6, 1, 10, 50, 20, 60, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, 30, 0, 0, 0, 0, 0, 0],
        [7, 1, 24, 2, 41216, 34304, 150, 3, 1, 4, 4280698153, 1, 24, 24, 12, 12, 0, 0, 20, 40, 0, 100, 0, 0, 0, 0, 6, 8, 1, 15, 5, 20, 40, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 150, 30, 0, 0, 0, 0, 0, 0],
        [8, 2, 1, 3, 14320384, 7829367, 500, 1, 1, 1, 4283914583, 1, 64, 32, 48, 16, 0, 0, 200, 40, 1, 104, 0, 0, 0, 0, 15, 20, 1, 5, 100, 1E3, 150, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 550, 150, 0, 0, 0, 0, 0, 0],
        //GL2
        [7, 5, 30, 1, 14554217,	10115887, 100, 4, 1, 13, 4294967040, 1, 20, 20, 8, 8, 0, 0, 200, 40, 2, 100, 0, 0, 0, 0, 3, 4, 1, 150, 50, 10, 90, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, 10, 0, 0, 0, 0, 0, 0],
        [8, 5, 27, 1, 14226966, 10115887, 200, 4, 0, 2, 4294929408, 1, 12, 12, 8, 8, 0, 0, 120, 40, 6, 100, 0, 0, 0, 0, 6, 8, 1, 120, 60, 20, 120, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 150, 12, 0, 0, 0, 0, 0, 0],
        [9, 5, 30, 1, 255, 10115887, 150, 4, 1, 9, 4278190335, 1, 12, 24, 6, 12, 0, 0, 200, 40, -1, 99, 0, 1, 0, 0, 6, 8, 1, 50, 40, 10, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 150, 10, 0, 0, 0, 0, 0, 0],
        [8, 1, 2, 1, 1081344, 13369088, 70, 1, 1, 9, 4287350340, 1, 8, 24, 2, 12, 0, 0, 700, 40, 5, 100, 0, 1, 0, 0, 4, 4, 1, 15, 100, 1E3, 200, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 70, 5, 0, 0, 0, 0, 0, 0],
        [10, 5, 30, 2, 41216, 10115887, 700, 104, 0, 2, 4280698153, 1, 18, 18, 12, 12, 0, 0, 700, 40, 2, 100, 0, 0, 0, 0, 12, 16, 2, 140, 60, 20, 150, 0, 0, 0, 0, 0, 0, 0, 80, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 600, 180, 0, 0, 0, 0, 0, 0],
        		//Castle
		[20, 4, 4, 3, 13421772, 10053171, 5E3, 5, 1, 1, 4294918208, 1, 48, 16, 48, 8, 0, 0, 100, 20, 5, 99, 0, 0, 0, 0, 20, 40, 1, 0, 50, 300, 40, 0, 0, 0, 0, 0, 0, 0, 90, 0, 0, 0, 4278190080, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1E3, 1E3, 29, 3, 0, 0, 30, 20],
        [0, 0, 0, 0, 0, 0, 0, 4, 0, 2, 4286611584, 1, 8, 8, 8, 8, 0, 0, 300, 10, 3, 100, 0, 0, 0, 0, 3, 4, 12, 200, 50, 15, 200, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 5, 2164219920, 1, 16, 48, 12, 36, 50, 20, 0, 100, 0, 0, 0, 1, 2, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            //Marco's Enemies starts here...
            //GL3
            [7,1,6,1,4284918323,4280444416,140,4,0,2,4284909568,1,12,12,8,8,0,0,100,10,5,100,0,0,0,0,3,7,3,70,60,5,70,0,0,0,0,0,0,0,0,0,0,0,0,1,16,16,16,16,0,0,0,100,0,0,0,0,0,0,0,150,23,0,0,0,0,0,0],
            [9,2,8,1,4278242440,4286072888,120,1,0,15,4278242440,1,16,16,8,8,0,0,100,10,4,100,0,0,0,0,4,8,1,0,30,60,50,0,0,0,0,0,0,0,0,0,0,0,0,1,16,16,16,16,0,0,0,100,0,0,0,0,0,0,0,135,30,0,0,0,0,0,0],
            [9,7,3,1,4287137996,4278208632,130,3,1,3,4280505993,1,16,16,8,8,0,60,80,10,0,76,0,2,0,0,6,12,1,50,65,130,40,0,0,0,0,0,0,0,0,0,0,0,0,1,16,16,16,16,0,0,0,100,0,0,0,0,0,0,0,140,28,0,0,0,0,0,0],
            [11,9,8,2,4282694519,4278207522,1000,3,1,11,4278238088,2,16,16,8,8,0,0,100,10,0,100,0,1,0,0,4,6,9,15,60,1000,90,0,0,0,0,0,0,0,90,0,0,0,0,1,16,16,16,16,0,0,0,100,0,0,0,0,0,0,0,500,190,0,0,0,0,0,0]
            //...and end here.
        []
    ],
    fh = [20, 20, 20, 20, 18, 8, 20, 20, 8, 20, 16, 16, 20, 20, 16, 16, 16, 14, 8],			 //enemy hitbox width
    gh = [20, 20, 20, 20, 24, 40, 20, 20, 20, 20, 16, 24, 20, 20, 16, 16, 16, 14, 40],	     //enemy hitbox height
    ah = [1, 0.2, 1, 0.2, 2, 0.5, 1, 0.1, 1, 0.1, 1, 1, 0.1, 0.1, 1, 1, 0.2, 1, 0.5],		 //enemy knockback amount
    G = new hh;

function hh() {
    var a, b;
    this.a = Array(300);
    for (a = 0; 300 > a; a++) this.a[a] = Array(21);
    this.c = Array(300);
    for (a = 0; 300 > a; a++) this.c[a] = Array(21);
    this.id = new Int32Array(300);
    this.step = new Int32Array(300);
    this.d = new Int32Array(300);
    this.count = new Int32Array(300);
    this.state = new Int32Array(300);
    this.r = new Int32Array(300);
    this.l = new Int32Array(300);
    this.search = new Int32Array(300);
    this.S = new Int32Array(300);
    this.C = new Int32Array(300);
    this.X = new Int32Array(300);
    this.D = new Int32Array(300);
    this.H = new Int32Array(300);
    this.B = new Int32Array(300);
    this.bb = this.index = 0;
    this.n = 20;
    for (a = 0; 300 > a; a++)
        for (b = 0; 21 > b; b++) this.a[a][b] = new Qg;
    for (a = 0; 300 > a; a++)
        for (b = 0; 21 > b; b++) this.c[a][b] = new Qg
}
aa = hh.prototype;
aa.j = function() {
    this.bb = this.index = 0
};
aa.add = function(a, b, c) {
    var d;
    d = z(100 * Kb / 100);
    if (this.index != d && this.bb != d) {
        a *= 8;
        b *= 8;
        for (d = 0; 21 > d; d++) Rg(this.a[this.index][d], a + A(1), b + A(1)), this.c[this.index][d].set(this.a[this.index][d]);
        this.id[this.index] = c;
        this.step[this.index] = B[c][bh];
        this.d[this.index] = 0;
        this.count[this.index] = 0;
        this.state[this.index] = 0;
        this.r[this.index] = B[c][lg];
        this.l[this.index] = 0;
        this.search[this.index] = 0;
        this.S[this.index] = 0;
        this.C[this.index] = 0;
        this.X[this.index] = 0;
        this.D[this.index] = 0;
        this.H[this.index] = 0;
        this.B[this.index] = 0;
        this.index++;
        this.bb++
    }
};
aa.sub = function(a) {
    for (var b = 0; 21 > b; b++) this.a[a][b].set(this.a[this.index - 1][b]), this.c[a][b].set(this.c[this.index - 1][b]);
    this.id[a] = this.id[this.index - 1];
    this.step[a] = this.step[this.index - 1];
    this.d[a] = this.d[this.index - 1];
    this.count[a] = this.count[this.index - 1];
    this.state[a] = this.state[this.index - 1];
    this.r[a] = this.r[this.index - 1];
    this.l[a] = this.l[this.index - 1];
    this.search[a] = this.search[this.index - 1];
    this.S[a] = this.S[this.index - 1];
    this.C[a] = this.C[this.index - 1];
    this.X[a] = this.X[this.index - 1];
    this.D[a] = this.D[this.index - 1];
    this.H[a] = this.H[this.index - 1];
    this.B[a] = this.B[this.index - 1];
    this.index--
};
aa.h = function(a, b, c) {
    var d = new Qg;
    d.q(this.a[a][b], this.c[a][b]);
    this.a[a][b].set(this.c[a][b]);
    var e = (Sg(d) >> 2) + 1;
    Tg(d, 1 / e);
    for (var g, k, r, m = 0; m < e; m++) g = this.a[a][b].y + d.y, k = K(this.a[a][b].x, 0, 511) >> 3, r = K(g, 0, 255) >> 3, k = I.e[r][k], 0 > g || 256 <= g || (0 <= k && 8 >= k ? (0 < d.y && (this.state[a] |= 2), d.x *= c, d.y = -d.y) : this.a[a][b].y = g), g = this.a[a][b].x + d.x, k = K(g, 0, 511) >> 3, r = K(this.a[a][b].y, 0, 255) >> 3, k = I.e[r][k], 0 > g || 512 <= g || (0 <= k && 8 >= k ? (d.y *= c, d.x = -d.x, this.state[a] |= 1) : this.a[a][b].x = g)
};
aa.m = function(a, b, c, d) {
    for (var e = 0.5 * (a + c), g = 1E3, k = -1, r, m, n, F = 0; F < this.index; F++) r = B[this.id[F]][ch], m = B[this.id[F]][bh], n = (fh[m] >> 1) * ((r >> 1) + 1), r *= gh[m] >> 1, this.search[F] = 0, m = this.a[F][this.n], 0 == this.r[F] || m.x - n > c || m.x + n < a || m.y - r > d || m.y + r < b || (this.search[F] = 1, Kg(m.x - e) < g && (g = Kg(m.x - e), k = F));
    return k
};
aa.K = function(a, b, c, d, e, g, k, r, m, criticalDamage) {
    var n = -1,
        F, H, M;
    v.L = 0;
    r *= 0.5;   //
    m *= 0.5;
    if(criticalDamage)
        damageColor = 0xff5500;
    else
        damageColor = 12632256;
    //I hate this for loop.
    //idk why this works. sdvso ifnl sd
    //Enemy Strength/Weakness stuff
    for (var E = 0; E < this.index && (F = B[this.id[E]][ch], H = B[this.id[E]][bh], M = z(fh[H] / 2) * z(F / 2 + 1), F *= z(gh[H] / 2), 0 == this.r[E] || this.a[E][this.n].x - M > g + r || this.a[E][this.n].x + M < g - r || this.a[E][this.n].y - F > k + m || this.a[E][this.n].y + F < k - m || (M = d + z(A(e - d + 1)), 4 == b ? (this.D[E] = c - z(c * B[this.id[E]][tg] / 100), this.H[E] = M, 0 > B[this.id[E]][tg] && (this.H[E] = ig(1, M - z(M * B[this.id[E]][tg] / 100)))) :
    (0 == b ? M = ig(1, M - B[this.id[E]][pg]) :
    1 == b ? M = ig(1, M - z(M * B[this.id[E]][qg] / 100)) :
    2 == b ? M = ig(1, M - z(M * B[this.id[E]][rg] / 100)) :
    3 == b && (M = ig(1, M - z(M * B[this.id[E]][sg] / 100))), this.r[E] = ig(this.r[E] - M, 0), 0 == (wc & 1) && ne.add(this.a[E][this.n].x, this.a[E][this.n].y - F, 1, M, damageColor), this.S[E] = M), 2 == b ? (this.C[E] = 500 - z(500 * B[this.id[E]][rg] / 100), this.X[E] = c) :
    5 == b && (this.B[E] = c - z(c * B[this.id[E]][ug] / 100)), n = E, v.L += M, Fb = this.r[E], Gb = B[this.id[E]][lg], Hb = 100, Ib = this.id[E], 0 != a)); E++);
    return n
};
aa.p = function(a, b) {
    var c = new Qg,
        d = this.id[a] + b,
        e = B[d],
        g = e[7] % 100,
        k = z(e[7] / 100),
        r = e[8],
        m = e[9],
        n = e[10],
        F = e[11],
        H = e[12],
        M = e[13],
        E = e[14],
        ka = e[15],
        Ja = e[16],
        Ea = e[17],
        Ca = e[18],
        Z = e[19],
        X = e[20],
        $ = e[21],
        ob = e[22],
        pb = e[23],
        Xa = e[24],
        ta = e[25],
        ya = e[26],
        rb = e[27],
        ia = e[28],
        ja = e[29],
        za = e[30],
        bb = e[31],
        ab = e[32],
        pa = e[33],
        Ya = e[34],
        Bb = e[41],
        Cb = e[42],
        Sa = e[43],
        Oa = e[44],
        Ob = e[45],
        Pb = e[46],
        Qb = e[47],
        Rb = e[48],
        Sb = e[49],
        Tb = e[50],
        qb = e[51],
        Ub = e[52],
        Vb = e[53],
        Wb = e[54],
        Xb = e[55],
        Yb = e[56],
        Zb = e[57],
        ba = e[58],
        e = e[59];
    if (0 < this.l[a]) this.l[a]--;
    else if (!(A(1E3) > bb) && (bb = v.m(this.a[a][0].x - ab, this.a[a][0].y - ab, this.a[a][0].x + ab, this.a[a][0].y + ab, 0), -1 != bb && (this.l[a] = za, 0 != g)))
        if (1 == g) {
            var g = this.a[a][0].x + 10 * c.x,
                U = this.a[a][0].y + 10 * c.y;
            oe.add(1, g, U, 0, 0, r, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, 0, ta, ya, rb, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, 0, 0, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, e, pa, Ya)
        } else if (2 == g) c = v.a[bb][2].x - this.a[a][0].x, c /= Kg(c), g = this.a[a][0].x + 10 * c, U = this.a[a][0].y, oe.add(1, g, U, c * ja * 0.1, 0, r, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, 0, ta, ya, rb, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, 0, 0, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, e, pa, Ya);
    else if (3 == g || 6 == g)
        for (3 == g ? Rg(c, v.a[bb][2].x - this.a[a][0].x, v.a[bb][2].y - this.a[a][0].y) : 6 == g && Rg(c, 0, -1), d = 0 < k ? k : 16, k = z(512 * Vg(c) / Wg), k -= z((ia - 1) * d / 2), za = 0; za < ia; za++) {
            c.x = Xe[k & 511][0];
            c.y = -Xe[k & 511][1];
            var g = this.a[a][0].x + 10 * c.x,
                U = this.a[a][0].y + 10 * c.y,
                ab = c.x * ja * 0.1,
                sc = c.y * ja * 0.1;
            oe.add(1, g, U, ab, sc, r, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, 0, ta, ya, rb, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, 0, 0, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, e, pa, Ya);
            k += d
        } else if (4 == g)
            for (za = 0; za < ia; za++) Rg(c, v.a[bb][2].x - this.a[a][0].x, v.a[bb][2].y - this.a[a][0].y), d = 0 < k ? k : ia, 0 < ia && (U = z(A(512)), g = A(10) * d, c.x += Xe[U][0] * g, c.y += Xe[U][1] * g), g = this.a[a][0].x, U = this.a[a][0].y, ab = c.x / ja, sc = (c.y - 0.5 * ja * ja * X * 0.01) / ja, oe.add(1, g, U, ab, sc, r, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, 0, ta, ya, rb, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, 0, 0, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, e, pa, Ya);
        else if (5 == g)
        for (za = 0; za < ia; za++) g = this.a[a][0].x + N(-ab, ab), U = this.a[a][0].y + N(-ab, 0), oe.add(1, g, U, 0, 0, r, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, 0, ta, ya, rb, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, 0, 0, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, e, pa, Ya);
    else if (7 == g)
        for (za = 0; za < ia; za++) g = z(this.a[a][0].x / 8), U = z(this.a[a][0].y / 8), this.add(g, U, d + ya);
    else if (8 == g)
        for (za = 0; za < ia; za++) U = $g(4), g = v.a[U][2].x, U = v.a[U][2].y, oe.add(1, g, U, 0, 0, r, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, 0, ta, ya, rb, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, 0, 0, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, e, pa, Ya);
    else if (9 == g)
        for (za = 0; za < ia; za++) U = $g(4), Rg(c, v.a[U][0].x - this.a[a][0].x,
            v.a[U][0].y - this.a[a][0].y), Xg(c), g = this.a[a][0].x + 10 * c.x, U = this.a[a][0].y + 10 * c.y, ab = c.x * ja * 0.1, sc = c.y * ja * 0.1, oe.add(1, g, U, ab, sc, r, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, 0, ta, ya, rb, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, 0, 0, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb, ba, e, pa, Ya)
};

function Jg(a, b, c) {
    //fixes bug
    for (var d, e = 0, g = 0; g < ze; g++)
        if (0 != (Ae[g] & Ce))
        {
          //what the fuck is this and why does it work
          for (var aaa = 0; aaa < 16; aaa++) var k = Pee[stx][aaa + 1];
            for (d = 0; d < k; d++) e < B[a.id[b]][Qe] && (e = B[a.id[b]][Qe]), d += B[a.id[b]][Re]
        }
    //shows enemy info in stage when you have the book
    d = 1 == c ? b : a.id[b];
    k = Kg(Mb[0] - B[d][Qe]);
    g = 0;
    g = 10 > k ? z(B[d][ng] * (10 - k) / 10) : e + 10 <= Mb[0] ? 0 : 1;
    e = 100;
    for (d = 0; 4 > d; d++) x(s + d, Td) && (e += y(s + d, t));
    g = z(g * e / 100);
    if (1 == c) return g;
    Ne();
    cc = K(cc + g, 0, 9999999);
    c = 4753E3;
    d = 9999999;
    if (98 > Mb[0]) {
        c = 0;
        for (d = 1; d < Mb[0]; d++) c += 1E3 * d;
        d = c + 1E3 * d
    }
    if (d <= cc && 99 > Mb[0]) {
        Mb[0]++;
        for (d = 0; 4 > d; d++) ac[d] += 100;
        c = 0;
        for (d = s; d < Gc; d++) w(q[d], hd) == ee && (c = 1), w(Dc[d], hd) == ee && (c = 1), w(Ec[d], hd) == ee && (c = 1);
        if (1 == c)
            for (Lb = 480, b = 0; 4 > b; b++) v.p(562, v.a[b][0].x, v.a[b][0].y, 0), p[b] != kc[b] && ne.add(v.a[b][0].x, v.a[b][0].y, 0, kc[b] - p[b], 65280), p[b] = kc[b]
    }
    te();
    c = B[a.id[b]][mg];
    k = g = e = 100;
    for (d = 0; 4 > d; d++) x(s + d, Qd) && (e += y(s + d, t)), x(s + d, Rd) && (g += y(s + d, t)), x(s + d, Sd) && (k += y(s + d, t));
    for (d = 0; 4 > d; d++)
        if (x(s + d, Xd) && A(100) < y(s + d, t)) {
            var r = G.m(a.a[b][0].x - 600, a.a[b][0].y - 300, a.a[b][0].x + 600, a.a[b][0].y + 300);
            - 1 != r && v.p(y(s + d, id), a.a[b][0].x, a.a[b][0].y, r)
        }
    r = 0;
    17 == a.step[b] && (r = a.d[b] - 1);
    for (d = og; d < og + 6; d += 2) 0 != B[a.id[b]][d] && Math.random() * B[a.id[b]][d + 1] * 100 < e && pe.add(a.a[b][r].x, a.a[b][r].y, B[a.id[b]][d], 0, 0);
    1 > 3 * Math.random() && pe.add(a.a[b][r].x, a.a[b][r].y, 1, z(c * k / 100), 0);
    500 * Math.random() < g && pe.add(a.a[b][r].x, a.a[b][r].y, 2, 0, 0);
    return 0
}
da.fff = hh.prototype.move;
hh.prototype.move = function() {
    var a;
    for (a = 0; a < this.index; a++) {
        var b = this.step[a];
        0 < this.D[a] && 0 < this.r[a] && (this.D[a]--, this.r[a] = ig(this.r[a] - this.H[a], 0), Fb = this.r[a], Gb = B[this.id[a]][lg], Hb = 100, Ib = this.id[a]);
        if (0 < this.B[a] && 0 < this.r[a]) this.B[a]--;
        else {
            if (0 < this.C[a] && 0 < this.r[a] && (this.C[a]--, A(100) < this.X[a])) continue;
            0 == b ? a = this.lb(a) :
            1 == b ? a = this.sa(a) :
            2 == b ? a = this.ta(a) :
            3 == b ? a = this.ua(a) :
            4 == b ? a = this.ma(a, b) :
            5 == b ? a = this.na(a, b) :
            6 == b ? a = this.va(a) :
            7 == b ? a = this.wa(a) :
            8 == b ? a = this.xa(a) :
            9 == b ? a = this.eb(a, b) :
            10 == b ? a = this.mb(a) :
            11 == b ? a = this.nb(a) :
            12 == b ? a = this.ma(a, b) :
            13 == b ? a = this.eb(a, b) :
            14 == b ? a = this.ob(a) :
            15 == b ? a = this.pb(a) :
            16 == b ? a = this.qb(a) :
            17 == b ? a = this.rb(a) :
            18 == b && (a = this.na(a, b))
        }
    }
};
da.fff = hh.prototype.lb;
hh.prototype.lb = function(a) {
    var b;
    b = B[this.id[a]][ch];
    if (0 == this.d[a]) {
        this.a[a][0].x += 1;
        this.a[a][0].y += 0 - 4 * (b - 1);
        this.a[a][1].x += 0;
        this.a[a][1].y += 2 - 4 * (b - 1);
        this.a[a][2].x += 2;
        this.a[a][2].y += 2 - 4 * (b - 1);
        for (b = 0; 3 > b; b++) this.c[a][b].set(this.a[a][b]);
        this.d[a] = 1
    } else if (1 == this.d[a] || 2 == this.d[a]) {
        W(this.a[a][0], this.c[a][0], -0.05, 0.99);
        W(this.a[a][1], this.c[a][1], 0.05, 0.99);
        W(this.a[a][2], this.c[a][2], 0.05, 0.99);
        if (0 < (this.state[a] & 3)) {
            var c = -0.1;
            2 == this.d[a] && (c *= -1);
            this.a[a][1].x += A(c);
            this.a[a][2].x += A(c);
            1 > A(100) && (this.d[a] = Zf(this.d[a] + 1, 1, 2))
        }
        Y(this.a[a][0], this.a[a][1], 9 * b, 0.2, 0.2);
        Y(this.a[a][0], this.a[a][2], 9 * b, 0.2, 0.2);
        Y(this.a[a][1], this.a[a][2], 11 * b, 0.2, 0.2);
        this.p(a, 0);
        for (b = this.state[a] = 0; 3 > b; b++) this.h(a, b, 0.5);
        this.a[a][this.n].set(this.a[a][0]);
        if (0 >= this.r[a]) {
            this.d[a] = 3;
            for (b = 0; 3 > b; b++) this.a[a][b].x += N(-0.5, 0.5), this.a[a][b].y -= N(2, 3);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 3 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        for (b = this.state[a] = 0; 3 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.sa;
hh.prototype.sa = function(a) {
    var b;
    if (0 == this.d[a]) {
        this.a[a][0].x += 0;
        this.a[a][1].x += 1;
        this.a[a][2].x += 2;
        for (b = 0; 3 > b; b++) this.c[a][b].set(this.a[a][b]);
        this.d[a] = 1
    } else if (1 == this.d[a] || 2 == this.d[a]) {
        W(this.a[a][0], this.c[a][0], 0.05, 0.99);
        W(this.a[a][1], this.c[a][1], 0.05, 0.9);
        W(this.a[a][2], this.c[a][2], 0.05, 0.9);
        b = v.m(this.a[a][0].x - 200, this.a[a][0].y - 50, this.a[a][0].x + 200, this.a[a][0].y + 50, 0);
        - 1 != b && (this.a[a][0].x += v.a[b][2].x < this.a[a][0].x ? -0.001 : 0.001);
        if (0 < (this.state[a] & 2)) {
            var c = 0,
                c = -1 != b ? v.a[b][2].x < this.a[a][0].x ? -1 : 1 : Kf(-1, 1);
            10 > A(100) && (this.a[a][0].x += N(0.4, 0.6) * c, this.a[a][0].y += N(-1.5, -2))
        }
        Y(this.a[a][0], this.a[a][1], 0, 0, 0.01);
        Y(this.a[a][1], this.a[a][2], 0, 0, 0.01);
        this.p(a, 0);
        this.state[a] = 0;
        this.h(a, 0, 0.5);
        b = this.state[a];
        this.h(a, 1, 0.5);
        this.h(a, 2, 0.5);
        this.state[a] = b;
        this.a[a][this.n].set(this.a[a][0]);
        if (0 >= this.r[a]) {
            this.d[a] = 3;
            for (b = 0; 3 > b; b++) this.a[a][b].x += N(-0.5, 0.5), this.a[a][b].y -= N(2, 3);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 3 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        for (b = this.state[a] = 0; 3 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.ta;
hh.prototype.ta = function(a) {
    var b, c = new Qg;
    b = B[this.id[a]][ch];
    if (0 == this.d[a]) {
        this.a[a][0].x += 1;
        this.a[a][0].y += 1;
        this.a[a][1].x += 1;
        this.a[a][1].y += 1;
        this.a[a][2].x += 0;
        this.a[a][2].y += 0;
        this.a[a][3].x += 0;
        this.a[a][3].y += 2;
        this.a[a][4].x += 1;
        this.a[a][4].y += 1;
        this.a[a][5].x += 2;
        this.a[a][5].y += 0;
        this.a[a][6].x += 2;
        this.a[a][6].y += 2;
        for (b = 0; 7 > b; b++) this.c[a][b].set(this.a[a][b]);
        this.d[a] = 1
    } else if (1 == this.d[a] || 2 == this.d[a]) {
        W(this.a[a][0], this.c[a][0], 0, 0.99);
        W(this.a[a][1], this.c[a][1], 0, 0.99);
        W(this.a[a][2], this.c[a][2], 0, 0.99);
        W(this.a[a][3], this.c[a][3], 0, 0.99);
        W(this.a[a][4], this.c[a][4], 0, 0.99);
        W(this.a[a][5], this.c[a][5], 0, 0.99);
        W(this.a[a][6], this.c[a][6], 0, 0.99);
        Rg(c, 0, 0);
        var d = v.m(this.a[a][0].x - 150, this.a[a][0].y - 150, this.a[a][0].x + 150, this.a[a][0].y + 150, 0); - 1 != d && (c.q(v.a[d][2], this.a[a][0]), d = Xg(c), d -= B[this.id[a]][32] - 10, 0 > d ? Tg(c, -0.05) : Tg(c, 0.05));
        this.a[a][0].add(c);
        10 > A(100) && (this.a[a][0].x += N(-1, 1), this.a[a][0].y += N(-1, 1));
        this.a[a][2].x += N(0, -0.1);
        this.a[a][3].x += N(0, -0.1);
        this.a[a][5].x += N(0, 0.1);
        this.a[a][6].x += N(0, 0.1);
        c = 0.5;
        d = 6 * b;
        Y(this.a[a][0], this.a[a][1], 3 * b, c, c);
        Y(this.a[a][0], this.a[a][4], 3 * b, c, c);
        Y(this.a[a][1], this.a[a][2], d, c, c);
        Y(this.a[a][1], this.a[a][3], d, c, c);
        Y(this.a[a][2], this.a[a][3], d, c, c);
        Y(this.a[a][4], this.a[a][5], d, c, c);
        Y(this.a[a][4], this.a[a][6], d, c, c);
        Y(this.a[a][5], this.a[a][6], d, c, c);
        this.p(a, 0);
        for (b = this.state[a] = 0; 7 > b; b++) this.h(a, b, 1);
        this.a[a][this.n].set(this.a[a][0]);
        if (0 >= this.r[a]) {
            this.d[a] = 3;
            for (b = 0; 7 > b; b++) this.a[a][b].x += N(-1, 1), this.a[a][b].y -=
                N(1, 2);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 8 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        c = 0.5;
        d = 6 * (150 - this.count[a]) / 150;
        Y(this.a[a][1], this.a[a][2], d, c, c);
        Y(this.a[a][1], this.a[a][3], d, c, c);
        Y(this.a[a][2], this.a[a][3], d, c, c);
        Y(this.a[a][4], this.a[a][5], d, c, c);
        Y(this.a[a][4], this.a[a][6], d, c, c);
        Y(this.a[a][5], this.a[a][6], d, c, c);
        for (b = this.state[a] = 0; 7 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.ua;
hh.prototype.ua = function(a) {
    var b, c = new Qg,
        d = B[this.id[a]][ch];
    if (0 == this.d[a]) this.d[a] = 1;
    else if (1 == this.d[a] || 2 == this.d[a]) {
        W(this.a[a][0], this.c[a][0], 0, 0.99);
        for (b = 1; 6 > b; b++) W(this.a[a][b], this.c[a][b], 0, 0.9);
        Rg(c, 0, 0);
        b = v.m(this.a[a][0].x - 200, this.a[a][0].y - 200, this.a[a][0].x + 200, this.a[a][0].y + 200, 0);
        - 1 != b && (c.q(v.a[b][2], this.a[a][0]), b = Xg(c), b -= B[this.id[a]][32] / 2 - 10, 0 > b ? Tg(c, -0.01) : Tg(c, 0.01));
        b = I.e[z(K(this.a[a][0].y + 24, 0, 255) / 8)][z(K(this.a[a][0].x, 0, 511) / 8)];
        0 <= b && 8 >= b && (c.y -= 0.02);
        2 > A(100) && (c.x += N(-0.5, 0.5), c.y += N(-0.5, 0.5));
        this.a[a][0].add(c);
        c = 0.02;
        d *= 5;
        for (b = 0; 5 > b; b++) Y(this.a[a][b], this.a[a][b + 1], d, 0, c);
        this.p(a, 0);
        for (b = this.state[a] = 0; 6 > b; b++) this.h(a, b, 0.5);
        this.a[a][this.n].set(this.a[a][0]);
        if (0 >= this.r[a]) {
            this.d[a] = 3;
            for (b = this.count[a] = 0; 6 > b; b++) this.a[a][b].x += N(-1, 1), this.a[a][b].y -= N(1, 2);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 6 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        c = 0.5;
        d = 10 * (150 - this.count[a]) / 150;
        Y(this.a[a][1], this.a[a][2], d, c, c);
        Y(this.a[a][2], this.a[a][3], d, c, c);
        Y(this.a[a][3], this.a[a][4], d, c, c);
        for (b = this.state[a] = 0; 6 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.ma;
hh.prototype.ma = function(a, b) {
    var c;
    c = B[this.id[a]][ch];
    if (0 == this.d[a]) this.d[a] = 1;
    else if (1 == this.d[a] || 2 == this.d[a]) {
        4 == b ? (W(this.a[a][0], this.c[a][0], -0.2, 0.99), W(this.a[a][1], this.c[a][1], 0, 0.99), W(this.a[a][2], this.c[a][2], -0.1, 0.99), W(this.a[a][3], this.c[a][3], 0, 0.99), W(this.a[a][4], this.c[a][4], 0, 0.99), W(this.a[a][5], this.c[a][5], 0, 0.99), W(this.a[a][6], this.c[a][6], 0, 0.99), W(this.a[a][7], this.c[a][7], 0, 0.99), W(this.a[a][8], this.c[a][8], 0, 0.99), W(this.a[a][9], this.c[a][9], 0.3, 0.99), W(this.a[a][10],
            this.c[a][10], 0.3, 0.99)) : 12 == b && (W(this.a[a][0], this.c[a][0], -0.02, 0.99), W(this.a[a][1], this.c[a][1], 0, 0.99), W(this.a[a][2], this.c[a][2], -0.01, 0.99), W(this.a[a][3], this.c[a][3], 0, 0.99), W(this.a[a][4], this.c[a][4], 0, 0.99), W(this.a[a][5], this.c[a][5], 0, 0.99), W(this.a[a][6], this.c[a][6], 0, 0.99), W(this.a[a][7], this.c[a][7], 0, 0.99), W(this.a[a][8], this.c[a][8], 0, 0.99), W(this.a[a][9], this.c[a][9], 0.1, 0.99), W(this.a[a][10], this.c[a][10], 0.1, 0.99));
        if (50 > A(100) && 0 < (this.state[a] & 3)) {
            var d = v.m(this.a[a][0].x - 200, this.a[a][0].y - 50, this.a[a][0].x + 200, this.a[a][0].y + 50, 0);
            - 1 != d ? this.d[a] = v.a[d][2].x < this.a[a][0].x ? 1 : 2 : 10 > A(100) && (this.d[a] = Kf(1, 2));
            var e = d = 1,
                g = 0;
            12 == b && (d = 0.25, e = 0.3, g = 0.25);
            1 == this.d[a] ? (this.a[a][9].x < this.a[a][10].x ? (this.a[a][10].x += A(-d), this.a[a][10].y += -e) : (this.a[a][9].x += A(-d), this.a[a][9].y += -e), this.a[a][5].x += A(-g), this.a[a][6].x += A(-g)) : (this.a[a][9].x < this.a[a][10].x ? (this.a[a][9].x += A(d), this.a[a][9].y += -e) : (this.a[a][10].x += A(d), this.a[a][10].y += -e), this.a[a][5].x += A(g), this.a[a][6].x +=
                A(g))
        }
        d = 0.5;
        e = 1.2 * c;
        12 == b && (d = 0.02, e = 1 * c);
        Y(this.a[a][0], this.a[a][1], 3 * e, d, d);
        Y(this.a[a][1], this.a[a][2], 3 * e, d, d);
        Y(this.a[a][1], this.a[a][3], 4 * e, d, d);
        Y(this.a[a][1], this.a[a][4], 4 * e, d, d);
        Y(this.a[a][3], this.a[a][5], 4 * e, d, d);
        Y(this.a[a][4], this.a[a][6], 4 * e, d, d);
        Y(this.a[a][2], this.a[a][7], 4 * e, d, d);
        Y(this.a[a][2], this.a[a][8], 4 * e, d, d);
        Y(this.a[a][7], this.a[a][9], 4 * e, d, d);
        Y(this.a[a][8], this.a[a][10], 4 * e, d, d);
        Y(this.a[a][7], this.a[a][8], 5 * e, d, d);
        332 == this.id[a] ? this.p(a, $g(6)) : (this.p(a, 0), 0 != B[this.id[a]][Re] && this.p(a, 1));
        for (c = this.state[a] = 0; 11 > c; c++) this.h(a, c, 0.5);
        this.a[a][this.n].set(this.a[a][1]);
        if (0 >= this.r[a]) {
            this.d[a] = 3;
            for (c = this.count[a] = 0; 11 > c; c++) this.a[a][c].x += N(-1, 1), this.a[a][c].y -= N(1, 2);
            Jg(this, a, 0)
        }
    } else {
        for (c = 0; 11 > c; c++) W(this.a[a][c], this.c[a][c], 0.05, 0.99);
        d = 0.5;
        e = 1.2 * (150 - this.count[a]) / 150;
        Y(this.a[a][1], this.a[a][2], 3 * e, d, d);
        Y(this.a[a][3], this.a[a][5], 4 * e, d, d);
        Y(this.a[a][4], this.a[a][6], 4 * e, d, d);
        Y(this.a[a][7], this.a[a][9], 4 * e, d, d);
        Y(this.a[a][8], this.a[a][10], 4 * e, d, d);
        for (c = this.state[a] = 0; 11 > c; c++) this.h(a, c, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.na;
hh.prototype.na = function(a, b) {
    var c, d = B[this.id[a]][ch];
    if (0 == this.d[a]) this.d[a] = z(N(4, 8));
    else if (10 > this.d[a]) {
        if (5 == b) {
            for (c = 0; c < this.d[a] - 1; c++) W(this.a[a][c], this.c[a][c], -0.04, 0.99);
            W(this.a[a][c], this.c[a][c], 1, 0.99)
        } else {
            for (c = 0; c < this.d[a] - 1; c++) W(this.a[a][c], this.c[a][c], 0.04, 0.99);
            W(this.a[a][c], this.c[a][c], -1, 0.99)
        }
        10 > A(100) && (c = z(A(4)), this.a[a][c].x += N(-0.5, 0.5));
        Y(this.a[a][0], this.a[a][1], 8 * d, 0.2, 0.2);
        for (c = 1; c < this.d[a] - 2; c++) Y(this.a[a][c], this.a[a][c + 1], 6 * d, 0.2, 0.2);
        Y(this.a[a][c], this.a[a][c + 1], 6 * d, 0.2, 0);
        this.p(a, 0);
        for (c = this.state[a] = 0; c < this.d[a]; c++) this.h(a, c, 0.5);
        this.a[a][this.n].x = 0.5 * (this.a[a][0].x + this.a[a][this.d[a] - 1].x);
        this.a[a][this.n].y = 0.5 * (this.a[a][0].y + this.a[a][this.d[a] - 1].y);
        if (0 >= this.r[a]) {
            for (c = 0; c < this.d[a]; c++) this.a[a][c].x += N(-0.5, 0.5), this.a[a][c].y -= N(2, 3);
            this.d[a] += 10;
            Jg(this, a, 0)
        }
    } else {
        for (c = 0; c < this.d[a] - 10; c++) W(this.a[a][c], this.c[a][c], 0.05, 0.99);
        for (c = this.state[a] = 0; c < this.d[a] - 10; c++) this.h(a, c, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.va;
hh.prototype.va = function(a) {
    var b, c = B[this.id[a]][ch];
    if (0 == this.d[a]) {
        this.a[a][0].x += 1;
        this.a[a][0].y += 1;
        this.a[a][1].x += 1;
        this.a[a][1].y += 0;
        this.a[a][2].x += 1.85;
        this.a[a][2].y += 0.5;
        this.a[a][3].x += 1.85;
        this.a[a][3].y += 1.5;
        this.a[a][4].x += 1;
        this.a[a][4].y += 2;
        this.a[a][5].x += 1 - 0.85;
        this.a[a][5].y += 1.5;
        this.a[a][6].x += 1 - 0.85;
        this.a[a][6].y += 0.5;
        for (b = 0; 7 > b; b++) this.c[a][b].set(this.a[a][b]);
        this.d[a] = 1
    } else if (1 == this.d[a] || 2 == this.d[a]) {
        W(this.a[a][0], this.c[a][0], 0.5, 0.99);
        for (b = 1; 7 > b; b++) W(this.a[a][b], this.c[a][b], 0, 0.99);
        b = v.m(this.a[a][0].x - 200, this.a[a][0].y - 50, this.a[a][0].x + 200, this.a[a][0].y + 50, 0); - 1 != b && 40 > A(100) && 0 < (this.state[a] & 2) && (this.a[a][0].x += v.a[b][2].x < this.a[a][0].x ? -2 : 2);
        var d = 0.1,
            c = 1.2 * c;
        for (b = 1; 4 > b; b++) Y(this.a[a][b], this.a[a][b + 3], 20 * c, d, d);
        for (b = 1; 5 > b; b++) Y(this.a[a][b], this.a[a][b + 2], 17 * c, d, d);
        Y(this.a[a][b + 0], this.a[a][1], 17 * c, d, d);
        Y(this.a[a][b + 1], this.a[a][2], 17 * c, d, d);
        for (b = 1; 6 > b; b++) Y(this.a[a][b], this.a[a][b + 1], 10 * c, d, d);
        Y(this.a[a][b], this.a[a][1], 10 * c, d, d);
        for (b = 1; 7 > b; b++) Y(this.a[a][0], this.a[a][b], 10 * c, 0.2, 0.2);
        this.p(a, 0);
        for (b = this.state[a] = 0; 7 > b; b++) this.h(a, b, 0.5);
        this.a[a][this.n].set(this.a[a][0]);
        if (0 >= this.r[a]) {
            this.d[a] = 3;
            for (b = this.count[a] = 0; 7 > b; b++) this.a[a][b].x += N(-0.5, 0.5), this.a[a][b].y -= N(2, 3);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 7 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        d = 0.5;
        c = 1.2 * c * (150 - this.count[a]) / 150;
        for (b = 1; 6 > b; b++) Y(this.a[a][b], this.a[a][b + 1], 10 * c, d, d);
        for (b = this.state[a] = 0; 7 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.wa;
hh.prototype.wa = function(a) {
    var b, c = new Qg,
        d = B[this.id[a]][ch];
    if (0 == this.d[a]) this.d[a] = 1;
    else if (1 == this.d[a] || 2 == this.d[a]) {
        W(this.a[a][0], this.c[a][0], 0, 0.99);
        for (b = 1; 5 > b; b++) W(this.a[a][b], this.c[a][b], 0, 0.9);
        Rg(c, 0, 0);
        b = v.m(this.a[a][0].x - 150, this.a[a][0].y - 50, this.a[a][0].x + 150, this.a[a][0].y + 50, 0);
        - 1 != b && (c.q(v.a[b][2], this.a[a][0]), b = Xg(c), b -= B[this.id[a]][32] / 2 - 10, 0 > b ? Tg(c, -0.01) : Tg(c, 0.01));
        0 > I.e[z(K(this.a[a][0].y - 7, 0, 255) / 8)][z(K(this.a[a][0].x, 0, 511) / 8)] && (c.y += 0.03);
        2 > A(100) && (c.x += N(-0.5, 0.5), c.y += N(-0.5, 0.5));
        this.a[a][0].add(c);
        c = 0.1;
        b = 6 * d;
        Y(this.a[a][0], this.a[a][1], 9 * d, 0, c);
        Y(this.a[a][1], this.a[a][2], 5 * d, 0, c);
        Y(this.a[a][2], this.a[a][3], 6 * d, 0, c);
        Y(this.a[a][2], this.a[a][4], 6 * d, 0, c);
        Y(this.a[a][3], this.a[a][4], 8 * d, c, c);
        this.p(a, 0);
        for (b = this.state[a] = 0; 5 > b; b++) this.h(a, b, 0.5);
        this.a[a][this.n].set(this.a[a][1]);
        if (0 >= this.r[a]) {
            this.d[a] = 3;
            for (b = this.count[a] = 0; 5 > b; b++) this.a[a][b].x += N(-2, 2), this.a[a][b].y -= N(2, 4);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 5 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        c = 0.5;
        b = 7 * d * (150 - this.count[a]) / 150;
        Y(this.a[a][2], this.a[a][3], b, c, c);
        Y(this.a[a][2], this.a[a][4], b, c, c);
        Y(this.a[a][3], this.a[a][4], b, c, c);
        for (b = this.state[a] = 0; 5 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.xa;
hh.prototype.xa = function(a) {
    var b, c = B[this.id[a]][ch];
    if (0 == this.d[a]) this.a[a][0].x += 0, this.a[a][0].y += 0, this.a[a][1].x += 0, this.a[a][1].y += 1, this.a[a][2].x += 0, this.a[a][2].y += 3, this.d[a]++;
    else if (1 == this.d[a]) {
        for (b = 0; 2 > b; b++) W(this.a[a][b], this.c[a][b], -0.04, 0.99);
        W(this.a[a][b], this.c[a][b], 1, 0.99);
        Y(this.a[a][0], this.a[a][1], 7 * c, 0.2, 0.2);
        Y(this.a[a][1], this.a[a][2], 5 * c, 0.2, 0);
        this.a[a][0].x = this.a[a][1].x = this.a[a][2].x;
        0 < this.l[a] ? this.l[a]-- : 0 < this.S[a] && (this.a[a][0].y += N(0, 1), this.p(a, 0));
        this.S[a] = 0;
        for (b = this.state[a] = 0; 3 > b; b++) this.h(a, b, 0.5);
        this.a[a][this.n].x = this.a[a][0].x;
        this.a[a][this.n].y = 0.5 * (this.a[a][0].y + this.a[a][1].y);
        if (0 >= this.r[a]) {
            this.d[a]++;
            for (b = 0; 3 > b; b++) this.a[a][b].x += N(-0.5, 0.5), this.a[a][b].y -= N(2, 3);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 3 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        for (b = this.state[a] = 0; 3 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.eb;
hh.prototype.eb = function(a, b) {
    var c, d = new Qg,
        e = B[this.id[a]][ch];
    if (0 == this.d[a]) 50 > A(100) ? this.d[a] = 1 : this.d[a] = 2;
    else if (1 == this.d[a] || 2 == this.d[a]) {
        W(this.a[a][0], this.c[a][0], 0, 0.98);
        for (c = 1; 6 > c; c++) W(this.a[a][c], this.c[a][c], 0, 0.9);
        if (9 == b) {
            Rg(d, 0, 0);
            c = v.m(this.a[a][0].x - 150, this.a[a][0].y - 50, this.a[a][0].x + 150, this.a[a][0].y + 50, 0); - 1 != c && (d.q(v.a[c][2], this.a[a][0]), c = Xg(d), c -= B[this.id[a]][32] / 2 - 10, 0 > c ? (Tg(d, -0.05), 384 < this.a[a][0].x && dh(d), 128 > this.a[a][0].x && (dh(d), Tg(d, -1))) : Tg(d, 0.01));
            c = z(K(this.a[a][0].x, 0, 511) / 8);
            var g = z(K(this.a[a][0].y - 7, 0, 255) / 8);
            c = I.e[g][c];
            0 > c && (d.y += 0.05);
            c = z(K(this.a[a][0].x + d.x, 0, 511) / 8);
            g = z(K(this.a[a][0].y + d.y, 0, 255) / 8);
            c = I.e[g][c];
            0 <= c && 8 >= c && dh(d)
        } else Rg(d, 0, 0), c = v.m(this.a[a][0].x - 500, this.a[a][0].y - 500, this.a[a][0].x + 500, this.a[a][0].y + 500, 0), -1 != c && (d.q(v.a[c][2], this.a[a][0]), c = Xg(d), c -= B[this.id[a]][32] / 2 - 10, 0 > c ? (1 == this.d[a] ? Tg(d, -0.05) : Tg(d, 0.05), dh(d)) : Tg(d, 0.02)), c = z(K(this.a[a][0].x + d.x, 0, 511) / 8), g = z(K(this.a[a][0].y + d.y, 0, 255) / 8), c = I.e[g][c],
            0 <= c && 8 >= c && (dh(d), 2 == this.d[a] && Tg(d, -1)), c = z(K(this.a[a][0].x + d.x, 0, 511) / 8), g = z(K(this.a[a][0].y + d.y, 0, 255) / 8), c = I.e[g][c], 0 <= c && 8 >= c && (dh(d), 2 == this.d[a] && Tg(d, -1));
        2 > A(100) && (d.x += N(-0.5, 0.5), d.y += N(-0.5, 0.5));
        this.a[a][0].add(d);
        for (c = 0; 6 > c; c++) Y(this.a[a][c], this.a[a][c + 1], 6 * e, 0, 0.5);
        0 == B[this.id[a]][Re] ? this.p(a, 0) : this.p(a, 50 > A(100) ? 0 : 1);
        for (c = this.state[a] = 0; 6 > c; c++) this.h(a, c, 0.5);
        this.a[a][this.n].set(this.a[a][0]);
        if (0 >= this.r[a]) {
            this.d[a] = 3;
            for (c = this.count[a] = 0; 6 > c; c++) this.a[a][c].x += N(-2, 2), this.a[a][c].y -= N(2, 4);
            Jg(this, a, 0)
        }
    } else {
        for (c = 0; 6 > c; c++) W(this.a[a][c], this.c[a][c], 0.05, 0.99);
        d = 6 * (150 - this.count[a]) / 150;
        for (c = 1; 5 > c; c++) Y(this.a[a][c], this.a[a][c + 1], d * e, 0, 0.5);
        for (c = this.state[a] = 0; 6 > c; c++) this.h(a, c, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.mb;
hh.prototype.mb = function(a) {
    var b;
    b = B[this.id[a]][ch];
    if (0 == this.d[a]) {
        this.a[a][0].x += 4;
        this.a[a][0].y += 0;
        this.a[a][1].x += 0;
        this.a[a][1].y += 0;
        this.a[a][2].x += 0;
        this.a[a][2].y += 7.99;
        this.a[a][3].x += 7.99;
        this.a[a][3].y += 0;
        this.a[a][4].x += 7.99;
        this.a[a][4].y += 7.99;
        this.a[a][5].x += 0;
        this.a[a][5].y += 0;
        this.a[a][6].x += 0;
        this.a[a][6].y += 7.99;
        this.a[a][7].x += 7.99;
        this.a[a][7].y += 0;
        this.a[a][8].x += 7.99;
        this.a[a][8].y += 7.99;
        for (b = 0; 9 > b; b++) this.c[a][b].set(this.a[a][b]);
        this.d[a] = 1
    } else if (1 == this.d[a] || 2 == this.d[a]) {
        W(this.a[a][0], this.c[a][0], -0.05, 0.99);
        W(this.a[a][1], this.c[a][1], -0.1, 0.99);
        W(this.a[a][2], this.c[a][2], 0.8, 0.99);
        W(this.a[a][3], this.c[a][3], -0.1, 0.99);
        W(this.a[a][4], this.c[a][4], 0.8, 0.99);
        W(this.a[a][5], this.c[a][5], -0.1, 0.99);
        W(this.a[a][6], this.c[a][6], 0.8, 0.99);
        W(this.a[a][7], this.c[a][7], -0.1, 0.99);
        W(this.a[a][8], this.c[a][8], 0.8, 0.99);
        if (50 > A(100) && 0 < (this.state[a] & 3)) {
            var c = v.m(this.a[a][0].x - 500, this.a[a][0].y - 25, this.a[a][0].x + 500, this.a[a][0].y + 25, 0); - 1 != c ? this.d[a] = v.a[c][2].x <
                this.a[a][0].x ? 1 : 2 : 10 > A(100) && (this.d[a] = Kf(1, 2));
            1 == this.d[a] ? (this.a[a][2].x < this.a[a][6].x ? (this.a[a][6].x += A(-1), this.a[a][6].y += N(-1, -1)) : (this.a[a][2].x += A(-1), this.a[a][2].y += N(-1, -1)), this.a[a][4].x < this.a[a][8].x ? (this.a[a][8].x += A(-1), this.a[a][8].y += N(-1, -1)) : (this.a[a][4].x += A(-1), this.a[a][4].y += N(-1, -1)), 1 > A(100) && (this.a[a][0].x -= 1, this.a[a][0].y -= 3)) : (this.a[a][2].x < this.a[a][6].x ? (this.a[a][2].x += A(1), this.a[a][2].y += N(-1, -1)) : (this.a[a][6].x += A(1), this.a[a][6].y += N(-1, -1)), this.a[a][4].x <
                this.a[a][8].x ? (this.a[a][4].x += A(1), this.a[a][4].y += N(-1, -1)) : (this.a[a][8].x += A(1), this.a[a][8].y += N(-1, -1)), 1 > A(100) && (this.a[a][0].x += 1, this.a[a][0].y -= 3))
        }
        c = 0.3;
        b *= 2.2;
        Y(this.a[a][0], this.a[a][5], 3 * b, 0.1 * c, c);
        Y(this.a[a][0], this.a[a][7], 3 * b, 0.1 * c, c);
        Y(this.a[a][0], this.a[a][6], 3 * b, 0.1 * c, c);
        Y(this.a[a][5], this.a[a][6], 2 * b, 0.2 * c, 0.2 * c);
        Y(this.a[a][0], this.a[a][8], 3 * b, 0.1 * c, c);
        Y(this.a[a][7], this.a[a][8], 2 * b, 0.2 * c, 0.2 * c);
        Y(this.a[a][0], this.a[a][1], 4 * b, 0.1 * c, c);
        Y(this.a[a][0], this.a[a][3], 4 * b, 0.1 * c, c);
        Y(this.a[a][0], this.a[a][2], 4 * b, 0.1 * c, c);
        Y(this.a[a][1], this.a[a][2], 3 * b, 0.2 * c, 0.2 * c);
        Y(this.a[a][0], this.a[a][4], 4 * b, 0.1 * c, c);
        Y(this.a[a][3], this.a[a][4], 3 * b, 0.2 * c, 0.2 * c);
        Y(this.a[a][2], this.a[a][4], 8 * b, 0.1 * c, 0.1 * c);
        Y(this.a[a][5], this.a[a][7], 7 * b, 0.1 * c, 0.1 * c);
        this.p(a, 0);
        0 != B[this.id[a]][Re] && this.p(a, 1);
        for (b = this.state[a] = 0; 9 > b; b++) this.h(a, b, 0.5);
        this.a[a][this.n].set(this.a[a][0]);
        if (0 >= this.r[a]) {
            this.d[a] = 3;
            this.count[a] = 0;
            for (b = 1; 9 > b; b++) this.a[a][b].x += N(-1, 1), this.a[a][b].y -= N(1, 2);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 9 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        c = 0.5;
        b = 1.2 * (150 - this.count[a]) / 150;
        Y(this.a[a][1], this.a[a][2], 4 * b, c, c);
        Y(this.a[a][3], this.a[a][4], 4 * b, c, c);
        Y(this.a[a][5], this.a[a][6], 3 * b, c, c);
        Y(this.a[a][7], this.a[a][8], 3 * b, c, c);
        for (b = this.state[a] = 0; 9 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.nb;
hh.prototype.nb = function(a) {
    var b, c = B[this.id[a]][ch];
    if (0 == this.d[a]) this.a[a][0].x += 1, this.a[a][0].y += 0, this.a[a][1].x += 0, this.a[a][1].y += 1, this.a[a][2].x += 2, this.a[a][2].y += 1, this.a[a][3].x += 1, this.a[a][3].y += 2, this.d[a]++;
    else if (1 == this.d[a]) {
        for (b = 0; 3 > b; b++) W(this.a[a][b], this.c[a][b], -0.04, 0.99);
        W(this.a[a][b], this.c[a][b], 1, 0.99);
        Y(this.a[a][0], this.a[a][3], 20 * c, 0.2, 0);
        Y(this.a[a][1], this.a[a][3], 15 * c, 0.2, 0);
        Y(this.a[a][2], this.a[a][3], 20 * c, 0.2, 0);
        this.a[a][0].x = this.a[a][3].x;
        this.a[a][1].x = this.a[a][3].x - 8 * c;
        this.a[a][2].x = this.a[a][3].x + 8 * c;
        0 < this.l[a] ? this.l[a]-- : 0 < this.S[a] && (this.a[a][0].y += N(0, 1), this.a[a][1].y += N(0, 1), this.a[a][2].y += N(0, 1), this.p(a, 0));
        this.S[a] = 0;
        for (b = this.state[a] = 0; 4 > b; b++) this.h(a, b, 0.5);
        this.a[a][this.n].x = this.a[a][0].x;
        this.a[a][this.n].y = 0.5 * (this.a[a][0].y + this.a[a][1].y);
        if (0 >= this.r[a]) {
            this.d[a]++;
            for (b = 0; 4 > b; b++) this.a[a][b].x += N(-0.5, 0.5), this.a[a][b].y -= N(2, 3);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 4 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        for (b = this.state[a] =
            0; 4 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.ob;
hh.prototype.ob = function(a) {
    var b, c = new Qg;
    b = B[this.id[a]][ch];
    if (0 == this.d[a]) {
        this.a[a][0].x += 2;
        this.a[a][0].y += 4;
        this.a[a][1].x += 2;
        this.a[a][1].y += 2;
        this.a[a][2].x += 0;
        this.a[a][2].y += 0;
        this.a[a][3].x += 4;
        this.a[a][3].y += 0;
        for (b = 0; 4 > b; b++) this.c[a][b].set(this.a[a][b]);
        this.d[a] = 1
    } else if (1 == this.d[a] || 2 == this.d[a]) {
        W(this.a[a][0], this.c[a][0], 0.1, 0.99);
        W(this.a[a][1], this.c[a][1], 0.1, 0.99);
        W(this.a[a][2], this.c[a][2], -0.1, 0.99);
        W(this.a[a][3], this.c[a][3], -0.1, 0.99);
        Rg(c, 0, 0);
        var d = v.m(this.a[a][0].x - 150, this.a[a][0].y - 250, this.a[a][0].x + 150, this.a[a][0].y + 250, 0);
        - 1 != d && (c.x = v.a[d][2].x - this.a[a][0].x, c.y = v.a[d][2].y - 10 - this.a[a][0].y, c.x = -10 > c.x ? -0.02 : 10 < c.x ? 0.02 : N(-0.02, 0.02), d = B[this.id[a]][32] / 2, c.y = c.y < -d ? -0.02 : c.y > d ? 0.02 : N(-0.1, 0.1));
        this.a[a][0].add(c);
        this.a[a][2].x -= A(0.8);
        this.a[a][3].x += A(0.8);
        c = 0.3;
        Y(this.a[a][1], this.a[a][2], 8 * b, c, c);
        Y(this.a[a][1], this.a[a][3], 8 * b, c, c);
        Y(this.a[a][2], this.a[a][3], 16 * b, c, c);
        Y(this.a[a][0], this.a[a][2], 12 * b, c, c);
        Y(this.a[a][0], this.a[a][3], 12 * b, c,
            c);
        this.p(a, 0);
        for (b = this.state[a] = 0; 4 > b; b++) this.h(a, b, 1);
        this.a[a][this.n].set(this.a[a][0]);
        if (0 >= this.r[a]) {
            this.d[a] = 3;
            for (b = 0; 4 > b; b++) this.a[a][b].x += N(-1, 1), this.a[a][b].y -= N(1, 2);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 4 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        c = 0.3;
        b = (150 - this.count[a]) / 150;
        Y(this.a[a][1], this.a[a][2], 8 * b, c, c);
        Y(this.a[a][1], this.a[a][3], 8 * b, c, c);
        Y(this.a[a][2], this.a[a][3], 16 * b, c, c);
        for (b = this.state[a] = 0; 4 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.pb;
hh.prototype.pb = function(a) {
    var b;
    b = B[this.id[a]][ch];
    if (0 == this.d[a]) {
        this.a[a][0].x += 1;
        this.a[a][0].y += 0;
        this.a[a][1].x += 0;
        this.a[a][1].y += 1;
        this.a[a][2].x += 2;
        this.a[a][2].y += 1;
        for (b = 0; 3 > b; b++) this.c[a][b].set(this.a[a][b]);
        this.d[a]++
    } else if (1 == this.d[a]) {
        W(this.a[a][0], this.c[a][0], -0.15, 0.99);
        W(this.a[a][1], this.c[a][1], 0.1, 0.99);
        W(this.a[a][2], this.c[a][2], 0.1, 0.99);
        var c = v.m(this.a[a][0].x - 200, this.a[a][0].y - 50, this.a[a][0].x + 200, this.a[a][0].y + 50, 0);
        if (0 < (this.state[a] & 2) && 5 > A(100)) {
            var d =
                0,
                d = -1 != c ? v.a[c][2].x < this.a[a][0].x ? -1 : 1 : Kf(-1, 1);
            this.a[a][0].x += N(0.4, 0.6) * d;
            this.a[a][0].y += N(-1.5, -2)
        }
        c = 0.01;
        Y(this.a[a][0], this.a[a][1], 5 * b, c, c);
        Y(this.a[a][0], this.a[a][2], 5 * b, c, c);
        Y(this.a[a][1], this.a[a][2], 6 * b, c, c);
        1 < b && 0 < this.S[a] && 10 > A(100) && this.add(z(this.a[a][0].x / 8), z(this.a[a][0].y / 8), this.id[a] - 1);
        this.S[a] = 0;
        this.p(a, 0);
        for (b = this.state[a] = 0; 3 > b; b++) this.h(a, b, 0.9);
        this.a[a][this.n].set(this.a[a][0]);
        if (0 >= this.r[a]) {
            this.d[a]++;
            this.a[a][3].set(this.a[a][0]);
            this.c[a][3].set(this.a[a][0]);
            for (b = 0; 4 > b; b++) this.a[a][b].x += N(-0.5, 0.5), this.a[a][b].y -= N(2, 3);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 4 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        c = 0.01;
        b = (150 - this.count[a]) / 150;
        Y(this.a[a][0], this.a[a][1], 5 * b, c, c);
        Y(this.a[a][0], this.a[a][2], 5 * b, c, c);
        Y(this.a[a][1], this.a[a][2], 6 * b, c, c);
        for (b = this.state[a] = 0; 4 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.qb;
hh.prototype.qb = function(a) {
    var b, c = new Qg,
        d = B[this.id[a]][ch];
    if (0 == this.d[a]) this.d[a]++;
    else if (1 == this.d[a]) {
        for (b = 0; 10 > b; b++) W(this.a[a][b], this.c[a][b], 0, 0.98);
        0 >= this.count[a] && 5 > A(100) && (b = z(A(3)), 0 == b ? (c.x = (this.a[a][8].x + this.a[a][9].x) / 2 - this.a[a][7].x, c.y = (this.a[a][8].y + this.a[a][9].y) / 2 - this.a[a][7].y, Xg(c), Tg(c, d), this.a[a][7].add(c)) : 1 == b ? (c.x = (this.a[a][9].x + this.a[a][7].x) / 2 - this.a[a][8].x, c.y = (this.a[a][9].y + this.a[a][7].y) / 2 - this.a[a][8].y, Xg(c), Tg(c, d), this.a[a][8].add(c)) : 2 ==
            b && (c.x = (this.a[a][7].x + this.a[a][8].x) / 2 - this.a[a][9].x, c.y = (this.a[a][7].y + this.a[a][8].y) / 2 - this.a[a][9].y, Xg(c), Tg(c, d), this.a[a][9].add(c)), this.count[a] = 25 * d);
        Rg(c, 0, 0);
        b = v.m(this.a[a][0].x - 200, this.a[a][0].y - 200, this.a[a][0].x + 200, this.a[a][0].y + 200, 0);
        if (-1 != b)
            for (c.q(v.a[b][2], this.a[a][0]), Xg(c), b = 4; 7 > b; b++) this.a[a][b].x += 0.02 * c.x, this.a[a][b].y += 0.02 * c.y;
        c = 0.05;
        for (b = 1; 4 > b; b++) Y(this.a[a][0], this.a[a][b], 3 * d, c, c);
        for (b = 1; 4 > b; b++) Y(this.a[a][b], this.a[a][b + 3], 3 * d, c, c);
        for (b = 4; 7 > b; b++) Y(this.a[a][b],
            this.a[a][b + 3], 3 * d, c, 0.01);
        5 > this.count[a]-- && (c = 0.01 / d, Y(this.a[a][7], this.a[a][8], 20 * d, c, c), Y(this.a[a][8], this.a[a][9], 20 * d, c, c), Y(this.a[a][9], this.a[a][7], 20 * d, c, c));
        this.p(a, 0);
        for (b = this.state[a] = 0; 10 > b; b++) this.h(a, b, 0.9);
        this.a[a][this.n].set(this.a[a][0]);
        if (0 >= this.r[a]) {
            this.d[a]++;
            for (b = this.count[a] = 0; 4 > b; b++) this.a[a][b].x += N(-0.5, 0.5), this.a[a][b].y -= N(2, 3);
            Jg(this, a, 0)
        }
    } else {
        for (b = 0; 10 > b; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.98);
        var c = 0.05,
            e = (150 - this.count[a]) / 150;
        for (b = 1; 4 > b; b++) Y(this.a[a][b],
            this.a[a][b + 3], 3 * d * e, c, c);
        for (b = 4; 7 > b; b++) Y(this.a[a][b], this.a[a][b + 3], 3 * d * e, c, c);
        for (b = this.state[a] = 0; 10 > b; b++) this.h(a, b, 0.5);
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.rb;
hh.prototype.rb = function(a) {
    var b, c = B[this.id[a]][ch];
    if (0 == this.d[a]) this.d[a] = z(N(4, 7)), this.count[a] = z(A(400));
    else if (10 > this.d[a]) {
        500 > this.count[a] ? W(this.a[a][0], this.c[a][0], 0.1, 0.99) : W(this.a[a][0], this.c[a][0], -0.1, 0.99);
        for (b = 1; b < this.d[a] - 1; b++) W(this.a[a][b], this.c[a][b], 0, 0.99);
        W(this.a[a][b], this.c[a][b], 1, 0.99);
        10 > A(100) && (b = z(A(4)), this.a[a][b].x += N(-0.5, 0.5));
        this.count[a]++;
        600 < this.count[a] && (this.count[a] = z(A(400)));
        Y(this.a[a][0], this.a[a][1], 8 * c, 0.2, 0.2);
        for (b = 1; b < this.d[a] -
            2; b++) Y(this.a[a][b], this.a[a][b + 1], 6 * c, 0.2, 0.2);
        Y(this.a[a][b], this.a[a][b + 1], 6 * c, 0.2, 0);
        this.p(a, 0);
        this.state[a] = 0;
        for (b = this.d[a] - 1; b < this.d[a]; b++) this.h(a, b, 0.5);
        this.a[a][this.n].set(this.a[a][0]);
        if (0 >= this.r[a]) {
            for (b = 0; b < this.d[a]; b++) this.a[a][b].x += N(-0.5, 0.5), this.a[a][b].y -= N(2, 3);
            this.count[a] = 0;
            Jg(this, a, 0);
            this.d[a] += 10
        }
    } else {
        for (b = 0; b < this.d[a] - 10; b++) W(this.a[a][b], this.c[a][b], 0.05, 0.99);
        this.state[a] = 0;
        150 < this.count[a]++ && this.sub(a--)
    }
    return a
};
da.fff = hh.prototype.b;
hh.prototype.b = function() {
    var a, b;
    for (a = 0; a < this.index; a++) {
        var c = B[this.id[a]][2],
            d = B[this.id[a]][4],
            e = B[this.id[a]][5],
            g = B[this.id[a]][ch];
        0 < this.B[a] ? (d = 5934817, e = 1989840) : 0 < this.C[a] ? (d = 1989840, e = 9840) : 0 < this.D[a] && (d = 3407616, e = 3381504);
        var k = (150 - this.count[a]) / 150 * g;
        switch (this.step[a]) {
            case 0:
                If(z(this.a[a][1].x - 0.5), z(this.a[a][1].y) - 2 * g, z(4 * k) + 1, z(4 * k) + 1, e);
                If(z(this.a[a][2].x - 0.5), z(this.a[a][2].y) - 2 * g, z(4 * k) + 1, z(4 * k) + 1, e);
                J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 1:
                J(Va, z(this.a[a][2].x), z(this.a[a][2].y - 2 * k), z(8 * k), z(8 * k), 16 * c, 0, 16, 16, e);
                J(Va, z(this.a[a][1].x), z(this.a[a][1].y - 3 * k), z(12 * k), z(12 * k), 16 * c, 0, 16, 16, e);
                J(Va, z(this.a[a][0].x), z(this.a[a][0].y - 4 * k), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 2:
                L(this.a[a][1].x, this.a[a][1].y, this.a[a][2].x, this.a[a][2].y, e);
                L(this.a[a][2].x, this.a[a][2].y, this.a[a][3].x, this.a[a][3].y, e);
                L(this.a[a][3].x, this.a[a][3].y, this.a[a][1].x, this.a[a][1].y, e);
                L(this.a[a][4].x, this.a[a][4].y, this.a[a][5].x, this.a[a][5].y, e);
                L(this.a[a][5].x, this.a[a][5].y, this.a[a][6].x, this.a[a][6].y, e);
                L(this.a[a][6].x, this.a[a][6].y, this.a[a][4].x, this.a[a][4].y, e);
                J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 3:
                3 > this.d[a] && (L(this.a[a][0].x, this.a[a][0].y, this.a[a][1].x, this.a[a][1].y, e), L(this.a[a][4].x, this.a[a][4].y, this.a[a][5].x, this.a[a][5].y, e));
                L(this.a[a][1].x, this.a[a][1].y, this.a[a][2].x, this.a[a][2].y, e);
                L(this.a[a][2].x, this.a[a][2].y, this.a[a][3].x, this.a[a][3].y, e);
                L(this.a[a][3].x, this.a[a][3].y, this.a[a][4].x, this.a[a][4].y, e);
                Hf(z(this.a[a][5].x), z(this.a[a][5].y), z(2 * k), z(2 * k), d);
                J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 4:
            case 12:
                L(this.a[a][1].x, this.a[a][1].y, this.a[a][2].x, this.a[a][2].y, e);
                3 > this.d[a] && (L(this.a[a][1].x, this.a[a][1].y, this.a[a][3].x, this.a[a][3].y, e), L(this.a[a][1].x, this.a[a][1].y, this.a[a][4].x, this.a[a][4].y, e));
                L(this.a[a][3].x, this.a[a][3].y, this.a[a][5].x, this.a[a][5].y, e);
                L(this.a[a][4].x, this.a[a][4].y, this.a[a][6].x, this.a[a][6].y, e);
                3 > this.d[a] && (L(this.a[a][2].x, this.a[a][2].y, this.a[a][7].x, this.a[a][7].y, e), L(this.a[a][2].x, this.a[a][2].y, this.a[a][8].x, this.a[a][8].y, e));
                L(this.a[a][7].x, this.a[a][7].y, this.a[a][9].x, this.a[a][9].y, e);
                L(this.a[a][8].x, this.a[a][8].y, this.a[a][10].x, this.a[a][10].y, e);
                J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                332 == this.id[a] && J(Va, z(this.a[a][0].x), z(this.a[a][0].y - 3 * k), z(16 * k), z(16 * k), 352, 0, 16, 16, 16777215);
                break;
            case 5:
            case 18:
                var r = 5 == this.step[a] ? -2 : 2;
                for (b = 10 > this.d[a] ? this.d[a] - 1 : this.d[a] - 11; 0 < b; b--) If(z(this.a[a][b].x), z(this.a[a][b].y + r * k), z(4 * k) + 1, z(4 * k) + 1, e);
                5 == this.step[a] ? J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d) : J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 15, 16, -16, d);
                break;
            case 6:
                for (b = 1; 6 > b; b++) L(this.a[a][b].x, this.a[a][b].y, this.a[a][b + 1].x, this.a[a][b + 1].y, e);
                3 > this.d[a] && L(this.a[a][b].x, this.a[a][b].y, this.a[a][1].x, this.a[a][1].y, e);
                J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 7:
                L(this.a[a][2].x, this.a[a][2].y, this.a[a][3].x, this.a[a][3].y, e);
                L(this.a[a][2].x, this.a[a][2].y, this.a[a][4].x, this.a[a][4].y, e);
                L(this.a[a][3].x, this.a[a][3].y, this.a[a][4].x, this.a[a][4].y, e);
                If(z(this.a[a][1].x), z(this.a[a][1].y), z(6 * k) + 1, z(6 * k) + 1, e);
                J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 8:
                If(z(this.a[a][2].x) + z(1 * k), z(this.a[a][2].y - 2 * k), z(8 * k) + 1, z(4 * k) + 1, e);
                If(z(this.a[a][1].x), z(this.a[a][1].y - 2 * k), z(4 * k) + 1, z(4 * k) + 1, e);
                J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 9:
            case 13:
                Hf(z(this.a[a][5].x), z(this.a[a][5].y), z(2 * k), z(2 * k), d);
                J(Va, z(this.a[a][4].x), z(this.a[a][4].y), z(8 * k), z(8 * k), 16 * c, 0, 16, 16, e);
                J(Va, z(this.a[a][3].x), z(this.a[a][3].y), z(10 * k), z(10 * k), 16 * c, 0, 16, 16, e);
                J(Va, z(this.a[a][2].x), z(this.a[a][2].y), z(12 * k), z(12 * k), 16 * c, 0, 16, 16, e);
                J(Va, z(this.a[a][1].x), z(this.a[a][1].y), z(14 * k), z(14 * k), 16 * c, 0, 16, 16, e);
                J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 10:
                L(this.a[a][1].x, this.a[a][1].y, this.a[a][2].x, this.a[a][2].y, e);
                3 > this.d[a] && (L(this.a[a][0].x, this.a[a][0].y, this.a[a][1].x, this.a[a][1].y, e), L(this.a[a][0].x, this.a[a][0].y, this.a[a][3].x, this.a[a][3].y, e));
                L(this.a[a][1].x, this.a[a][1].y, this.a[a][2].x, this.a[a][2].y, e);
                L(this.a[a][3].x, this.a[a][3].y, this.a[a][4].x, this.a[a][4].y, e);
                3 > this.d[a] && (L(this.a[a][0].x, this.a[a][0].y, this.a[a][5].x, this.a[a][5].y, e), L(this.a[a][0].x, this.a[a][0].y, this.a[a][7].x, this.a[a][7].y, e));
                L(this.a[a][5].x, this.a[a][5].y, this.a[a][6].x, this.a[a][6].y, e);
                L(this.a[a][7].x, this.a[a][7].y, this.a[a][8].x, this.a[a][8].y, e);
                J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 11:
                If(z(this.a[a][3].x), z(this.a[a][3].y - 7 * k), z(4 * k) + 1, z(14 * k) + 1, e);
                If(z(this.a[a][2].x) + 0, z(this.a[a][2].y), z(4 * k) + 1, z(9 * k) + 1, e);
                If(z(this.a[a][1].x) + 1, z(this.a[a][1].y), z(4 * k) + 1, z(8 * k) + 1, e);
                J(Va, z(this.a[a][0].x) + 1, z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 14:
                L(this.a[a][1].x, this.a[a][1].y, this.a[a][2].x, this.a[a][2].y, e);
                L(this.a[a][2].x, this.a[a][2].y, this.a[a][3].x, this.a[a][3].y, e);
                L(this.a[a][3].x, this.a[a][3].y, this.a[a][1].x, this.a[a][1].y, e);
                J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 15:
                L(this.a[a][0].x, this.a[a][0].y, this.a[a][1].x, this.a[a][1].y, e);
                L(this.a[a][0].x, this.a[a][0].y, this.a[a][2].x, this.a[a][2].y, e);
                L(this.a[a][1].x, this.a[a][1].y, this.a[a][2].x, this.a[a][2].y, e);
                2 > this.d[a] ? J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d) : J(Va, z(this.a[a][3].x), z(this.a[a][3].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 16:
                if (2 > this.d[a])
                    for (b = 1; 4 > b; b++) L(this.a[a][0].x, this.a[a][0].y, this.a[a][b].x, this.a[a][b].y, e);
                for (b = 4; 10 > b; b++) L(this.a[a][b - 3].x, this.a[a][b - 3].y, this.a[a][b].x, this.a[a][b].y, e);
                if (2 > this.d[a])
                    for (b = 7; 10 > b; b++) Hf(z(this.a[a][b].x), z(this.a[a][b].y), z(2 * g), z(2 * g), d);
                else
                    for (b = 7; 10 > b; b++) Hf(z(this.a[a][b].x) + 1, z(this.a[a][b].y) + 1, z(2 * k), z(2 * k), d);
                2 > this.d[a] ? J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * g), z(16 * g), 16 * c, 0, 16, 16, d) : J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d);
                break;
            case 17:
                if (10 > this.d[a]) {
                    for (b = this.d[a] - 1; 0 < b; b--) Hf(z(this.a[a][b].x), z(this.a[a][b].y - 2 * g), z(4 * g), z(4 * g), e);
                    J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * g), z(16 * g), 16 * c, 0, 16, 16, d)
                } else {
                    for (b = this.d[a] - 11; 0 < b; b--) If(z(this.a[a][b].x), z(this.a[a][b].y - 2 * k), z(4 * k) + 1, z(4 * k) + 1, e);
                    J(Va, z(this.a[a][0].x), z(this.a[a][0].y), z(16 * k), z(16 * k), 16 * c, 0, 16, 16, d)
                }
        }
        0 < (xc & 2) && 0 < this.r[a] && (V(z(this.a[a][0].x) - 6 * g, z(this.a[a][0].y) - 10 * g, 12 * g, 1, 10027008), V(z(this.a[a][0].x) - 6 * g, z(this.a[a][0].y) - 10 * g, z(12 * g * this.r[a] / B[this.id[a]][lg]), 1, 52224))
    }
};
hh.prototype.M = function(a, b, c, d) {
    var e = B[a][2],
        g = B[a][4],
        k = B[a][5],
        r = K(B[a][ch], 1, 4);
    1 == d && (r = 1);
    d = r;
    var m = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        n = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
    //Sets Enemy Body Part Cooridinates For Book
    switch (B[a][bh]) {
        case 0:
            m[0] = b + 0 * d;
            n[0] = c - 7 * d;
            m[1] = b - 5.5 * d;
            n[1] = c - 0 * d;
            m[2] = b + 6 * d;
            n[2] = c - 0 * d;
            break;
        case 1:
            m[0] = b - 3 * d;
            n[0] = c - 8 * d;
            m[1] = b + 1 * d;
            n[1] = c - 7 * d;
            m[2] = b + 4 * d;
            n[2] = c - 1 * d;
            break;
        case 2:
            m[0] = b + 0 * d;
            n[0] = c - 8 * d;
            m[1] = b - 4 * d;
            n[1] = c - 8 * d;
            m[2] = b - 9 * d;
            n[2] = c - 9 * d;
            m[3] = b - 7 * d;
            n[3] = c - 4 * d;
            m[4] = b + 3 * d;
            n[4] = c - 8 * d;
            m[5] = b + 9 * d;
            n[5] = c - 10 * d;
            m[6] = b + 7 * d;
            n[6] = c - 4 * d;
            break;
        case 3:
            m[0] = b - 3 * d;
            n[0] = c - 10 * d;
            m[1] = b + 1 * d;
            n[1] = c - 10 * d;
            m[2] = b + 4 * d;
            n[2] = c - 8 * d;
            m[3] = b + 5 * d;
            n[3] = c - 6 * d;
            m[4] = b + 5 * d;
            n[4] = c - 4 * d;
            m[5] = b + 3 * d;
            n[5] = c - 1 * d;
            break;
        case 4:
            m[0] = b + 0 * d;
            n[0] = c - 15 * d;
            m[1] = b + 0 * d;
            n[1] = c - 10 * d;
            m[2] = b + 0 * d;
            n[2] = c - 7 * d;
            m[3] = b - 2 * d;
            n[3] = c - 8 * d;
            m[4] = b + 3 * d;
            n[4] = c - 11 * d;
            m[5] = b - 5 * d;
            n[5] = c - 7 * d;
            m[6] = b + 5 * d;
            n[6] = c - 8 * d;
            m[7] = b - 3 * d;
            n[7] = c - 3 * d;
            m[8] = b + 3 * d;
            n[8] = c - 5 * d;
            m[9] = b - 1 * d;
            n[9] = c - 1 * d;
            m[10] = b + 2 * d;
            n[10] = c - 0 * d;
            break;
        case 5:
            m[0] = b + 0 * d;
            n[0] = c - 20 * d;
            m[1] = b + 0 * d;
            n[1] = c - 12 * d;
            m[2] = b - 1 * d;
            n[2] = c - 6 * d;
            m[3] = b + 0 * d;
            n[3] = c - 0 * d;
            break;
        case 18:
            d = K(d, 1, 2);
            m[0] = b + 0 * d;
            n[0] = c + 20 * d - 40;
            m[1] = b + 0 * d;
            n[1] = c + 12 * d - 40;
            m[2] = b - 1 * d;
            n[2] = c + 6 * d - 40;
            m[3] = b + 0 * d;
            n[3] = c + 0 * d - 40;
            break;
        case 6:
            m[0] = b + 0 * d;
            n[0] = c - 10 * d;
            m[1] = b - 7 * d;
            n[1] = c - 19 * d;
            m[2] = b + 5 * d;
            n[2] = c - 21 * d;
            m[3] = b + 12 * d;
            n[3] = c - 12 * d;
            m[4] = b + 7 * d;
            n[4] = c - 2 * d;
            m[5] = b - 5 * d;
            n[5] = c - 0 * d;
            m[6] = b - 12 * d;
            n[6] = c - 10 * d;
            break;
        case 7:
            m[0] = b - 5 * d;
            n[0] = c - 13 * d;
            m[1] = b + 0 * d;
            n[1] = c - 9 * d;
            m[2] = b + 5 * d;
            n[2] = c - 6 * d;
            m[3] = b + 8 * d;
            n[3] = c - 11 * d;
            m[4] = b + 10 * d;
            n[4] = c - 3 * d;
            break;
        case 8:
            m[0] = b + 0 * d;
            n[0] = c - 12 * d;
            m[1] = b + 0 * d;
            n[1] = c - 5 * d;
            m[2] = b + 0 * d;
            n[2] = c - 0 * d;
            break;
        case 9:
        case 13:
            m[0] = b - 4 * d;
            n[0] = c - 20 * d;
            m[1] = b + 2 * d;
            n[1] = c - 16 * d;
            m[2] = b + 4 * d;
            n[2] = c - 11 * d;
            m[3] = b + 2 * d;
            n[3] = c - 6 * d;
            m[4] = b - 1 * d;
            n[4] = c - 3 * d;
            m[5] = b - 5 * d;
            n[5] = c - 2 * d;
            break;
        case 10:
            m[0] = b + 0 * d;
            n[0] = c - 6 * d;
            m[1] = b - 9 * d;
            n[1] = c - 9 * d;
            m[2] = b - 7 * d;
            n[2] = c - 0 * d;
            m[3] = b + 9 * d;
            n[3] = c - 9 * d;
            m[4] = b + 7 * d;
            n[4] = c - 0 * d;
            m[5] = b - 7 * d;
            n[5] = c - 5 * d;
            m[6] = b - 5 * d;
            n[6] = c - 0 * d;
            m[7] = b + 7 * d;
            n[7] = c - 5 * d;
            m[8] = b + 5 * d;
            n[8] = c - 0 * d;
            break;
        case 11:
            m[0] = b + 0 * d;
            n[0] = c - 19 * d;
            m[1] = b - 8 * d;
            n[1] = c - 13 * d;
            m[2] = b + 8 * d;
            n[2] = c - 18 * d;
            m[3] = b + 0 * d;
            n[3] = c - 0 * d;
            break;
        case 12:
            m[0] = b + 0 * d;
            n[0] = c - 16 * d;
            m[1] = b + 0 * d;
            n[1] = c - 10 * d;
            m[2] = b + 2 * d;
            n[2] = c - 7 * d;
            m[3] = b - 2 * d;
            n[3] = c - 8 * d;
            m[4] = b - 3 * d;
            n[4] = c - 11 * d;
            m[5] = b - 5 * d;
            n[5] = c - 7 * d;
            m[6] = b - 8 * d;
            n[6] = c - 10 * d;
            m[7] = b - 1 * d;
            n[7] = c - 4 * d;
            m[8] = b + 2 * d;
            n[8] = c - 5 * d;
            m[9] = b - 0 * d;
            n[9] = c - 1 * d;
            m[10] = b + 4 * d;
            n[10] = c - 0 * d;
            break;
        case 14:
            m[0] = b + 0 * d;
            n[0] = c - 8 * d;
            m[1] = b - 0 * d;
            n[1] = c - 14 * d;
            m[2] = b - 8 * d;
            n[2] = c - 16 * d;
            m[3] = b + 8 * d;
            n[3] = c - 16 * d;
            break;
        case 15:
            m[0] = b - 1 * d;
            n[0] = c - 12 * d;
            m[1] = b - 3 * d;
            n[1] = c - 0 * d;
            m[2] = b + 3 * d;
            n[2] = c - 0 * d;
            break;
        case 16:
            m[0] = b - 0 * d;
            n[0] = c - 10 * d;
            m[1] = b - 3 * d;
            n[1] = c - 11 * d;
            m[4] = b - 6 * d;
            n[4] = c - 12 * d;
            m[7] = b - 9 * d;
            n[7] = c - 13 * d;
            m[2] = b + 3 * d;
            n[2] = c - 11 * d;
            m[5] = b + 6 * d;
            n[5] = c - 12 * d;
            m[8] = b + 8 * d;
            n[8] = c - 14 * d;
            m[3] = b + 1 * d;
            n[3] = c - 7 * d;
            m[6] = b + 2 * d;
            n[6] = c - 4 * d;
            m[9] = b + 1 * d;
            n[9] = c - 1 * d;
            break;
        case 17:
            m[0] = b + 2 * d, n[0] = c - 16 * d, m[1] = b + 2 * d, n[1] = c - 6 * d, m[2] = b - 3 * d, n[2] = c - 5 * d, m[3] = b - 2 * d, n[3] = c - 0 * d
    }
    //Draws Enemy Body Parts For Book
    switch (B[a][bh]) {
        case 0:
            If(z(m[1] - 0.5), z(n[1]) - 2 * r, z(4 * d) + 1, z(4 * d) + 1, k);
            If(z(m[2] - 0.5), z(n[2]) - 2 * r, z(4 * d) + 1, z(4 * d) + 1, k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 1:
            J(Va, z(m[2]), z(n[2] - 2 * d), z(8 * d), z(8 * d), 16 * e, 0, 16, 16, k);
            J(Va, z(m[1]), z(n[1] - 3 * d), z(12 * d), z(12 * d), 16 * e, 0, 16, 16, k);
            J(Va, z(m[0]), z(n[0] - 4 * d), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 2:
            L(m[1], n[1], m[2], n[2], k);
            L(m[2], n[2], m[3], n[3], k);
            L(m[3], n[3], m[1], n[1], k);
            L(m[4], n[4], m[5], n[5], k);
            L(m[5], n[5], m[6], n[6], k);
            L(m[6], n[6], m[4], n[4], k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 3:
            L(m[0], n[0], m[1], n[1], k);
            L(m[4], n[4], m[5], n[5], k);
            L(m[1], n[1], m[2], n[2], k);
            L(m[2], n[2], m[3], n[3], k);
            L(m[3], n[3], m[4], n[4], k);
            Hf(z(m[5]), z(n[5]), z(2 * d), z(2 * d), g);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 4:
        case 12:
            L(m[1], n[1], m[2], n[2], k);
            L(m[1], n[1], m[3], n[3], k);
            L(m[1], n[1], m[4], n[4], k);
            L(m[3], n[3], m[5], n[5], k);
            L(m[4], n[4], m[6], n[6], k);
            L(m[2], n[2], m[7], n[7], k);
            L(m[2], n[2], m[8], n[8], k);
            L(m[7], n[7], m[9], n[9], k);
            L(m[8], n[8], m[10], n[10], k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            332 == a && J(Va, z(m[0]), z(n[0] - 3 * d), z(16 * d), z(16 * d), 352, 0, 16, 16, 16766720);
            break;
        case 5:
            for (a = 3; 0 < a; a--) If(z(m[a]), z(n[a] - 2 * d), z(4 * d) + 1, z(4 * d) + 1, k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 18:
            d = K(d, 1, 2);
            for (a = 3; 0 < a; a--) If(z(m[a]), z(n[a] + 2 * d), z(4 * d) + 1, z(4 * d) + 1, k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 15, 16, -16, g);
            break;
        case 6:
            for (a = 1; 6 > a; a++) L(m[a], n[a], m[a + 1], n[a + 1], k);
            L(m[a], n[a], m[1], n[1], k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 7:
            L(m[2], n[2], m[3], n[3], k);
            L(m[2], n[2], m[4], n[4], k);
            L(m[3], n[3], m[4], n[4], k);
            If(z(m[1]), z(n[1]), z(6 * d) + 1, z(6 * d) + 1, k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 8:
            If(z(m[2]) + z(1 * d), z(n[2] - 2 * d), z(8 * d) + 1, z(4 * d) + 1, k);
            If(z(m[1]), z(n[1] - 2 * d), z(4 * d) + 1, z(4 * d) + 1, k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 9:
        case 13:
            Hf(z(m[5]), z(n[5]), z(2 * d), z(2 * d), g);
            J(Va, z(m[4]), z(n[4]), z(8 * d), z(8 * d), 16 * e, 0, 16, 16, k);
            J(Va, z(m[3]), z(n[3]), z(10 * d), z(10 * d), 16 * e, 0, 16, 16, k);
            J(Va, z(m[2]), z(n[2]), z(12 * d), z(12 * d), 16 * e, 0, 16, 16, k);
            J(Va, z(m[1]), z(n[1]), z(14 * d), z(14 * d), 16 * e, 0, 16, 16, k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 10:
            L(z(m[0]), z(n[0]), z(m[1]), z(n[1]), k);
            L(z(m[0]), z(n[0]), z(m[3]), z(n[3]), k);
            L(z(m[1]), z(n[1]), z(m[2]), z(n[2]), k);
            L(z(m[3]), z(n[3]), z(m[4]), z(n[4]), k);
            L(z(m[0]), z(n[0]), z(m[5]), z(n[5]), k);
            L(z(m[0]), z(n[0]), z(m[7]), z(n[7]), k);
            L(z(m[5]), z(n[5]), z(m[6]), z(n[6]), k);
            L(z(m[7]), z(n[7]), z(m[8]), z(n[8]), k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 11:
            If(z(m[3]), z(n[3] - 7 * d), z(4 * d) + 1, z(14 * d) + 1, k);
            If(z(m[2]) + 0, z(n[2]), z(4 * d) + 1, z(9 * d) + 1, k);
            If(z(m[1]) + 1, z(n[1]), z(4 * d) + 1, z(8 * d) + 1, k);
            J(Va, z(m[0]) + 1, z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 14:
            L(z(m[1]), z(n[1]), z(m[2]), z(n[2]), k);
            L(z(m[1]), z(n[1]), z(m[3]), z(n[3]), k);
            L(z(m[2]), z(n[2]), z(m[3]), z(n[3]), k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 15:
            L(z(m[0]), z(n[0]), z(m[1]), z(n[1]), k);
            L(z(m[0]), z(n[0]), z(m[2]), z(n[2]), k);
            L(z(m[1]), z(n[1]), z(m[2]), z(n[2]), k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 16:
            for (a = 1; 4 > a; a++) L(z(m[0]), z(n[0]), z(m[a]), z(n[a]), k);
            for (a = 4; 10 > a; a++) L(z(m[a - 3]), z(n[a - 3]), z(m[a]), z(n[a]), k);
            for (a = 7; 10 > a; a++) Hf(z(m[a]), z(n[a]), z(2 * d), z(2 * d), g);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g);
            break;
        case 17:
            for (a = 3; 0 < a; a--) Hf(z(m[a]), z(n[a] - 2 * d), z(4 * d), z(4 * d), k);
            J(Va, z(m[0]), z(n[0]), z(16 * d), z(16 * d), 16 * e, 0, 16, 16, g)
    }
};
var ze = 30,
    Ae = [3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    Ce = 1,
    Be = 2,
    kg = 4,

    jg = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,17,18,19,20,21,22,23,25,26,27,28,29,30,31,32,34,35,36,38,39,40,41,42,43,44,46,   49,50,51],
    XX=[0,5,4],
    //Number of enemies per book panel

    gg = [1, 2, 3, 4, 5, 5, 6, 6, 7, 7, 9, 5, 6, 7, 1, 8, 8, 9, 9, 9, 1, 10, 11, 11, 12, 12, 13, 13, 14, 14, 12, 13, 14, 1, 15, 15, 15, 16, 16, 1, 17, 17, 18, 17, 18, 18, 18, 1, 19, 19, 19, 20, 20, 20, 21, 23, 20, 21, 21, 22, 22, 23, 22, 23, 24, 24, 24, 24, 24, 25, 1, 1, 24, 25, 26, 26, 26, 1, 27, 27, 28, 28, 1, 29, 30, 31, 32, 33, 1, 1],
    Uf = "Town;The Start;Grassland 1;Grassland 2;Grassland 3;Grassland 4;Grassland 5;Grassland 6;Grassland 7;Grassland 8;Grassland 9;Grassland 10;Grassland 11;Path 2 (1);Path 2 (2);'Harderpathfuku' (1);'Harderpathfuku' (2);'Harderpathfuku' (3);'Harderpathfuku' (4);'Harderpathfuku' (5);Castle Gate;Castle;Hill Country 1;Hill Country 2;Hill Country 3;Lake;Forest 1;Forest 2;Cavern 1;Cavern 2;Cavern 3;Village;Seaside 1;Seaside 2;Seaside 3;Seaside 4;Submarine 1;Submarine 2;Submarine 3;Submarine 4;Submarine Shrine;Mist Grove 1;Mist Grove 2;Mist Grove 3;???;Desert 1;Desert 2;Desert 3;Desert 4;Desert 5;Oasis;Desert 6;Desert 7;Pyramid;Desert 8;Beach 1;Beach 2;Beach 3;Resort;Cavern 4;Cavern 5;Cavern 6;Snowfield 1;Snowfield 2;Mountain 1;Mountain 2;Mountaintop;Snowfield 3;Snowfield 4;Snowfield 5;Snowfield 6;Snowfield 7;Snowfield 8;Frozen Lake;Ice Castle;Snowfield 9;Beach 4;Forest 3;Forest 4;Forest 5;Forest 6;Forget Tree;!!!;Hell 1;Hell 2;Hell 3;Hell 4;Hell 5;Island;Hell 6;Inferno 1;Inferno 2;Inferno 3;Blood Lake;Cavern 7;Cavern 8;Hell 7;Hell 8;Hell Gate;Hell Castle;Volcano".split(";"),
    De = [
        [6, 28, 0, 1, 0], //mind controlled by Ewan ;p
        [10, 26, 0, 2, 15],
        [8, 23, 0, 3, 0], //GL1
        [11, 20, 0, 4, 0], //GL2
        [9, 16, 0, 5, 13], //GL3
        [9, 10, 0, 6, 0], //GL4
        [12, 8, 0, 7, 0], //GL5
        [15, 6, 0, 8, 0], //GL6
        [19, 8, 0, 9, 0], //Gl7
        [21, 11, 0, 10, 0], //GL8
        [27, 10, 0, 11, 0], //GL9
        [28, 16, 0, 12, 0], //GL 10
        [32, 19, 0, 0, 0], //GL 11
        [16, 14, 0, 14, 0], //Path2 (1)
        [20, 16, 0, 11, 0], //Path 2(2)
        [12, 23, 0, 16, 0], //'Harderpathfuku' (1)
        [18, 24, 0, 17, 0], //'Harderpathfuku' (2)
        [20, 28, 0, 18, 0], //'Harderpathfuku' (3)
        [26, 29, 0, 19, 0], //'Harderpathfuku' (4)
        [31, 31, 0, 0, 0], //'Harderpathfuku' (5)
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0]
    ], //Enemy spawning (Some information from ZoshiX's SR Modding Guide)
    O = 1, //Spread
    P = 2, //Left
    Q = 3, //Middle
    R = 4, //Right
    S = 5, //Spread in air and water
    T = 6, //Underwater
    Mf = 7, //Point on left
    Nf = 8, //Point in middle
    Of = 9, //Point on right
    Lf = 10, //Spread in air only
    Pf = 11, //Spread across ceiling
    Qf = 12, //Left on ceiling
    Rf = 13, //Middle on ceiling
    Sf = 14, //Right on ceiling
    Me = [
        [		//Town
            [0, 0, O, 0, 0, O, 0, 0, O, 0, 0, O, 0, 0],
            [0, 100, O, 0]
        ],
        [		//The Start (Random)
          [0, 1, O, 0, 5, Q, 1, 1],
          [0, 2, O, 0, 6, Q, 1, 3],
          [0, 6, O, 0, 6, P, 1, 2, T, 2, 1],
          [4, 8, O, 1, 5, T, 2, 3],
          [4, 4, T, 2, 5, Q, 1, 2],
          [0, 6, O, 0, 20],
          [0, 2, O, 1, 8, Lf, 3, 1],
          [4, 10, O, 1, 8, P, 0, 3, Lf, 3, 2],
          [4, 2, O, 1, 8, Lf, 3, 1, Lf, 3, 2, Lf, 3, 3],
          [0, 100, P, 1, 2, Lf, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 1
            [0, 1, O, 5, 5],
            [0, 1, O, 5, 10],
            [0, 1, O, 5, 8, R, 6, 2],
            [0, 1, O, 5, 6, S, 7, 2],
            [0, 1, O, 5, 10, Q, 8, 2],
            [0, 1, O, 5, 8, O, 6, 4, Q, 8, 1],
            [0, 1, O, 5, 4, O, 8, 3, S, 7, 6],
            [0, 1, O, 5, 10, O, 6, 4, Q, 8, 4, S, 7, 8],
            [0, 100, P, 6, 2, S, 7, 2, R, 8, 4, S, 9, 1]
        ],
        [		//Grass Land 2
            [0, 1, O, 10, 9],
            [0, 1, O, 10, 8, Q, 13, 1],
            [0, 1, O, 10, 5, P,13, 2, Q, 11, 2],
            [0, 1, O, 12, 3, O, 10, 8],
            [0, 1, Q, 13, 4, O, 10, 5, Q, 12, 1],
            [0, 1, O, 10, 9, O, 11, 3, O, 12, 4, O, 13, 6],
            [0, 100, Q, 12, 3, Q, 13, 2, Q, 14, 1]
        ],
        [		//Grass Land 3 (made by marco)
            [0, 1, O, 17, 4, Lf, 18, 3],
            [0, 1, P, 17, 5, Lf, 18, 4],
            [0, 6, T, 19, 3, Lf, 18, 5],
            [4, 6, T, 19, 5, O, 17, 4, Lf, 18, 4],
            [4, 8, T, 19, 4, O, 18, 6],
            [0, 6, T, 19, 4, O, 17, 7],
            [0, 6, Q, 17, 20],
            [0, 101, P, 17, 1, O, 18, 1, R, 20, 1]
        ],
        [		//Grass Land 4
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 5
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 6
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 7
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 8
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 9
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 10
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 11
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Path (1)
            [0, 1, O, 5, 1],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Path (2)
            [0, 1, O, 5, 18],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//HarderPath1
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//HarderPath2
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//HarderPath3
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//HarderPath4
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//HarderPath5
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 19
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 20
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 21
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 22
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 23
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 24
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 25
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 26
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 27
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        [		//Grass Land 28
            [0, 1, O, 5, 9],
            [0, 100, P, 2, 2, Q, 3, 2, R, 4, 1]
        ],
        []
    ],
    oe = new ih;

function ih() {
    var a;
    this.F = new Int32Array(1E3);
    this.a = Array(1E3);
    this.k = Array(1E3);
    this.d = new Int32Array(1E3);
    this.Ya = new Int32Array(1E3);
    this.N = new Int32Array(1E3);
    this.G = new Int32Array(1E3);
    this.Wa = new Int32Array(1E3);
    this.Ua = new Int32Array(1E3);
    this.Va = new Int32Array(1E3);
    this.ja = new Int32Array(1E3);
    this.ka = new Int32Array(1E3);
    this.ha = new Int32Array(1E3);
    this.oa = new Int32Array(1E3);
    this.count = new Int32Array(1E3);
    this.ia = new Int32Array(1E3);
    this.e = new Int32Array(1E3);
    this.i = new Int32Array(1E3);
    this.ya = new Int32Array(1E3);
    this.Y = new Int32Array(1E3);
    this.ra = new Int32Array(1E3);
    this.la = new Int32Array(1E3);
    this.ga = new Int32Array(1E3);
    this.ea = new Int32Array(1E3);
    this.fa = new Int32Array(1E3);
    this.U = new Int32Array(1E3);
    this.V = new Int32Array(1E3);
    this.sub = new Int32Array(1E3);
    this.Ha = new Int32Array(1E3);
    this.Sa = new Int32Array(1E3);
    this.Ea = new Int32Array(1E3);
    this.za = new Int32Array(1E3);
    this.Pa = new Int32Array(1E3);
    this.Qa = new Int32Array(1E3);
    this.La = new Int32Array(1E3);
    this.Ma = new Int32Array(1E3);
    this.Ga = new Int32Array(1E3);
    this.Na = new Int32Array(1E3);
    this.Fa = new Int32Array(1E3);
    this.Ia = new Int32Array(1E3);
    this.Ja = new Int32Array(1E3);
    this.Ta = new Int32Array(1E3);
    this.Oa = new Int32Array(1E3);
    this.Ka = new Int32Array(1E3);
    this.Ra = new Int32Array(1E3);
    this.Aa = new Int32Array(1E3);
    this.Ba = new Int32Array(1E3);
    this.A = new Int32Array(1E3);
    this.Ca = new Int32Array(1E3);
    this.Da = new Int32Array(1E3);
    for (a = this.index = 0; 1E3 > a; a++) this.a[a] = new Qg;
    for (a = 0; 1E3 > a; a++) this.k[a] = new Qg
}
aa = ih.prototype;
aa.j = function() {
    this.index = 0
};
aa.add = function(a, b, c, d, e, g, k, r, m, n, F, H, M, E, ka, Ja, Ea, Ca, Z, X, $, ob, pb, Xa, ta, ya, rb, ia, ja, za, bb, ab, pa, Ya, Bb, Cb, Sa, Oa, Ob, Pb, Qb, Rb, Sb, Tb, qb, Ub, Vb, Wb, Xb, Yb, Zb) {
    1E3 != this.index && (this.F[this.index] = a, Rg(this.a[this.index], b, c), Rg(this.k[this.index], d, e), this.d[this.index] = 0, this.Ya[this.index] = g, this.N[this.index] = k, this.G[this.index] = r, this.Wa[this.index] = m, this.Ua[this.index] = n, this.Va[this.index] = F, this.ja[this.index] = H, this.ka[this.index] = M, this.ha[this.index] = z(A(E)), this.oa[this.index] = ka, this.count[this.index] =
        Ja, this.ia[this.index] = Ea, this.e[this.index] = Ca, this.i[this.index] = Z, this.ya[this.index] = X, this.Y[this.index] = $, this.ra[this.index] = ob, this.la[this.index] = pb, this.ga[this.index] = Xa, this.ea[this.index] = ta, this.fa[this.index] = ya, this.U[this.index] = rb, this.V[this.index] = ia, this.sub[this.index] = ja, this.Ha[this.index] = za, this.Sa[this.index] = bb, this.Ea[this.index] = ab, this.za[this.index] = pa, this.Pa[this.index] = Ya, this.Qa[this.index] = Bb, this.La[this.index] = Cb, this.Ma[this.index] = Sa, this.Ga[this.index] = Oa,
        this.Na[this.index] = Ob, this.Fa[this.index] = Pb, this.Ia[this.index] = Qb, this.Ja[this.index] = Rb, this.Ta[this.index] = Sb, this.Oa[this.index] = Tb, this.Ka[this.index] = qb, this.Ra[this.index] = Ub, this.Aa[this.index] = Vb, this.Ba[this.index] = Wb, this.A[this.index] = Xb, this.Ca[this.index] = Yb, this.Da[this.index] = Zb, this.index++)
};
aa.q = function(a) {
    this.F[a] = this.F[this.index - 1];
    this.a[a].set(this.a[this.index - 1]);
    this.k[a].set(this.k[this.index - 1]);
    this.d[a] = this.d[this.index - 1];
    this.Ya[a] = this.Ya[this.index - 1];
    this.N[a] = this.N[this.index - 1];
    this.G[a] = this.G[this.index - 1];
    this.Wa[a] = this.Wa[this.index - 1];
    this.Ua[a] = this.Ua[this.index - 1];
    this.Va[a] = this.Va[this.index - 1];
    this.ja[a] = this.ja[this.index - 1];
    this.ka[a] = this.ka[this.index - 1];
    this.ha[a] = this.ha[this.index - 1];
    this.oa[a] = this.oa[this.index - 1];
    this.count[a] = this.count[this.index - 1];
    this.ia[a] = this.ia[this.index - 1];
    this.e[a] = this.e[this.index - 1];
    this.i[a] = this.i[this.index - 1];
    this.ya[a] = this.ya[this.index - 1];
    this.Y[a] = this.Y[this.index - 1];
    this.ra[a] = this.ra[this.index - 1];
    this.la[a] = this.la[this.index - 1];
    this.ga[a] = this.ga[this.index - 1];
    this.ea[a] = this.ea[this.index - 1];
    this.fa[a] = this.fa[this.index - 1];
    this.U[a] = this.U[this.index - 1];
    this.V[a] = this.V[this.index - 1];
    this.sub[a] = this.sub[this.index - 1];
    this.Ha[a] = this.Ha[this.index - 1];
    this.Sa[a] = this.Sa[this.index - 1];
    this.Ea[a] = this.Ea[this.index - 1];
    this.za[a] = this.za[this.index - 1];
    this.Pa[a] = this.Pa[this.index - 1];
    this.Qa[a] = this.Qa[this.index - 1];
    this.La[a] = this.La[this.index - 1];
    this.Ma[a] = this.Ma[this.index - 1];
    this.Ga[a] = this.Ga[this.index - 1];
    this.Na[a] = this.Na[this.index - 1];
    this.Fa[a] = this.Fa[this.index - 1];
    this.Ia[a] = this.Ia[this.index - 1];
    this.Ja[a] = this.Ja[this.index - 1];
    this.Ta[a] = this.Ta[this.index - 1];
    this.Oa[a] = this.Oa[this.index - 1];
    this.Ka[a] = this.Ka[this.index - 1];
    this.Ra[a] = this.Ra[this.index - 1];
    this.Aa[a] = this.Aa[this.index - 1];
    this.Ba[a] = this.Ba[this.index - 1];
    this.A[a] = this.A[this.index - 1];
    this.Ca[a] = this.Ca[this.index - 1];
    this.Da[a] = this.Da[this.index - 1];
    this.index--
};
aa.h = function(a, b) {
    var c = 0;
    b.set(this.k[a]);
    var d = z(Sg(b) / 4) + 1;
    Tg(b, 1 / d);
    for (var e, g, k, r = 0; r < d; r++)
        if (e = this.a[a].y + b.y, g = z(K(this.a[a].x, 0, 511) / 8), k = z(K(e, 0, 255) / 8), g = I.e[k][g], 0 <= g && 8 >= g && 0 == this.ya[a] ? 0 == this.Y[a] ? c = 1 : 2 == this.Y[a] && (b.y *= -1, this.k[a].y *= -1) : this.a[a].y = e, e = this.a[a].x + b.x, g = z(K(e, 0, 511) / 8), k = z(K(this.a[a].y, 0, 255) / 8), g = I.e[k][g], 0 <= g && 8 >= g && 0 == this.ya[a]) {
            if (0 == this.Y[a] || 1 == this.Y[a]) c = 1;
            2 == this.Y[a] && (b.x *= -1, this.k[a].x *= -1)
        } else this.a[a].x = e;
    return c
};
aa.move = function() {
    var a, b, c = new Qg,
        d, e;
    for (a = 0; a < this.index; a++)
        if (-64 > this.a[a].x || 576 < this.a[a].x) this.q(a--);
        else if (0 < this.ha[a]) this.ha[a]--;
    else if (1 == this.d[a]) this.count[a]++, this.count[a] >= this.ia[a] && this.q(a--);
    else {
        0 < this.ra[a] && (d = this.ra[a], d = 1 != ga ? 0 == this.F[a] ? G.m(this.a[a].x - d, this.a[a].y - d, this.a[a].x + d, this.a[a].y + d) : v.m(this.a[a].x - d, this.a[a].y - d, this.a[a].x + d, this.a[a].y + d, 0) : v.m(this.a[a].x - d, this.a[a].y - d, this.a[a].x + d, this.a[a].y + d, 1 - this.F[a] << 2), -1 != d && (1 != ga ? 0 == this.F[a] ?
            c.q(G.a[d][0], this.a[a]) : c.q(v.a[d][0], this.a[a]) : c.q(v.a[d][0], this.a[a]), Xg(c), d = Sg(this.k[a]), this.k[a].x = 0.85 * this.k[a].x + 0.15 * c.x + N(-0.1, 0.1), this.k[a].y = 0.85 * this.k[a].y + 0.15 * c.y + N(-0.1, 0.1), Xg(this.k[a]), Tg(this.k[a], ig(d, 1))));
        this.k[a].y += 0.01 * this.e[a];
        Tg(this.k[a], 0.01 * this.i[a]);
        d = this.h(a, c);
        b = 1;
        1 == this.U[a] && 0 != this.V[a] && A(1E3) > this.V[a] && (b = 0);
        0 < this.oa[a] && (this.oa[a]--, b = 0);
        e = -1;
        1 == b && (e = 1 != ga ? 0 == this.F[a] ? G.K(this.ga[a], this.U[a], this.V[a], this.ea[a], this.fa[a], this.a[a].x, this.a[a].y,
            this.ja[a], this.ka[a]) : v.K(this.ga[a], this.U[a], this.V[a], this.ea[a], this.fa[a], this.a[a].x, this.a[a].y, this.ja[a], this.ka[a], 0) : v.K(this.ga[a], this.U[a], this.V[a], this.ea[a], this.fa[a], this.a[a].x, this.a[a].y, this.ja[a], this.ka[a], 1 - this.F[a] << 2)); - 1 != e && 0 != this.la[a] && (1 != ga ? 0 == this.F[a] ? c.q(G.a[e][0], this.a[a]) : c.q(v.a[e][0], this.a[a]) : c.q(v.a[e][0], this.a[a]), Xg(c), Tg(c, 0.1 * this.la[a]), 1 != ga && 0 == this.F[a] ? Tg(c, ah[B[G.id[e]][bh]] / B[G.id[e]][ch]) : Tg(c, 0.1), 1 != ga ? 0 == this.F[a] ? G.c[e][0].sub(c) : v.c[e][0].sub(c) :
            v.c[e][0].sub(c), this.la[a] = 0);
        1 == this.U[a] && 0 != this.V[a] && (e = -1);
        if (1 == d || -1 != e)
            if (this.d[a] = 1, this.count[a] = 0, 1 == this.sub[a] || 3 == this.sub[a] || 4 == this.sub[a] || 5 == this.sub[a] || 6 == this.sub[a] || 7 == this.sub[a] || 8 == this.sub[a] || 9 == this.sub[a]) {
                var g = z(A(512));
                for (b = 0; b < this.A[a]; b++) {
                    if (1 == this.sub[a]) Rg(c, 0, 0);
                    else if (3 == this.sub[a]) {
                        var g = z(A(512)),
                            k = N(0.05, 0.1);
                        c.x = this.A[a] * Xe[g][0] * k;
                        c.y = this.A[a] * Xe[g][1] * k
                    } else 4 == this.sub[a] ? (c.x = N(0.1 * -this.A[a], 0.1 * this.A[a]), c.y = N(0.2 * -this.A[a], 0.1 * -this.A[a])) :
                        5 == this.sub[a] ? (c.x = this.k[a].x, c.y = this.k[a].y) : 6 == this.sub[a] ? (c.x = N(0.01 * -this.A[a], 0.01 * this.A[a]), c.y = N(0.2 * -this.A[a], 0.05 * -this.A[a])) : 7 == this.sub[a] ? (k = z(g + 512 * b / this.A[a]) & 511, c.x = this.A[a] * Xe[k][0], c.y = this.A[a] * Xe[k][1]) : 8 == this.sub[a] ? (g = z(A(512)), k = N(0, 0.1), c.x = this.A[a] * Xe[g][0] * k, c.y = this.A[a] * Xe[g][1] * k) : 9 == this.sub[a] && (c.x = this.k[a].x, c.y = this.k[a].y, Xg(c));
                    oe.add(this.F[a], this.a[a].x, this.a[a].y, c.x, c.y, this.Ha[a], this.Sa[a], this.Ea[a], this.za[a], this.Pa[a], this.Qa[a], this.La[a],
                        this.Ma[a], this.Ga[a], this.Na[a], this.Fa[a], this.Ia[a], this.Ja[a], this.Ta[a], this.Oa[a], this.Ka[a], 0, 0, this.Ra[a], this.Aa[a], this.Ba[a], this.Ca[a], this.Da[a], 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
                }
            }
        0 < this.count[a] && this.count[a]--;
        0 == this.count[a] && (this.d[a] = 1);
        2 == this.sub[a] && (A(100) < this.A[a] || 1 == d || -1 != e) && (c.x = N(-1, 1), c.y = N(-1, 1), oe.add(this.F[a], this.a[a].x, this.a[a].y, c.x, c.y, this.Ha[a], this.Sa[a], this.Ea[a], this.za[a], this.Pa[a], this.Qa[a], this.La[a], this.Ma[a], this.Ga[a], this.Na[a],
            this.Fa[a], this.Ia[a], this.Ja[a], this.Ta[a], this.Oa[a], this.Ka[a], 0, 0, this.Ra[a], this.Aa[a], this.Ba[a], this.Ca[a], this.Da[a], 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0))
    }
};
aa.b = function() {
    var a, b, c, d = new Qg,
        e = new Qg,
        g = new Qg,
        k = new Qg;
    for (a = 0; a < this.index; a++)
        if (!(0 < this.ha[a])) {
            b = 16 * this.N[a];
            c = 1 == this.d[a] ? z((this.G[a] >> 24 & 255) * (this.ia[a] - this.count[a]) / this.ia[a]) << 24 | this.G[a] & 16777215 : this.G[a];
            0 < this.oa[a] && (c = z((c >> 24 & 255) / 2) << 24 | c & 16777215);
            Xf = this.Wa[a];
            dg = 1;
            if (0 == this.Ya[a]) J(Za, z(this.a[a].x), z(this.a[a].y), this.Ua[a], this.Va[a], b, 0, 16, 16, c);
            else {
                e.set(this.k[a]);
                d.set(e);
                dh(d);
                Xg(d);
                Xg(e);
                Tg(d, this.Ua[a] >> 1);
                Tg(e, this.Va[a] >> 1);
                g.q(e, d);
                eh(k, e, d);
                var r =
                    this.a[a].x + g.x,
                    m = this.a[a].y + g.y,
                    n = b,
                    F = this.a[a].x + k.x,
                    H = this.a[a].y + k.y,
                    M = b + 16,
                    E = this.a[a].x - g.x,
                    ka = this.a[a].y - g.y,
                    Ja = b + 16,
                    Ea = this.a[a].x - k.x,
                    Ca = this.a[a].y - k.y,
                    Z = 0,
                    X = 0,
                    $ = 16,
                    ob = 16,
                    pb = Za,
                    r = r << 16,
                    m = m << 16,
                    F = F << 16,
                    H = H << 16,
                    E = E << 16,
                    ka = ka << 16,
                    Ea = Ea << 16,
                    Ca = Ca << 16,
                    n = 65535 * n,
                    Z = 65535 * Z,
                    M = 65535 * M,
                    X = 65535 * X,
                    Ja = 65535 * Ja,
                    $ = 65535 * $;
                b *= 65535;
                var ob = 65535 * ob,
                    Xa = void 0,
                    ta = void 0,
                    ya = void 0,
                    rb = Xa = void 0,
                    ia = void 0,
                    ja = void 0,
                    za = void 0,
                    bb = void 0,
                    ab = void 0,
                    pa = void 0,
                    Ya = void 0,
                    Bb = void 0,
                    Cb = void 0,
                    Sa = void 0,
                    Sa = void 0,
                    ya = fa << 16,
                    Oa = 0;
                ya > m && (ya = m);
                ya > H && (ya = H);
                ya > ka && (ya = ka);
                ya > Ca && (ya = Ca);
                Oa < m && (Oa = m);
                Oa < H && (Oa = H);
                Oa < ka && (Oa = ka);
                Oa < Ca && (Oa = Ca);
                ya >>= 16;
                Oa >>= 16;
                0 > ya && (ya = 0);
                Oa >= fa && (Oa = fa - 1);
                for (ta = ya; ta <= Oa; ta++) jh[ta] = ea, kh[ta] = -1;
                lh(r, m, n, Z, F, H, M, X);
                lh(F, H, M, X, E, ka, Ja, $);
                lh(E, ka, Ja, $, Ea, Ca, b, ob);
                lh(Ea, Ca, b, ob, r, m, n, Z);
                Ya = c >> 24 & 255;
                bb = c >> 16 & 255;
                ab = c >> 8 & 255;
                pa = c & 255;
                for (ta = ya; ta <= Oa; ta++)
                    for (ya = ta * ea + jh[ta], Xa = kh[ta] - jh[ta] + 1, ja = (mh[ta] - nh[ta]) / Xa, za = (oh[ta] - ph[ta]) / Xa, rb = nh[ta], ia = ph[ta], Xa = jh[ta]; Xa <= kh[ta]; Xa++,
                        ya++, rb += ja, ia += za) 0 > Xa || ea <= Xa || (Sa = pb.f[(ia >> 16) * pb.i + (rb >> 16)], 0 == dg ? -1 != Sa && (Bb = bb * ((Sa & 16711680) >> 16) >> 8, Cb = ab * ((Sa & 65280) >> 8) >> 8, Sa = pa * (Sa & 255) >> 8, C[ya] = 0 == Xf ? Bb << 16 | Cb << 8 | Sa : qh(C[ya], Bb << 16 | Cb << 8 | Sa, Ya)) : (Sa = Ya * (Sa & 255) >> 8, 0 != Sa && (C[ya] = qh(C[ya], c, Sa))))
            }
            dg = Xf = 0
        }
};
var ne = new rh;

function rh() {
    var a;
    this.a = Array(1E3);
    this.k = Array(1E3);
    this.value = new Array(1E3);
    this.G = new Int32Array(1E3);
    this.count = new Int32Array(1E3);
    for (a = this.index = 0; 1E3 > a; a++) this.a[a] = new Qg;
    for (a = 0; 1E3 > a; a++) this.k[a] = new Qg
}
aa = rh.prototype;
aa.j = function() {
    this.index = 0
};
aa.add = function(a, b, c, d, e) {
    1E3 != this.index && (a = K(a, 16, 495), b = K(b, 8, 247), Rg(this.a[this.index], a, b), Rg(this.k[this.index], c, -2), 0 != c && (this.k[this.index].x += N(-0.2, 0.2), this.k[this.index].y += N(-0.2, 0.2)), this.value[this.index] = d, this.G[this.index] = e, this.count[this.index] = 0, this.index++)
};
aa.sub = function(a) {
    this.a[a].set(this.a[this.index - 1]);
    this.k[a].set(this.k[this.index - 1]);
    this.value[a] = this.value[this.index - 1];
    this.G[a] = this.G[this.index - 1];
    this.count[a] = this.count[this.index - 1];
    this.index--
};
aa.move = function() {
    var a;
    for (a = 0; a < this.index; a++) {
        if (0 == this.k[a].x) {
            var b = this.a[a],
                c = this.k[a];
            c.y += 0;
            Tg(c, 0.96)
        } else b = this.a[a], c = this.k[a], c.y += 0.05, Tg(c, 0.99);
        b.add(c);
        this.a[a].x = K(this.a[a].x, 16, 495);
        this.a[a].y = K(this.a[a].y, 8, 247);
        this.count[a]++;
        100 <= this.count[a] && this.sub(a--)
    }
};
aa.b = function() {
    var a, b, c, d, e;
    for (a = 0; a < this.index; a++) b = this.G[a] >> 16 & 255, c = this.G[a] >> 8 & 255, d = this.G[a] & 255, e = z(255 * (50 > 100 - this.count[a] ? 100 - this.count[a] : 50) / 50), Gf(hf, z(this.a[a].x), z(this.a[a].y), "" + this.value[a], b, c, d, e, 0, 0, 0, e, 5, 7)
};
var pe = new sh;

function sh() {
    var a;
    this.a = Array(100);
    this.k = Array(100);
    this.item = new Int32Array(100);
    this.value = new Int32Array(100);
    this.da = new Int32Array(100);
    this.count = new Int32Array(100);
    for (a = this.J = this.index = 0; 100 > a; a++) this.a[a] = new Qg;
    for (a = 0; 100 > a; a++) this.k[a] = new Qg
}
aa = sh.prototype;
aa.j = function() {
    this.J = this.index = 0
};
aa.add = function(a, b, c, d, e) {
    if (100 != this.index)
        for (a = K(a, 16, 495), b = K(b, 8, 247), Rg(this.a[this.index], a, b), this.k[this.index].x = cg < a ? N(-0.5, -1) : N(0.5, 1), this.k[this.index].y = N(-1, -2), this.item[this.index] = c, this.value[this.index] = d, this.da[this.index] = e, this.count[this.index] = 0, this.index++, c = this.J = 0; c < this.index; c++) this.J += 7 * this.item[c] + 3 * this.value[c] + 11 * this.da[c]
};
aa.sub = function(a) {
    this.a[a].set(this.a[this.index - 1]);
    this.k[a].set(this.k[this.index - 1]);
    this.item[a] = this.item[this.index - 1];
    this.value[a] = this.value[this.index - 1];
    this.da[a] = this.da[this.index - 1];
    this.count[a] = this.count[this.index - 1];
    this.index--;
    for (a = this.J = 0; a < this.index; a++) this.J += 7 * this.item[a] + 3 * this.value[a] + 11 * this.da[a]
};
aa.move = function() {
    var a, b;
    for (a = b = 0; a < this.index; a++) b += 7 * this.item[a] + 3 * this.value[a] + 11 * this.da[a];
    this.J != b && (C = null);
    for (a = 0; a < this.index; a++) {
        this.k[a].y += 0.04;
        Tg(this.k[a], 0.98);
        var c, d;
        b = K(this.a[a].y + this.k[a].y, 8, 247);
        c = z(this.a[a].x / 8);
        d = z(b / 8);
        c = I.e[d][c];
        0 <= c && 8 >= c || (this.a[a].y = b);
        b = K(this.a[a].x + this.k[a].x, 16, 495);
        c = z(b / 8);
        d = z(this.a[a].y / 8);
        c = I.e[d][c];
        0 <= c && 8 >= c || (this.a[a].x = b);
        if (100 > this.count[a]) this.count[a]++;
        else if (b = v.m(this.a[a].x - 12, this.a[a].y - 6 - 12, this.a[a].x + 12, this.a[a].y - 6 + 12, 0), -1 != b) {
            Ne();
            if (1 == this.item[a]) dc = K(dc + this.value[a], 0, 9999999), ne.add(this.a[a].x, this.a[a].y, 0, this.value[a], 16776960);
            else if (2 == this.item[a]) {
                for (c = 0; 4 > c; c++) 0 != v.search[c] && z(100 * p[b] / kc[b]) > z(100 * p[c] / kc[c]) && (b = c);
                if (p[b] == kc[b]) continue;
                Ne();
                p[b] = K(p[b] + z(kc[b] / 5), 0, kc[b]);
                te();
                ne.add(this.a[a].x, this.a[a].y, 0, z(kc[b] / 5), 65280)
            } else {
                for (b = Fc; b < Gc; b++)
                    if (0 == q[b]) {
                        q[b] = this.item[a];
                        Dc[b] = this.value[a];
                        Ec[b] = this.da[a];
                        break
                    }
                if (b == Gc) {
                    this.k[a].x = N(-1, 1);
                    this.k[a].y = N(-1, -2);
                    this.count[a] =
                        0;
                    continue
                }
            }
            te();
            this.sub(a--)
        }
    }
};
aa.b = function() {
    var a;
    dg = 2;
    for (a = 0; a < this.index; a++) 100 != this.count[a] && 0 == (this.count[a] & 6) || eg(Ra, z(this.a[a].x) - 6, z(this.a[a].y) - 12, 12, 12, 12 * w(this.item[a], Pc), 0, 12, 12, w(this.item[a], Sc));
    dg = 0
};
var I = new th;

function th() {
    this.i = 64;
    this.s = 48;
    this.e = Array(this.s);
    this.o = new Int32Array(this.i);
    this.I = new Int32Array(this.i);
    this.$ = new Int32Array(this.i);
    this.hb = new Int32Array(this.i);
    this.gb = new Int32Array(48 * this.s);
    this.w = this.ab = 0;
    this.cb = -1;
    this.hurtPlayer = false;                //determines if stickmen can be damaged by a tile (like lava or spikes)
    for (var a = 0; a < this.s; a++) this.e[a] = new Int32Array(this.i)
}
th.prototype.j = function(a) {
    var b, c;
    this.w = a;
    this.cb != Me[this.w][nb][1] && (this.cb = Me[this.w][nb][1], Na = new wa, Na.j("st" + this.cb + ".gif")); //Ya like custom stage terrain? Here you can add new stage terrain s o m e h o w
    mf(Na);
    if (0 != nf) return !1;
    this.s = Na.s;
    for (c = 0; c < this.s; c++)
        for (b = 0; b < this.i; b++) this.e[c][b] = -1;
    var d = z(A(Na.i - 64));
    for (c = 0; c < this.s; c++)
        for (b = 0; b < this.i; b++) {
            a = c * Na.i + K(b, 3, 60) + d;
            var e = Na.f[3 >= b || this.i - 3 <= b ? a : a - 1],
                g = Na.f[2 >= b || this.i - 4 <= b ? a : a + 1],
                k = Na.f[0 == c ? a : a - Na.i],
                r = Na.f[c == this.s - 1 ? a : a + Na.i];
            0 == Na.f[a] ? 0 != e && 0 == g && 0 != k && 0 == r ? this.e[c][b] = 0 : 0 == e && 0 == g && 0 != k &&
                0 == r ? this.e[c][b] = 1 : 0 == e && 0 != g && 0 != k && 0 == r ? this.e[c][b] = 2 : 0 != e && 0 == g && 0 == k && 0 == r ? this.e[c][b] = 3 : 0 == e && 0 == g && 0 == k && 0 == r ? this.e[c][b] = 4 : 0 == e && 0 != g && 0 == k && 0 == r ? this.e[c][b] = 5 : 0 != e && 0 == g && 0 == k && 0 != r ? this.e[c][b] = 6 : 0 == e && 0 == g && 0 == k && 0 != r ? this.e[c][b] = 7 : 0 == e && 0 != g && 0 == k && 0 != r && (this.e[c][b] = 8) : 255 == Na.f[a] && (this.e[c][b] = 9)
        }
    for (b = 0; b < this.i; b++)
        for (c = this.s - 1; 0 <= c; c--)
            if (0 > this.e[c][b] || 8 < this.e[c][b]) {
                this.o[b] = c;
                break
            }
    for (b = 0; b < this.i; b++)
        for (c = 1; c < this.s; c++)
            if ((0 > this.e[c - 1][b] || 8 < this.e[c - 1][b]) &&
                0 <= this.e[c][b] && 8 >= this.e[c][b]) {
                this.I[b] = c - 1;
                break
            }
    for (b = 0; b < this.i; b++)
        for (c = 0; c < this.s; c++)
            if (0 > this.e[c][b] || 8 < this.e[c][b]) {
                this.$[b] = c;
                break
            }
    for (b = 0; b < this.i; b++)
        for (this.hb[b] = this.$[b], c = 1; c < this.s; c++)
            if ((0 > this.e[c - 1][b] || 8 < this.e[c - 1][b]) && 0 <= this.e[c][b] && 9 >= this.e[c][b]) {
                this.hb[b] = c - 1;
                break
            }
    this.ab = 0;
    for (b = 12; 60 > b; b++)
        for (c = 1; c < this.s - 1; c++) 9 == this.e[c - 1][b] && 9 == this.e[c][b] && (this.gb[this.ab++] = c * this.i + b);
    if (0 == nb) {
        for (a = 0; a < ea * fa; a++) Ma.f[a] = 0;
        b = C;
        switch (this.w) { //Cave lighting, I think
            case 15:
            case 16:
            case 30:
            case 31:
            case 32:
            case 33:
            case 66:
            case 67:
            case 68:
            case 69:
                Xf = 1;
                dg = 3;
                C = Ma.f;
                for (a = 0; a < ea * fa; a++) C[a] = 0;
                for (a = 0; 100 > a; a++) c = N(1.7, 3.69), c *= c * c * c, J(Za, z(N(0, 512)), z(256 - c), 256, 32, 96, 0, 16, 16, 419430399);
                C = b;
                Xf = dg = 0;
        }
    }
    return !0
};
th.prototype.b = function() { //Code stuff that deals with cave lighting
    var a, b, c = new Int32Array([0, 8, 16, 0, 8, 16, 0, 8, 16]),
        d = new Int32Array([0, 0, 0, 8, 8, 8, 16, 16, 16]),
        e = Pa[Me[this.w][nb][0]];
    for (b = 0; b < this.s; b++)
        for (a = 0; a < this.i; a++) {
            var g = this.e[b][a];
            - 1 != g && (
                9 == g ? 82 == this.w ? -1 == this.e[b - 1][a] ?
                    ag(gb, 8 * a, 8 * b, 8, 8, 0, 0, 8, 8) : Og(8 * a - 4, 8 * b, 16, 8, 5570560) :
                -1 == this.e[b - 1][a] ? ag(fb, 8 * a, 8 * b, 8, 8, 0, 0, 8, 8) :
                    Og(8 * a - 4, 8 * b, 16, 8, 21916) : ag(e, 8 * a, 8 * b, 8, 8, c[g], d[g], 8, 8)
            )
        }
};
var qe = new uh;

function uh() {
    this.i = 78;    //map width in pixels
    this.s = 78;    //map height in pixels
    this.t = 0;
    this.vert = 0;
    this.e = Array(this.s);
    this.W = Array(this.s);
    for (var a = 0; a < this.s; a++) this.e[a] = new Int32Array(this.i), this.W[a] = new Int32Array(this.i)
}
uh.prototype.j = function() {
    var a, b, c;
    for (c = 0; c < this.s; c++)
        for (b = 0; b < this.i; b++) this.e[c][b] = -1;
    for (c = 0; c < this.s; c++)
        for (b = 0; b < this.i; b++) {
            a = c * ib.i + b;
            var d = 0 == b ? 0 : -1,
                e = b == this.i - 1 ? 0 : 1,
                g = 0 == c ? 0 : -this.i,
                k = c == this.s - 1 ? 0 : this.i,
                r = ib.f[a + d + g],
                m = ib.f[a + g],
                g = ib.f[a + e + g],
                n = ib.f[a + d],
                F = ib.f[a + e],
                d = ib.f[a + d + k],
                H = ib.f[a + k],
                e = ib.f[a + e + k];
            65535 == kb.f[a] ? this.e[c][b] = 15 : 6684672 == kb.f[a] ? this.e[c][b] = 17 : 0 != ib.f[a] && (13209 == ib.f[a] ? this.e[c][b] = 13 : 16764006 == kb.f[a] ? this.e[c][b] = 14 : 6710886 == kb.f[a] ? this.e[c][b] = 16 :
                (a = ib.f[a], m >= a && n >= a && F >= a && H >= a && e < a ? this.e[c][b] = 3 : m >= a && n >= a && F >= a && H >= a && d < a ? this.e[c][b] = 4 : m >= a && n >= a && F >= a && H >= a && g < a ? this.e[c][b] = 8 : m >= a && n >= a && F >= a && H >= a && r < a ? this.e[c][b] = 9 : n < a && F >= a && m < a && H >= a ? this.e[c][b] = 0 : n >= a && F >= a && m < a && H >= a ? this.e[c][b] = 1 : n >= a && F < a && m < a && H >= a ? this.e[c][b] = 2 : n < a && F >= a && m >= a && H >= a ? this.e[c][b] = 5 : n >= a && F < a && m >= a && H >= a ? this.e[c][b] = 7 : n < a && F >= a && m >= a && H < a ? this.e[c][b] = 10 : n >= a && F >= a && m >= a && H < a ? this.e[c][b] = 11 : n >= a && F < a && m >= a && H < a && (this.e[c][b] = 12)))
        }
    for (c = 0; c < this.s; c++)
        for (b =
            0; b < this.i; b++) a = c * kb.i + b, this.W[c][b] = -1, 26112 == kb.f[a] ? this.W[c][b] = 0 : 10066329 == kb.f[a] ? this.W[c][b] = 1 : 8404992 == kb.f[a] ? this.W[c][b] = 2 : 13434879 == kb.f[a] ? this.W[c][b] = 5 : 12288 == kb.f[a] && (this.W[c][b] = 6)
};
uh.prototype.b = function() {
    var a, b, c, d, e = new Qg,
        g = new Qg;
    20 > cg && 256 > fg ? this.t = K(this.t + 4, -720, 0) : 492 < cg && 256 > fg && (this.t = K(this.t - 4, -720, 0));
    512 > cg && 16 > fg && 0 < fg ? this.vert = K(this.vert + 4, -700, 0) : 0 < cg && 264 > fg && 350 > fg && 230 < fg && (this.vert=K(this.vert -4, -700, 0));
    for (d = 0; d < this.s; d++)
        for (b = 0; b < this.i; b++) - 1 != this.e[d][b] && ag(jb, this.t + 16 * b,this.vert + 16 * d, 16, 16, this.e[d][b] % 5 * 16, 16 * z(this.e[d][b] / 5), 16, 16);
    for (a = 0; a < ze; a++)
        if (0 != (Ae[a] & Be))
            for (b = 3; 4 >= b; b++)
                if (!(0 >= De[a][b]) && 32 != a && 70 != a && 88 != a)
                for (e.x = 8 * De[a][0], e.y = 8 * De[a][1], g.x = 8 * (De[De[a][b]][0] - De[a][0]), g.y = 8 * (De[De[a][b]][1] - De[a][1]), d = Xg(g) / 8 - 1, Tg(g, 8), e.add(g), c = 0; c < d; c++) Hf(this.t + e.x, this.vert + e.y, 2, 2, 13421772), e.add(g);
    for (d = 0; d < this.s; d++)
        for (b = 0; b < this.i; b++) - 1 != this.W[d][b] && ag(lb, this.t + 16 * b + 8, this.vert + 16 * d + 8, 16, 16, 16 * this.W[d][b], 0, 16, 16);
    eg(lb, this.t + 384 - 8, this.vert +124, 16, 16, 16, 0, 16, 16, 8421631); //Draw images directly to the world map
    eg(lb, this.t + 504 - 8, this.vert +116, 16, 16, 48, 0, 16, 16, 16777215);
    eg(lb, this.t + 552 - 8, this.vert +116, 16, 16, 64, 0, 16, 16, 16777215);
    eg(lb, this.t + 592 - 8, this.vert +100, 16, 16, 32, 0, 16, 16, 16777215);
    eg(lb, this.t + 672 - 8, this.vert +68, 16, 16, 32, 0, 16, 16, 16777215);
    eg(lb, this.t + 808 - 8, this.vert +132, 16, 16, 16, 0, 16, 16, 13434879);
    eg(lb, this.t + 904 - 8, this.vert +164, 16, 16, 112, 0, 16, 16, 13434879);
    eg(lb, this.t + 1040 - 8, this.vert +172, 16, 16, 128, 0, 16, 16, 13434879);
    eg(lb, this.t + 1088 - 8, this.vert +100, 16, 16, 32, 0, 16, 16, 16777215);
    eg(lb, this.t + 1160 - 8, this.vert +84, 16, 16, 32, 0, 16, 16, 16777215);
    eg(lb, this.t + 1112 - 8, this.vert +44, 32, 16, 144, 0, 32, 16, 16777215);
    //manually placed map tiles (fuck me)
    /*
    eg(lb, this.t + 118 - 8, 112, 16, 16, 272, 0, 16, 16, 16777215);
    eg(lb, this.t + 169 - 8, 112, 16, 16, 256, 0, 16, 16, 16777215);
    eg(lb, this.t + 93 - 8, 128, 16, 16, 191, 0, 16, 16, 16777215);
    eg(lb, this.t + 195 - 8, 128, 16, 16, 191, 0, 16, 16, 16777215);
    eg(lb, this.t + 262 - 8, 48, 7, 16, 191, 0, 16, 16, 16777215);
    eg(lb, this.t + 278 - 8, 32, 11, 16, 191, 0, 16, 16, 16777215);
    eg(lb, this.t + 414 - 8, 32, 11, 16, 191, 0, 16, 16, 16777215);
    eg(lb, this.t + 424 - 8, 72, 16, 16, 288, 0, 16, 16, 16777215);
    eg(lb, this.t + 311 - 8, 142, 16, 16, 320, 0, 16, 16, 16777215);
    eg(lb, this.t + 320 - 8, 176, 8, 16, 191, 0, 16, 16, 16777215);*/                        //VV Forces levels 33 and 71 to be invisible
    for (a = 0; a < ze; a++) 0 != Ae[a] && (b = 8 * De[a][0], d = 8 * De[a][1], c = 0 == a || 20 == a || 47 == a || 77 == a ? 16777215 : 33 == a ? 0 : 71 == a ? 0 : 0 != (Ae[a] & Be) ? 10027008 : 13421568, 0 == De[a][2] && Hf(this.t + b, this.vert + d, 6, 6, c), c = 71 == a ? 3 : 24, Df(this.t + b,this.vert + d, c, c) && If(this.t + b, this.vert + d, c, c, 13369344));
    b = 8 * De[h][0];
    d = 8 * De[h][1];
    ag(Qa, this.t + b + 1 - 12, this.vert + d - 14 - 11, 24, 22, 0, 0, 24, 22);
    for (a = 0; a < ze; a++)
        0 != Ae[a] && (b = 8 * De[a][0], d = 8 * De[a][1], c = 71 == a ? 3 : 24 /*make level 71's hit box 3x3*/, Df(this.t + b, this.vert + d, c, c)) && (!Ef || 0 != a && 20 != a && 47 != a && 70 != a && 77 != a ? Ef && 0 != a && (h = a, nb = 0, f = 10) : (h = a, nb = 1, f = 50), b = K(cg, 1 + 4 * Uf[a].length, 510 - 4 * Uf[a].length), d = K(fg - 24, 8, 256), yf(D, b, d, Uf[a], 16777215, 5263440));
    a = D;
    a.Q = 4;
    yf(a, 256, 16, "World Map", -1, 13158600); //text at top of world map
    a.Q = 0;
    0 > this.t && yf(D, 12, 16, "<<", 13158600, 5263440);
    - 720 < this.t && yf(D, 500, 16, ">>", 13158600, 5263440)
    0 > this.vert && yf(D, 256, 16, "^^                  ^^", 13158600, 5263440); - 700 < this.vert && yf(D, 256, 250, "V       V       V", 13158600, 5263440)
};
var vh = document,
    We = vh.getElementById("cv"),
    wh = We.getContext("2d"),
    xh = wh.createImageData(ea, fa),
    gf = new Uint8Array(xh.data.buffer),
    yh = da.console,
    zg = String.fromCharCode,
    of = setTimeout,
    zh = zg(100, 97, 110, 45, 98, 97, 108, 108, 46, 106, 112);
da.fff = Ah;

function Ah(a, b, c) {
    try {
        We = vh.getElementById("cv"), wh = We.getContext("2d"), wh.putImageData(a, b, c)
    } catch (d) {}
}
da.fff = Ue;

function Ue(a) {
    try {
        yh.log(a)
    } catch (b) {}
}
da.Init = Te;
//Character Code Crap (thnx ha55ii)
var Hg = zg(40, 67, 41, 32, 50, 48, 48, 56, 32, 104, 97, 53, 53, 105, 105, 32, 68, 65, 78, 45, 66, 65, 76, 76, 46, 106, 112),
    //Copyright
    Ve = zg(67, 111, 112, 121, 114, 105, 103, 104, 116, 32, 40, 67, 41, 32, 50, 48, 48, 56, 32, 104, 97, 53, 53, 105, 105, 32, 68, 65, 78, 45, 66, 65, 76, 76, 46, 106, 112),
    //data folder
    Bh = zg(46, 47, 100, 97, 116, 97, 47),
    Af = zg(102, 112, 115),
    Ch = zg(99, 97, 110, 118, 97, 115),
    Dh = zg(50, 100),
    Eh = 0,
    Fh = zg(100, 97, 110, 45, 98, 97, 108, 108, 46, 106, 112),
    C = new Int32Array(ea * fa),
    jh = new Int32Array(fa),
    kh = new Int32Array(fa),
    nh = new Float32Array(fa),
    mh = new Float32Array(fa),
    ph = new Float32Array(fa),
    oh = new Float32Array(fa);

function rf() {
    if (Gh) {
        Gh(rf);
        Hh++;
        Ih = Date.now();
        var a = z(60 * (Ih - Jh) / 1E3 + 0.5);
        if (0 > a || 60 <= a) Hh = 0, zf = Kh, Kh = 0, Bf = z((2 * Bf + Lh) / 3), Lh = 0, Jh = Ih, a = 0;
        else if (a == Mh) return;
        Kh++;
        Mh = a
    }
    Ef = !1 == Ug && !0 == Nh;
    xg = !0 == Ug && !1 == Nh;
    Oh = !0 == Ph && !1 == Qh;
    Ug = Nh;
    Ph = Qh;
    Lg = !(xg | Ug | Oh | Ph);
    $f = xg ? 1 : Oh ? -1 : 0;
    cg = Rh;
    fg = Sh;
    for (a = 0; 256 > a; a++) Ze[a] = $e[a], $e[a] = !1;
    ef = ef + z(1024 * Math.random()) & 1023;
    ff = z(512 * Math.random()) | 1;
    sf();
    var b, c = 11 == Eh ? ea * fa : 0;
    for (b = a = 0; a < c; a++) gf[b++] = C[a] >> 16 & 255, gf[b++] = C[a] >> 8 & 255, gf[b++] = C[a] & 255, b++;
    Ah(xh, 0, 0);
    Gh ?
        Lh += Date.now() - Ih : of (rf, pf())
}
var tf = 1;

function jf() {
    if (zh.length != Fh.length) return !0;
    for (tf = 0; Eh < zh.length; Eh++)
        if (zh[Eh] != Fh[Eh]) return !0;
    return !1
}
var Gh = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame,
    Hh = 0,
    Mh = 0,
    Kh = 0,
    zf = 0,
    Lh = 0,
    Bf = 0,
    Th = 20,
    Ih = Date.now(),
    Jh = Ih,
    Uh = Ih + Th,
    Vh = Ih,
    Ig = 0;

function pf() {
    Ih = Date.now();
    var a = K(Uh - Ih, 5, Th);
    Kh++;
    Ig++;
    Lh += a;
    Uh += Th;
    if (Ih + a >= Vh || Ih < Jh) Bf = Bf + Lh >> 1, Lh = 0, zf = Kh, Kh = 0, Uh = Ih + Th, Vh = Ih + 1E3;
    Jh = Ih;
    return a
}
var nf = 0;

function wa() {
    this.Z = 0;
    this.file = "";
    this.ib = this.ca = this.Xa = this.u = this.d = this.f = this.shift = this.s = this.i = 0
}

function qf(a, b, c) {
    a.i = b;
    a.s = c;
    for (b = a.shift = 0; 16 > b; b++) 1 << b == a.i && (a.shift = b);
    a.f = new Int32Array(a.i * a.s)
}
wa.prototype.j = function(a) {
    this.file != a && (nf++, this.file = a, this.Z = new Image, this.Z.src = Bh + a + "?18.9", delete this.f, this.d = this.f = 0)
};

function mf(a) {
    if (0 == a.d && a.Z.complete) {
        nf--;
        var b = a.Z.width,
            c = a.Z.height;
        if (0 == b || 0 == c) throw delete a.Z, a.file = "", Wh;
        var d = vh.createElement(Ch);
        d.width = b;
        d.height = c;
        d = d.getContext(Dh);
        d.drawImage(a.Z, 0, 0);
        d = d.getImageData(0, 0, b, c).data;
        qf(a, b, c);
        b = 0;
        for (c = d.length; b < c; b += 4) a.f[b >> 2] = 0 == d[b + 3] ? -1 : d[b + 0] << 16 | d[b + 1] << 8 | d[b + 2];
        delete a.Z;
        a.d = 1
    }
}

function vg(a, b) {
    0 == a.d && (a.d = 1, qf(a, ea, 16), a.Xa = vh.createElement(Ch), a.Xa.width = a.i, a.Xa.height = a.s, a.ca = a.Xa.getContext(Dh));
    var c = b + "sans-serif014";
    if (a.ib != c) {
        a.ib = c;
        a.ca.fillStyle = "#000000";
        a.ca.fillRect(0, 0, a.i, a.s);
        c = "14px sans-serif";
        a.ca.font = c;
        a.ca.fillStyle = "#ffffff";
        a.ca.fillText(b, 0, 14);
        for (var d = a.ca.getImageData(0, 0, a.i, a.s).data, c = 0, e = d.length; c < e; c += 4) a.f[c >> 2] = 1 <= d[c + 0] ? 16777215 : -1;
        for (c = d = a.u = 0; d < a.s; d++)
            for (e = 0; e < a.i; e++, c++) 16777215 == a.f[c] && a.u <= e && (a.u = e + 1)
    }
}
var Xh = [
        [0, 2, 0, 0, 1, 0, 0, 2, 2, 1, 1, 1, 2, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 1, 1, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 3, 1, 0],
        [0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0]
    ],
    Yh = [
        [0, 1, 1, 0, 0, 0, 0, 2, 1, 2, 0, 0, 2, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
            0, 0, 0, 0, 0, 0, 0, 1, 0, 2, 1, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 1, 0
        ],
        [0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0]
    ],
    D = new Zh,
    hf = new Zh;

function Zh() {
    this.N = new wa;
    this.P = this.Q = this.$a = this.R = 0
}
Zh.prototype.j = function(a, b, c) {
    this.N.j(a);
    this.R = b;
    this.$a = c;
    this.P = this.Q = 0
};
Zh.prototype.b = function(a, b, c, d, e) {
    var g, k, r, m, n, F, H, M = ea - this.R,
        E = this.N.i - this.R,
        ka = -1 < d ? 16777215 : 1,
        Ja = -1 < e ? 0 : 1,
        Ea = c.length;
    for (g = 0; g < Ea; g++, a += this.R + this.Q)
        if (n = c.charCodeAt(g) - 32, 0 != n) {
            96 <= n && (n = 31);
            0 != this.P && (a -= Xh[this.P - 1][n]);
            F = n * this.R;
            m = b * ea + a;
            for (r = 0; r < this.$a; r++, m += M, F += E)
                for (k = 0; k < this.R; k++, m++, F++) H = this.N.f[F], H == ka ? C[m] = d : H == Ja && (C[m] = e);
            0 != this.P && (a -= Yh[this.P - 1][n])
        }
    this.P = 0
};

function yf(a, b, c, d, e, g) {
    b -= d.length * (a.R + a.Q) >> 1;
    c -= a.$a >> 1;
    a.b(b, c, d, e, g)
}

function hg(a, b, c, d, e, g) {
    var k = D;
    k.Q = g;
    k.b(a, b, c, d, e);
    k.Q = 0
}
Zh.prototype.M = function(a, b, c, d, e, g, k, r, m, n, F, H, M) {
    d = d * k >> 8;
    e = e * k >> 8;
    g = g * k >> 8;
    k = 255 - k;
    r = r * F >> 8;
    m = m * F >> 8;
    n = n * F >> 8;
    F = 255 - F;
    var E, ka, Ja, Ea, Ca, Z, X, $, ob, pb = ea - H,
        Xa = 255 != k ? 16777215 : 1,
        ta = 255 != F ? 0 : 1,
        ya = c.length;
    for (E = 0; E < ya; E++, a += H + this.Q)
        if (Ca = c.charCodeAt(E) - 32, 0 != Ca) {
            96 <= Ca && (Ca = 31);
            0 != this.P && (a -= z(Xh[this.P - 1][Ca] * H / this.R));
            Z = Ca * this.R;
            Ea = b * ea + a;
            for (Ja = 0; Ja < M; Ja++, Ea += pb)
                for ($ = z(Ja * this.$a / M) * this.N.i + Z << 8, ob = z((this.R << 8) / H), ka = 0; ka < H; ka++, Ea++, $ += ob) X = this.N.f[$ >> 8], X == Xa ? (X = C[Ea], C[Ea] = d + ((X >> 16 &
                    255) * k >> 8) << 16 | e + ((X >> 8 & 255) * k >> 8) << 8 | g + ((X & 255) * k >> 8)) : X == ta && (X = C[Ea], C[Ea] = r + ((X >> 16 & 255) * F >> 8) << 16 | m + ((X >> 8 & 255) * F >> 8) << 8 | n + ((X & 255) * F >> 8));
            0 != this.P && (a -= z(Yh[this.P - 1][Ca] * H / this.R))
        }
    this.P = 0
};

function Gf(a, b, c, d, e, g, k, r, m, n, F, H, M, E) {
    b -= d.length * (M + a.Q) >> 1;
    a.M(b, c - (E >> 1), d, e, g, k, r, m, n, F, H, M, E)
}

function Vf(a) {
    var b, c, d, e, g;
    b = 0 * ea;
    for (c = 384 * ea; b < c; b++) d = C[b] >> 16 & 255, e = ((0 - d) * a >> 8) + d, d = C[b] >> 8 & 255, g = ((0 - d) * a >> 8) + d, d = C[b] & 255, d = ((0 - d) * a >> 8) + d, C[b] = e << 16 | g << 8 | d
}
var Xf = 0;

function qh(a, b, c) {
    var d = Xf,
        e = 0,
        g = 0,
        k = 0;
    1 == d ? (d = a >> 16 & 255, e = (((b >> 16 & 255) - d) * c >> 8) + d, d = a >> 8 & 255, g = (((b >> 8 & 255) - d) * c >> 8) + d, d = a & 255, k = (((b & 255) - d) * c >> 8) + d) : 2 == d ? (e = ((b >> 16 & 255) * c >> 8) + (a >> 16 & 255), 255 < e && (e = 255), g = ((b >> 8 & 255) * c >> 8) + (a >> 8 & 255), 255 < g && (g = 255), k = ((b & 255) * c >> 8) + (a & 255), 255 < k && (k = 255)) : 3 == d ? (e = (a >> 16 & 255) - ((b >> 16 & 255) * c >> 8), 0 > e && (e = 0), g = (a >> 8 & 255) - ((b >> 8 & 255) * c >> 8), 0 > g && (g = 0), k = (a & 255) - ((b & 255) * c >> 8), 0 > k && (k = 0)) : 4 == d ? (e = (b >> 16 & 255) * (a >> 16 & 255) >> 8, g = (b >> 8 & 255) * (a >> 8 & 255) >> 8, k = (b & 255) * (a & 255) >>
        8) : 5 == d ? (d = a >> 16 & 255, e = d + ((b >> 16 & 255) * d * c >> 16), 255 < e && (e = 255), d = a >> 8 & 255, g = d + ((b >> 8 & 255) * d * c >> 16), 255 < g && (g = 255), d = a & 255, k = d + ((b & 255) * d * c >> 16), 255 < k && (k = 255)) : 6 == d && (d = a >> 16 & 255, e = d + (c - (2 * d * c >> 8)), d = a >> 8 & 255, g = d + (c - (2 * d * c >> 8)), d = a & 255, k = d + (c - (2 * d * c >> 8)));
    return e << 16 | g << 8 | k
}
var dg = 0;

function L(a, b, c, d, e) { //Line-drawing code
    c -= a;
    d -= b;
    var g, k;
    Kg(c) >= Kg(d) ? (k = z(Kg(c)), 0 != k && (d = z(65536 * d / k)), c = 0 <= c ? 65536 : -65536) : (k = z(Kg(d)), 0 != k && (c = z(65536 * c / k)), d = 0 <= d ? 65536 : -65536);
    a = z(65536 * a) + 32768;
    for (b = z(65536 * b) + 32768; 0 <= k; k--, a += c, b += d) 0 > a || ea <= a >> 16 || 0 > b || fa <= b >> 16 || (g = (b >> 16) * ea + (a >> 16), C[g] = 0 == Xf ? e : qh(C[g], e, e >> 24 & 255))
}

function bg(a, b, c, d, e) { //Rectangle-drawing code (unfilled)
    c--;
    d--;
    L(a, b, a + c, b, e);
    L(a, b + d, a + c, b + d, e);
    L(a, b, a, b + d, e);
    L(a + c, b, a + c, b + d, e)
}

function If(a, b, c, d, e) {
    bg(a - (c >> 1), b - (d >> 1), c, d, e)
}

function V(a, b, c, d, e) {
    var g;
    c = a + c > ea ? ea : ~~(a + c);
    d = b + d > fa ? fa : ~~(b + d);
    a = 0 > a ? 0 : ~~a;
    b = (0 > b ? 0 : ~~b) * ea + a;
    g = ea - (c - a);
    c = b + c - a;
    d *= ea;
    if (0 == Xf)
        for (; b < d; b += g, c += ea)
            for (; b < c; b++) C[b] = e;
    else
        for (; b < d; b += g, c += ea)
            for (; b < c; b++) C[b] = qh(C[b], e, e >> 24 & 255)
}

function Hf(a, b, c, d, e) {
    V(a - (c >> 1), b - (d >> 1), c, d, e)
}

function ag(a, b, c, d, e, g, k, r, m) {
    var n, F;
    if (0 != d && 0 != e)
        for (r = ~~((r << 8) / d), m = ~~((m << 8) / e), g <<= 8, k <<= 8, 0 > b && (g += r * -b), 0 > c && (k += m * -c), d = b + d > ea ? ea : ~~(b + d), e = c + e > fa ? fa : ~~(c + e), b = 0 > b ? 0 : ~~b, c = (0 > c ? 0 : ~~c) * ea + b, n = ea - (d - b), d = c + d - b, e *= ea; c < e; c += n, d += ea, k += m)
            for (b = ((k >> 8) * a.i << 8) + g; c < d; c++, b += r) F = a.f[b >> 8], -1 != F && (C[c] = F)
}

function eg(a, b, c, d, e, g, k, r, m, n) {
    var F, H, M, E;
    if (0 != d && 0 != e) {
        r = z((r << 8) / d);
        m = z((m << 8) / e);
        g <<= 8;
        k <<= 8;
        0 > b && (g += r * -b);
        0 > c && (k += m * -c);
        d = b + d > ea ? ea : z(b + d);
        e = c + e > fa ? fa : z(c + e);
        b = 0 > b ? 0 : z(b);
        c = 0 > c ? 0 : z(c);
        var ka = n >> 24 & 255,
            Ja = n >> 16 & 255,
            Ea = n >> 8 & 255,
            Ca = n & 255,
            Z, X, $;
        if (0 == dg)
            for (; c < e; c++, k += m)
                for (H = c * ea + b, M = ((k >> 8) * a.i << 8) + g, F = b; F < d; F++, H++, M += r) E = a.f[M >> 8], -1 != E && (Z = Ja * (E >> 16 & 255) >> 8, X = Ea * (E >> 8 & 255) >> 8, $ = Ca * (E & 255) >> 8, 0 == Xf ? C[H] = Z << 16 | X << 8 | $ : 1 == Xf ? (E = C[H] >> 16 & 255, Z = ((Z - E) * ka >> 8) + E, E = C[H] >> 8 & 255, X = ((X - E) * ka >> 8) +
                    E, E = C[H] & 255, $ = (($ - E) * ka >> 8) + E, C[H] = Z << 16 | X << 8 | $) : 2 == Xf ? (Z = (Z * ka >> 8) + (C[H] >> 16 & 255), 255 < Z && (Z = 255), X = (X * ka >> 8) + (C[H] >> 8 & 255), 255 < X && (X = 255), $ = ($ * ka >> 8) + (C[H] & 255), 255 < $ && ($ = 255), C[H] = Z << 16 | X << 8 | $) : 5 == Xf && (E = C[H] >> 16 & 255, Z = E + (Z * E * ka >> 16), 255 < Z && (Z = 255), E = C[H] >> 8 & 255, X = E + (X * E * ka >> 16), 255 < X && (X = 255), E = C[H] & 255, $ = E + ($ * E * ka >> 16), 255 < $ && ($ = 255), C[H] = Z << 16 | X << 8 | $));
        else if (1 == dg)
            for (; c < e; c++, k += m)
                for (H = c * ea + b, M = ((k >> 8) * a.i << 8) + g, F = b; F < d; F++, H++, M += r) E = ka * (a.f[M >> 8] & 255) >> 8, 0 != E && (1 == Xf ? (Z = C[H] >> 16 & 255, Z =
                    ((Ja - Z) * E >> 8) + Z, X = C[H] >> 8 & 255, X = ((Ea - X) * E >> 8) + X, $ = C[H] & 255, $ = ((Ca - $) * E >> 8) + $, C[H] = Z << 16 | X << 8 | $) : 2 == Xf ? (Z = (C[H] >> 16 & 255) + (Ja * E >> 8), 255 < Z && (Z = 255), X = (C[H] >> 8 & 255) + (Ea * E >> 8), 255 < X && (X = 255), $ = (C[H] & 255) + (Ca * E >> 8), 255 < $ && ($ = 255), C[H] = Z << 16 | X << 8 | $) : 3 == Xf ? (Z = (C[H] >> 16 & 255) - E, 0 > Z && (Z = 0), X = (C[H] >> 8 & 255) - E, 0 > X && (X = 0), $ = (C[H] & 255) - E, 0 > $ && ($ = 0), C[H] = Z << 16 | X << 8 | $) : C[H] = qh(C[H], n, E));
        else if (2 == dg)
            for (; c < e; c++, k += m)
                for (H = c * ea + b, M = ((k >> 8) * a.i << 8) + g, F = b; F < d; F++, H++, M += r) E = a.f[M >> 8], 0 != E && (Z = E >> 16 & 255, X = E >> 8 & 255,
                    $ = E & 255, C[H] = Z == X && X == $ ? Ja * Z >> 8 << 16 | Ea * X >> 8 << 8 | Ca * $ >> 8 : Z << 16 | X << 8 | $);
        else if (3 == dg)
            for (; c < e; c++, k += m)
                for (H = c * ea + b, M = ((k >> 8) * a.i << 8) + g, F = b; F < d; F++, H++, M += r) E = ka * (a.f[M >> 8] & 255) >> 8, 0 != E && (1 == Xf ? C[H] = ((255 - C[H]) * E >> 8) + C[H] : 2 == Xf ? (Z = (C[H] >> 16 & 255) + (Ja * E >> 8), 255 < Z && (Z = 255), X = (C[H] >> 8 & 255) + (Ea * E >> 8), 255 < X && (X = 255), $ = (C[H] & 255) + (Ca * E >> 8), 255 < $ && ($ = 255), C[H] = Z << 16 | X << 8 | $) : 3 == Xf && (E = C[H] - E, 0 > E && (E = 0), C[H] = E))
    }
}

function J(a, b, c, d, e, g, k, r, m, n) {
    eg(a, b - (d >> 1), c - (e >> 1), d, e, g, k, r, m, n)
}

function Og(a, b, c, d, e) {
    var g;
    c = a + c > ea ? ea : ~~(a + c);
    d = b + d > fa ? fa : ~~(b + d);
    a = 0 > a ? 0 : ~~a;
    b = (0 > b ? 0 : ~~b) * ea + a;
    g = ea - (c - a);
    c = b + c - a;
    for (d *= ea; b < d; b += g, c += ea)
        for (; b < c; b++) 0 == (C[b] & 16777215) && (C[b] = e)
}

function Yf(a, b, c, d) {
    var e = Qa,
        g, k, r, m, n, F = 0 > a ? -a : 0,
        H = a + 24 > ea ? 24 - (a + 24 - ea) : 24,
        M = b + 24 > fa ? 24 - (b + 24 - fa) : 24;
    for (k = 0 > b ? -b : 0; k < M; k++)
        for (r = (b + k) * ea + (a + F), m = (0 + z(24 * k / 24)) * e.i + c, g = F; g < H; g++, r++) n = m + z(24 * g / 24), 16711680 == e.f[n] && (C[r] = d)
}

function lh(a, b, c, d, e, g, k, r) {
    var m = ig(Kg(e - a >> 16), Kg(g - b >> 16)) + 1;
    e = z((e - a) / m);
    g = z((g - b) / m);
    k = z((k - c) / m);
    r = z((r - d) / m);
    c = z(c);
    d = z(d);
    for (var n, F, H = 0; H < m; H++, a += e, b += g, c += k, d += r) n = a >> 16, F = b >> 16, 0 > F || fa <= F || (jh[F] > n && (jh[F] = n, nh[F] = c, ph[F] = d), kh[F] < n && (kh[F] = n, mh[F] = c, oh[F] = d))
}
var $h = new Qg;

function Y(a, b, c, d, e) {
    $h.q(a, b);
    c -= Xg($h);
    d *= c;
    e *= c;
    a.x += $h.x * d;
    a.y += $h.y * d;
    b.x -= $h.x * e;
    b.y -= $h.y * e
}

function W(a, b, c, d) {
    $h.q(a, b);
    b.set(a);
    $h.y += c;
    Tg($h, d);
    a.add($h)
}
var Ef = !1,
    xg = !1,
    Ug = !1,
    Nh = !1,
    Oh = !1,
    Ph = !1,
    Qh = !1,
    Lg = !1,
    $f = 0,
    cg = 0,
    fg = 0,
    Rh = 0,
    Sh = 0;

function Wf(a, b, c, d) {
    return cg < a || a + c <= cg || fg < b || b + d <= fg ? !1 : !0
}

function Df(a, b, c, d) {
    return Wf(a - c / 2, b - d / 2, c, d)
}

function ai(a) {
    var b = We.getBoundingClientRect();
    Rh = z(a.clientX - b.left);
    Sh = z(a.clientY - b.top)
}
vh.onmousemove = ai;
vh.onmousedown = function(a) {
    ai(a);
    bi = !1;
    if (!(0 > Rh || ea <= Rh || 0 > Sh || fa <= Sh) && (bi = !0, 0 == a.button && (Nh = !0), 2 == a.button && (Qh = !0), bi)) return !1
};
vh.onmouseup = function(a) {
    ai(a);
    0 == a.button && (Nh = !1);
    2 == a.button && (Qh = !1)
};
vh.oncontextmenu = function() {
    if (bi) return !1
};

function ci(a) {
    for (var b = 0, c = 0, d = We; null !== d; d = d.offsetParent) b += d.offsetLeft, c += d.offsetTop;
    a = a.touches;
    Rh = z(a[0].pageX - b);
    Sh = z(a[0].pageY - c)
}
vh.ontouchstart = function(a) {
    ci(a);
    bi = Qh = Nh = !1;
    if (!(0 > Rh || ea <= Rh || 0 > Sh || fa <= Sh)) return Nh = bi = !0, 1 < a.touches.length && (Qh = !0), !1
};
vh.ontouchmove = function(a) {
    ci(a);
    if (bi) return !1
};
vh.ontouchend = function(a) {
    1 > a.touches.length && (Nh = !1);
    Qh = !1;
    if (bi) return !1
};
vh.ontouchcancel = function() {
    Qh = Nh = bi = !1
};
var Ze = Array(256),
    $e = Array(256),
    af = Array(256),
    bf = Array(256),
    cf = Array(256);
vh.onkeydown = function(a) {
    var b = a.keyCode;
    65 <= b & 90 >= b ? a.shiftKey || (b += 32) : b = a.shiftKey ? cf[b] : bf[b];
    0 <= b && 256 > b && (af[b] = !0, $e[b] = !0);
    if (0 != b && bi) return !1
};
vh.onkeyup = function(a) {
    var b = a.keyCode;
    65 <= b & 90 >= b ? a.shiftKey || (b += 32) : b = a.shiftKey ? cf[b] : bf[b];
    0 <= b && 256 > b && (af[b] = !1);
    if (0 != b && bi) return !1
};
var bi = !1,
    wg = "",
    yg = new wa,
    Fg = Array(100),
    Eg = 0,
    di = zg(80, 79, 83, 84),
    Ag = zg(38, 98, 61),
    Bg = zg(38, 99, 61),
    Cg = zg(38, 100, 61),
    Gg = zg(38, 101, 61);
zg(38, 102, 61);
zg(38, 103, 61);
zg(38, 104, 61);
zg(38, 105, 61);
zg(38, 106, 61);
zg(38, 107, 61);
zg(111, 107);
var Wh = zg(69, 82, 82, 79, 82),
    ei = zg(61),
    fi = zg(10),
    gi = zg(67, 111, 110, 116, 101, 110, 116, 45, 84, 121, 112, 101),
    hi = zg(97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 120, 45, 119, 119, 119, 45, 102, 111, 114, 109, 45, 117, 114, 108, 101, 110, 99, 111, 100, 101, 100);

function Dg(a) {
    for (var b = Eg = 0; 100 > b; b++) Fg[b] = "";
    try {
        var c = new XMLHttpRequest;
        c.onreadystatechange = function() {
            if (4 == c.readyState)
                if (200 == c.status) {
                    var a, b, d = 0,
                        r = c.responseText.length;
                    for (a = 0; a < r; a++)
                        if (b = c.responseText[a], b == ei) {
                            for (a += 1; a < r; a++) {
                                b = c.responseText[a];
                                if (b == fi) break;
                                Fg[d] += b
                            }
                            d++
                        } else
                            for (; a < r && c.responseText[a] != fi; a++);
                    Eg = 1
                } else Eg = -1
        };
        c.open(di, a, !0);
        c.setRequestHeader(gi, hi);
        c.send("")
    } catch (d) {
        Eg = -2
    }
}

function Qg() {
    this.y = this.x = 0
}
Qg.prototype.set = function(a) {
    this.x = a.x;
    this.y = a.y;
    return this
};

function Rg(a, b, c) {
    a.x = b;
    a.y = c
}
Qg.prototype.add = function(a) {
    this.x += a.x;
    this.y += a.y;
    return this
};

function eh(a, b, c) {
    a.x = b.x + c.x;
    a.y = b.y + c.y
}
Qg.prototype.sub = function(a) {
    this.x -= a.x;
    this.y -= a.y;
    return this
};
Qg.prototype.q = function(a, b) {
    this.x = a.x - b.x;
    this.y = a.y - b.y;
    return this
};

function Tg(a, b) {
    a.x *= b;
    a.y *= b
}

function dh(a) {
    var b = a.x;
    a.x = a.y;
    a.y = -b
}

function Sg(a) {
    return Math.sqrt(a.x * a.x + a.y * a.y)
}

function Xg(a) {
    var b = Sg(a);
    if (0 == b) return 0;
    a.x /= b;
    a.y /= b;
    return b
}

function Vg(a) {
    var b = Math.acos(a.x / Math.sqrt(a.x * a.x + a.y * a.y));
    0 < a.y && (b = Wg - b);
    return b
}
var df = new Float32Array(1024),
    ef = 0,
    ff = 0;

function A(a) {
    ef += ff;
    ef &= 1023;
    return df[ef] * a
}

function N(a, b) {
    ef += ff;
    ef &= 1023;
    return df[ef] * (b - a) + a
}

function Kf(a, b) {
    ef += ff;
    ef &= 1023;
    return 0.5 > df[ef] ? a : b
}

function $g(a) {
    ef += ff;
    ef &= 1023;
    return ~~(df[ef] * a)
}
var Xe = Array(513),
    Ye = 3.1415927, //pi
    Wg = 6.2831855; //2*pi

//function Kg: Returns input itself if input >= 0, otherwise returns -1*input. Effectively Math.abs(a)
function Kg(a) {
    return 0 > a ? -a : a
}

//function ig: return the higher value of the 2 input. Effectively Math.max(a,b)
function ig(a, b) {
    return a > b ? a : b
}

//function K: forces input a into a minimum of input b and a maximum of input c
//K(765, 10 ,999) = 765, K(5, 10 ,999) = 10, K(1262, 10 ,999) = 999
function K(a, b, c) {
    return a < b ? b : a > c ? c : a
}

function Zf(a, b, c) {
    return a < b ? c : a > c ? b : a
}

//Do I need a description for this?
function z(a) {
    return Math.floor(a)
};

//Change Zoom Level of canvas ingame
function GameResize()
{
    window.addEventListener('keyup', GR2, true);
}
function GR2(a)
{
  var b = a.keyCode;
  switch(b)
  {
    case 49:
    eZoom = 1;
    webFrame.setZoomFactor(eZoom);
    console.log("Zoom 1x");
    break;
    case 50:
    eZoom = 1.25;
    webFrame.setZoomFactor(eZoom);
    console.log("Zoom 1.25x");
    break;
    case 51:
    eZoom = 1.5;
    webFrame.setZoomFactor(eZoom);
    console.log("Zoom 1.5x");
    break;
    case 52:
    eZoom = 1.75;
    webFrame.setZoomFactor(eZoom);
    console.log("Zoom 1.75x");
    break;
    case 53:
    eZoom = 2;
    webFrame.setZoomFactor(eZoom);
    console.log("Zoom 2x");
    break;
  }
}

function BoxerWhipperSTR(Str) {
    if (Str > 400) {
        return (750 + 8 * (Str - 400));
    } else if (Str > 300) {
        return (350 + 4 * (Str - 300));
    } else if (Str > 200) {
        return (150 + 2 * (Str - 200));
    } else if (Str > 100) {
        return (Str - 50);
    } else {
        return z(Str / 2);
    }
}

function GladiatorDSStatAT(str, dex, option) {
    if (dex == 0 && str == 0) return 0;
    sum = str + dex;
    strPart = K(100 * str / sum, 0, 100);
    dexPart = K(100 * dex / sum, 0, 100);
    maxAT = Math.ceil(Math.min(str, strPart) + 2 * K(str - strPart, 0, strPart) + 4 * K(str - 2 * strPart, 0, strPart) + 8 * K(str - 3 * strPart, 0, strPart) + 16 * K(str - 4 * strPart, 0, strPart));
    minAT = Math.floor(Math.min(dex, dexPart) + 2 * K(dex - dexPart, 0, dexPart) + 4 * K(dex - 2 * dexPart, 0, dexPart) + 8 * K(dex - 3 * dexPart, 0, dexPart) + 16 * K(dex - 4 * dexPart, 0, dexPart));
    /* Useless since we won't use negative stats here.
    if (str >= 0 && dex < 0) {
        quotient = ~~(str / 100);
        remainder = str % 100;
        arr = [1, 0, 0, 1, 2];
        minAT = Math.pow(2, quotient) * Xf(dex, -remainder) + Math.pow(2, Xf(quotient - 1, 0)) * K(dex + remainder, -100, 0) + Math.pow(2, arr[quotient]) * K(dex + remainder + 100, -100, 0)
    }
    if (str < 0 && dex >= 0) {
        quotient = ~~(dex / 100);
        remainder = dex % 100;
        arr = [1, 0, 0, 1, 2];
        maxAT = Math.pow(2, quotient) * Xf(str, -remainder) + Math.pow(2, Xf(quotient - 1, 0)) * K(str + remainder, -100, 0) + Math.pow(2, arr[quotient]) * K(str + remainder + 100, -100, 0)
    }
    */
    if (option == 1) return maxAT;
    else return minAT;
}

function SniperAngleDEX(Dex, option)
{
    if(option == 1)
        r = 3;
    else
        r = 4;

    if (Dex > 200)
    {
        addedDmg = z(50 / r) + z(4 * (Dex - 200));
    }
    else
        if (Dex > 150)
        {
            addedDmg = z(50 / r) + z(2 * (Dex - 150));
        }
        else
            if (Dex > 100)
            {
                addedDmg = z(1.5 * (Dex - 100)) + z(50 / r);
            }
            else
                if (Dex > 50)
                {
                    addedDmg = z(0.5 * (Dex - 50)) + z(50 / r);
                }
                else
                    {
                        addedDmg = z(Dex / r);
                    }
    return addedDmg;
}
//echs deeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee
function randRange(min, max)
{
    return Math.random() * (max - min) + min;
}
//gud
function rANDOMfUNCTION (a)
{
    var rANDOMmATH;
    // is
    rANDOMmATH = a + a;
    // stuppid
    return rANDOMmATH - a - a;
}
function randomStats(aaa)
{
    return true;
    var totalStats = gc[aaa] + lc[aaa] + mc[aaa] + nc[aaa];
    gc[aaa] = z(randRange(0, totalStats));
    totalStats -= gc[aaa];
    lc[aaa] = z(randRange(0, totalStats));
    totalStats -= lc[aaa];
    mc[aaa] = z(randRange(0, totalStats));
    totalStats -= mc[aaa];
    nc[aaa] = totalStats;
    totalStats -= nc[aaa];
}
